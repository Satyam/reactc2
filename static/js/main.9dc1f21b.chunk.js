(this.webpackJsonpreactc2=this.webpackJsonpreactc2||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return d}));var a=n(14),o=n(1);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClick,n=void 0===t?function(){}:t,a=e.onLongPress,i=void 0===a?function(){}:a,c=e.ms,r=void 0===c?300:c,s=Object(o.useRef)(!1),d=Object(o.useRef)({}),u=Object(o.useCallback)((function(){i(d.current),d.current={},s.current=!1}),[i]),l=Object(o.useCallback)((function(e){e.persist(),d.current=e,s.current=setTimeout(u,r)}),[u,r]),m=Object(o.useCallback)((function(e){e.persist(),d.current=e,s.current&&(clearTimeout(s.current),n(d.current),s.current=!1,d.current={})}),[n]);return Object(o.useMemo)((function(){return{onMouseDown:l,onMouseUp:m,onMouseLeave:m,onTouchStart:l,onTouchEnd:m}}),[l,m])}var c=function(e){return!(e.button||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)&&(e.stopPropagation(),e.preventDefault(),!0)},r=function(e){var t=e.idSector,n=e.x,a=e.y,o=e.dir;return(o?[t,n,a,o].join("_"):[t,n,a].join("_")).replace(/\W/g,"_").replace(/(^\d)/,"_$1")},s=function(e,t){return"".concat(e,"__").concat(t).replace(/\W/g,"_").replace(/(^\d)/,"_$1")};function d(){var e=Object(o.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(a.a)(e,2),n=t[0],i=t[1];return Object(o.useEffect)((function(){var e=function(){return i({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n}},106:function(e,t,n){e.exports={sector:"styles_sector__1v7a1"}},108:function(e,t,n){e.exports={rate:"styles_rate__26o7Y"}},109:function(e,t){e.exports="data:image/gif;base64,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"},11:function(e,t,n){"use strict";var a=n(36);n.d(t,"clearAlarma",(function(){return a.a})),n.d(t,"clearAviso",(function(){return a.b})),n.d(t,"clearAvisos",(function(){return a.c})),n.d(t,"doSetAlarma",(function(){return a.d})),n.d(t,"setAlarma",(function(){return a.e})),n.d(t,"setAviso",(function(){return a.f}));var o=n(44);n.d(t,"setBloqueOcupado",(function(){return o.a}));var i=n(50);n.d(t,"addTrenToCelda",(function(){return i.a})),n.d(t,"doAddTrenToCelda",(function(){return i.b})),n.d(t,"doRemoveTrenFromCelda",(function(){return i.c})),n.d(t,"doSetCambio",(function(){return i.d})),n.d(t,"plainSetCambio",(function(){return i.e})),n.d(t,"removeTrenFromCelda",(function(){return i.f})),n.d(t,"setCambioManual",(function(){return i.h}));var c=n(61);n.d(t,"setEnclavamientos",(function(){return c.a}));var r=n(20);n.d(t,"setPlayRate",(function(){return r.d}));var s=n(55);n.d(t,"clearPendientes",(function(){return s.a})),n.d(t,"setPendiente",(function(){return s.b}));var d=n(83);n.o(d,"doSetLuzEstado")&&n.d(t,"doSetLuzEstado",(function(){return d.doSetLuzEstado})),n.o(d,"plainSetLuzEstado")&&n.d(t,"plainSetLuzEstado",(function(){return d.plainSetLuzEstado})),n.o(d,"setSenalManual")&&n.d(t,"setSenalManual",(function(){return d.setSenalManual}));var u=n(56);n.d(t,"doSetLuzEstado",(function(){return u.a})),n.d(t,"plainSetLuzEstado",(function(){return u.b})),n.d(t,"setSenalManual",(function(){return u.d}));n(27)},110:function(e,t,n){e.exports=n(154)},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return o.a})),n.d(t,"d",(function(){return o.b})),n.d(t,"f",(function(){return i.b})),n.d(t,"g",(function(){return c.b})),n.d(t,"e",(function(){return c.a})),n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return s.a})),n.d(t,"j",(function(){return s.b})),n.d(t,"l",(function(){return d.b})),n.d(t,"k",(function(){return d.a}));n(51);var a=n(52),o=n(45),i=n(60),c=n(30),r=function(e,t){return e.pendientes.includes(t)},s=(n(53),n(33)),d=n(54)},154:function(e,t,n){"use strict";n.r(t);var a,o,i,c,r,s,d=n(1),u=n.n(d),l=n(42),m=n.n(l),_=n(14),p=n(57),b=n(37),f=n(156),E=n(157),S=n(158),v=n(105),A=n(7),y=n(12),C=n(11),O=Object(A.c)({alarma:{},avisos:[]},(a={},Object(y.a)(a,C.doSetAlarma,(function(e,t){e.alarma=t.payload})),Object(y.a)(a,C.clearAlarma,(function(e){e.alarma={}})),Object(y.a)(a,C.setAviso,(function(e,t){e.avisos.unshift(t.payload)})),Object(y.a)(a,C.clearAviso,(function(e,t){var n=e.avisos.findIndex((function(e){return e.fecha===t.payload}));-1!==n&&e.avisos.splice(n,1)})),Object(y.a)(a,C.clearAvisos,(function(e){e.avisos=[]})),a)),j=n(34),x=n(65),h=n(4),V=n(44),g=Object(A.c)(h.B,Object(y.a)({},V.a,(function(e,t){var n=t.payload,a=n.idBloque,o=Object(x.a)(n,["idBloque"]);e[a]=Object(j.a)({},e[a],{},o)}))),W=Object(A.c)(h.C,(o={},Object(y.a)(o,C.plainSetCambio,(function(e,t){var n=t.payload,a=n.idCelda,o=n.posicion;e[a].posicion=o})),Object(y.a)(o,C.setCambioManual,(function(e,t){var n=t.payload,a=n.idCelda,o=n.manual;e[a].manual=o})),Object(y.a)(o,C.doRemoveTrenFromCelda,(function(e,t){e[t.payload.idCelda].idTren=void 0})),Object(y.a)(o,C.doAddTrenToCelda,(function(e,t){var n=t.payload,a=n.idCelda,o=n.idTren;e[a].idTren=o})),o)),q=Object(A.c)(h.D,{}),N=n(20),w=Object(A.c)({enclavamientosActive:!0,showCoords:!0,showEstado:{show:!1},playRate:1,showTeletipo:!0},(i={},Object(y.a)(i,N.a,(function(e,t){e.enclavamientosActive=t.payload})),Object(y.a)(i,N.h,(function(e,t){e.showTeletipo=t.payload})),Object(y.a)(i,N.f,(function(e,t){e.showCoords=t.payload})),Object(y.a)(i,N.g,(function(e,t){e.showEstado=Object(j.a)({},t.payload,{show:!0})})),Object(y.a)(i,N.b,(function(e){e.showEstado={show:!1}})),Object(y.a)(i,N.e,(function(e,t){e.showConfig=t.payload})),Object(y.a)(i,N.d,(function(e,t){e.playRate=t.payload})),Object(y.a)(i,N.c,(function(e,t){e.currIdSector=t.payload})),i)),k=n(55),D=Object(A.c)([],(c={},Object(y.a)(c,k.b,(function(e,t){e.push(t.payload)})),Object(y.a)(c,k.a,(function(){return[]})),c)),B=Object(A.c)(h.E,{}),z=Object(A.c)(h.F,(r={},Object(y.a)(r,C.plainSetLuzEstado,(function(e,t){var n=t.payload,a=n.idSenal,o=n.luz,i=n.estado;e[a][o]=i})),Object(y.a)(r,C.setSenalManual,(function(e,t){var n=t.payload,a=n.idSenal,o=n.manual;e[a].manual=o})),r)),T=n(27),I=Object(A.c)({},(s={},Object(y.a)(s,T.d,(function(e,t){var n=t.payload;e[n.idTren]=n})),Object(y.a)(s,T.g,(function(e,t){var n=t.payload;e[n.idTren]=Object(j.a)({},e[n.idTren],{},n)})),Object(y.a)(s,T.e,(function(e,t){delete e[t.payload]})),s)),M=n(9),L=n(36),J=n(51),K=n(52),R=function(e){return Object(M.useSelector)((function(t){return Object(K.b)(t,e)}))},U=n(50),Q=n(45),F=function(e){return Object(M.useSelector)((function(t){return Object(Q.a)(t,e)}))},H=function(e){var t=Object(M.useSelector)((function(t){return Object(Q.b)(t,e)})),n=Object(M.useDispatch)(),a=Object(d.useCallback)((function(){return n(Object(U.h)(e,!t))}),[e,n,t]);return[t,a]},Y=function(e){var t=Object(M.useDispatch)();return function(n){return t(Object(U.g)(e,n))}},Z=n(61),G=n(60),P=function(){var e=Object(M.useDispatch)();return function(t,n,a){return e(Object(Z.a)(t,n,a))}},X=n(30),$=function(){var e=Object(M.useSelector)(X.g),t=Object(M.useDispatch)(),n=Object(d.useCallback)((function(){return t(Object(N.h)(!e))}),[t,e]);return[e,n]},ee=function(){var e=Object(M.useSelector)(X.e),t=Object(M.useDispatch)(),n=Object(d.useCallback)((function(){return t(Object(N.f)(!e))}),[t,e]);return[e,n]},te=function(){var e=Object(M.useSelector)(X.d),t=Object(M.useDispatch)(),n=Object(d.useCallback)((function(){return t(Object(N.e)(!e))}),[t,e]);return[e,n]},ne=function(){var e=Object(M.useSelector)(X.f),t=Object(M.useDispatch)();return{estado:e,hideEstado:function(){return t(Object(N.b)())},showEstado:function(e){return t(Object(N.g)(e))}}},ae=n(53),oe=function(e){return Object(M.useSelector)((function(t){return Object(ae.a)(t,e)}))},ie=function(){return Object(M.useSelector)(ae.b)},ce=n(33),re=n(56),se=function(e){return Object(M.useSelector)((function(t){return Object(ce.a)(t,e)}))},de=n(54),ue=Object(A.a)({reducer:{alertas:O,bloques:g,celdas:W,enclavamientos:q,options:w,pendientes:D,sectores:B,senales:z,trenes:I}}),le=n(10),me=n(21),_e=n.n(me),pe=n(70),be=n(94),fe=n(43),Ee=n(95);function Se(){return u.a.createElement("svg",{viewBox:"0 0 32 32",className:_e.a.svg},u.a.createElement("path",{d:"M 16 16 L 32 0",className:_e.a.alt}),u.a.createElement("path",{d:"M 16 0 V 16 32",className:_e.a.main}))}function ve(){return u.a.createElement("svg",{viewBox:"0 0 32 32",className:_e.a.svg},u.a.createElement("path",{d:"M 16 0 V 16 16",className:_e.a.alt}),u.a.createElement("path",{d:"M 16 32 V 16 16 L 32 0",className:_e.a.main}))}function Ae(){return u.a.createElement("svg",{viewBox:"0 0 32 32",className:_e.a.svg},u.a.createElement("path",{d:"M 16 16 V 16 0",className:_e.a.alt}),u.a.createElement("path",{d:"M 16 16 L 32 0",className:_e.a.alt}),u.a.createElement("path",{d:"M 16 32 V 16 16 L 0 0",className:_e.a.main}))}function ye(){return u.a.createElement("svg",{viewBox:"0 0 32 32",className:_e.a.svg},u.a.createElement("path",{d:"M 16 16 L 32 0",className:_e.a.alt}),u.a.createElement("path",{d:"M 16 16 L 0 0",className:_e.a.alt}),u.a.createElement("path",{d:"M 16 32 V 16 0",className:_e.a.main}))}function Ce(){return u.a.createElement("svg",{viewBox:"0 0 32 32",className:_e.a.svg},u.a.createElement("path",{d:"M 16 16 V 16 0",className:_e.a.alt}),u.a.createElement("path",{d:"M 16 16 L 0 0",className:_e.a.alt}),u.a.createElement("path",{d:"M 16 32 V 16 16 L 32 0",className:_e.a.main}))}var Oe=n(46),je=n.n(Oe);function xe(){var e=function(){var e=Object(M.useDispatch)();return[Object(M.useSelector)(J.b),function(){return e(Object(L.c)())},function(t){return e(Object(L.b)(t))}]}(),t=Object(_.a)(e,3),n=t[0],a=t[1],o=t[2],i=$(),c=Object(_.a)(i,2)[1],r=Object(d.useState)(!1),s=Object(_.a)(r,2),l=s[0],m=s[1];return n.length?u.a.createElement(f.a,{className:je.a.fixed,size:"sm"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Fecha"),u.a.createElement("th",null,"Celda"),u.a.createElement("th",null,"Tren"),u.a.createElement("th",null,"Mensaje"),u.a.createElement("th",null,u.a.createElement(E.a,null,u.a.createElement(S.a,{type:"checkbox",checked:l,onChange:function(e){return m((function(e){return!e}))}}),"\xa0Ver Info")),u.a.createElement("th",{className:je.a.buttons},u.a.createElement(v.a,{className:je.a.close,title:"Borrar todas las notificaciones",onClick:function(e){return Object(le.c)(e)&&a()},size:"sm"},u.a.createElement(fe.b,null)),u.a.createElement(v.a,{close:!0,onClick:function(e){return Object(le.c)(e)&&c()},title:"Cerrar Teletipo",size:"sm"})))),u.a.createElement("tbody",null,n.filter((function(e){return!!l||e.nivel!==h.k})).map((function(e){return u.a.createElement("tr",{className:je.a[e.nivel],key:e.fecha},u.a.createElement("td",null,new Date(e.fecha).toLocaleString()),u.a.createElement("td",null,e.idCelda),u.a.createElement("td",null,e.idTren),u.a.createElement("td",{colSpan:2},e.msg),u.a.createElement("td",null,u.a.createElement(fe.b,{onClick:(t=e.fecha,function(e){return Object(le.c)(e)&&o(t)})})));var t})))):u.a.createElement("p",{className:je.a.fixed},"No hay mensajes")}var he=n(6),Ve=n.n(he),ge={N:50,NE:100,E:100,SE:100,S:50,SW:0,W:0,NW:0},We={N:0,NE:0,E:50,SE:100,S:100,SW:100,W:50,NW:0},qe={N:270,NE:315,E:0,SE:45,S:90,SW:135,W:180,NW:225},Ne=["N","NE","E","SE","S","SW","W","NW"],we=n(47),ke=n.n(we),De=["","verde","amarillo","rojo"];function Be(e){var t=e.idSenal,n=e.placement,a=se(t),o=ne().showEstado;if(!a)return null;var i=a.dir,c=a.centro,r=a.izq,s=a.der,d=38;return u.a.createElement("g",{className:Ve()(ke.a.senal,Object(y.a)({},ke.a.manual,!a.soloManual&&a.manual)),transform:"rotate(".concat(qe[i],", ").concat(50,", ").concat(50,")"),onClick:function(e){return Object(le.c)(e)&&o({tipo:h.v,idCelda:Object(le.a)({idSector:a.idSector,x:a.x,y:a.y}),idSenal:Object(le.a)(a),placement:n})}},u.a.createElement("line",{x1:95,y1:d,x2:82,y2:d}),u.a.createElement("line",{x1:95,y1:33,x2:95,y2:43}),u.a.createElement("circle",{className:ke.a[De[c]],cx:r||s?77:85,cy:d,r:5}),r&&u.a.createElement("circle",{className:ke.a[De[r]],cx:85,cy:43,r:5}),s&&u.a.createElement("circle",{className:ke.a[De[s]],cx:85,cy:33,r:5}))}var ze=n(38),Te=n.n(ze);function Ie(e){var t=e.dir,n=e.estilo,a=void 0===n?"tramo-normal":n;return u.a.createElement("line",{x1:50,y1:50,x2:ge[t],y2:We[t],className:Te.a[a]})}function Me(e){var t=e.idCelda,n=F(t),a=R(n.idBloque)||n.idTren;return u.a.createElement("g",null,n.puntas.map((function(e,t){return u.a.createElement(Ie,{dir:e,key:t,estilo:a?"tramo-ocupado":"tramo-normal"})})))}function Le(e){var t=e.idCelda,n=F(t),a=R(n.idBloque)||n.idTren;return u.a.createElement("g",null,u.a.createElement(Ie,{key:"punta",dir:n.punta,estilo:a?"tramo-ocupado":"tramo-normal"}),Object.keys(n.ramas).map((function(e){return u.a.createElement(Ie,{key:e,dir:n.ramas[e],estilo:n.posicion===e?a?"tramo-ocupado":"tramo-normal":"tramo-muerto"})})))}function Je(e){return u.a.createElement(Le,e)}function Ke(e){var t=e.idCelda,n=F(t),a=R(n.idBloque)||n.idTren;return u.a.createElement("g",null,u.a.createElement(Ie,{dir:n.punta,estilo:a?"tramo-ocupado":"tramo-normal"}),u.a.createElement("circle",{cx:50,cy:50,r:10,fill:a?"yellow":"black"}))}function Re(e){var t=e.idCelda,n=F(t),a=R(n.idBloque)||n.idTren;return u.a.createElement("g",null,n.linea1.puntas.map((function(e,t){return u.a.createElement(Ie,{dir:e,key:"l1".concat(t),estilo:a?"tramo-ocupado":"tramo-normal"})})),n.linea2.puntas.map((function(e,t){return u.a.createElement(Ie,{dir:e,key:"l1".concat(t),estilo:a?"tramo-ocupado":"tramo-normal"})})))}Me.whyDidYouRender=!1,Le.whyDidYouRender=!1;var Ue=n(58),Qe=n.n(Ue);function Fe(e){var t=e.celda,n=function(){var e=Object(M.useDispatch)();return function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e(Object(T.a)(t,n,a))}}(),a=R(t.idBloque),o=function(e){return function(a){if(Object(le.c)(a)){if(t.idTren)return;n(t,e)}}},i=[];if(!t.idTren&&!a)switch(t.tipo){case h.x:case h.c:t.despachador.forEach((function(e){e===t.punta&&i.push(e),e===t.ramas[t.posicion]&&i.push(e)}));break;default:i=t.despachador}return!t.idTren&&u.a.createElement(u.a.Fragment,null,u.a.createElement("circle",{cx:50,cy:50,r:9,className:Qe.a.trenDespachador}),i.map((function(e){return u.a.createElement("g",{className:Qe.a.flechaDespachador,onClick:o(e),key:e,transform:"rotate(".concat(qe[e],", ").concat(50,", ").concat(50,")")},u.a.createElement("path",{d:"M 15,-8 L 23,0 15,8 z",transform:"translate(".concat(50,",").concat(50,")")}))})))}function He(e){var t,n=e.celda,a=(t=n.idTren,Object(M.useSelector)((function(e){return Object(de.a)(e,t)}))),o=a.speed/(a.maxSpeed||1);return u.a.createElement("g",{transform:"translate(".concat(42,", ").concat(42,")")},u.a.createElement("circle",{cx:8,cy:8,r:9,className:Qe.a.tren},u.a.createElement("title",null,"".concat(n.idTren,"\nVelocidad: ").concat(a.speed,"\nFalta: ").concat(a.falta))),o&&1!==o?u.a.createElement("path",{d:"M 8 0 A 8 8 90 1 0 8 16 z",fill:"orange"}):null,u.a.createElement(Ee.a,{color:o?"black":"red",size:"16px"}))}function Ye(e){var t,n=e.idCelda,a=e.cellsAcross,o=e.cellWidth,i=e.padLeft,c=e.padTop,r=F(n),s=Y(n),d=(t=r.idBloque,Object(M.useSelector)((function(e){return Object(K.a)(e,t)}))),l=ee(),m=Object(_.a)(l,1)[0],p=ne().showEstado,b=Object(le.d)({onClick:function(e){if(Object(le.c)(e))switch(r.tipo){case h.c:s(r.posicion===h.p?h.h:h.p);break;case h.x:switch(r.posicion){case h.l:s(h.d);break;case h.d:s(h.g);break;case h.g:s(h.l)}}},onLongPress:function(e){Object(le.c)(e)&&p({tipo:r.tipo,idCelda:n,placement:f})}});if(!o||!r)return null;var f=r.x>a/2?"left":"right",E=r.desc||(m?"[".concat(r.x,",").concat(r.y,"]"):""),S=[];r.descr&&S.push("Celda: ".concat(r.descr)),S.push("Coordenadas: [".concat(r.x,",").concat(r.y,"]")),d&&S.push("Bloque: ".concat(d.descr)),r.idTren&&S.push("Con tren ".concat(r.idTren));var v={linea:Me,cambio:Le,paragolpe:Ke,cruce:Re,triple:Je}[r.tipo];return u.a.createElement("div",Object.assign({id:n,className:Ve()(Te.a.rect,Object(y.a)({},Te.a.manual,r.manual)),style:{left:i+r.x*o,top:r.y*o+c,width:o,height:o},title:S.join("\n")},b),u.a.createElement("svg",{viewBox:"0 0 ".concat(100," ").concat(100),width:o,height:o,className:Te.a.svg},u.a.createElement("text",{x:"0",y:"95",className:Te.a.text},E),d&&u.a.createElement("text",{textAnchor:"end",x:95,y:95,className:Te.a.text},d.descr),u.a.createElement(v,{idCelda:n}),Ne.map((function(e){return u.a.createElement(Be,{key:e,idSenal:Object(le.a)(Object(j.a)({},r,{dir:e})),placement:f})})),Array.isArray(r.despachador)&&u.a.createElement(Fe,{celda:r}),r.idTren?u.a.createElement(He,{celda:r}):null))}Ye.whyDidYouRender=!1;var Ze=n(106),Ge=n.n(Ze);function Pe(e){var t=e.idSector,n=oe(t),a=function(e){return Object(M.useSelector)((function(t){return Object(Q.c)(t,e)}))}(t),o=Object(le.e)(),i=n.ancho,c=n.descrCorta,r=n.alto,s=Math.min(Math.floor(o.width/i),i>8?100:200),l=(o.width-i*s)/2;return Object(d.useEffect)((function(){document.title="CTC - ".concat(c)})),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:Ge.a.sector},a.map((function(e){return u.a.createElement(Ye,{key:e.idCelda,idCelda:e.idCelda,cellsAcross:i,cellWidth:s,padLeft:l,padTop:60})}))),u.a.createElement("div",{style:{height:(r+2)*s}}))}var Xe=n(176),$e=n(164),et=n(159),tt=n(165),nt=n(166),at=n(167),ot=n(168),it=n(169),ct=n(160),rt=n(19),st=n.n(rt);function dt(e){var t=e.celda,n=t.posicion,a=t.idCelda,o=Y(a),i=H(a),c=Object(_.a)(i,2),r=c[0],s=c[1];return u.a.createElement(et.a,null,u.a.createElement(ct.a,{className:st.a.cambio},u.a.createElement(v.a,{size:"sm",onClick:function(e){return Object(le.c)(e)&&o(h.p)},color:n===h.p?"primary":"outline-secondary"},u.a.createElement(Se,null)),u.a.createElement(v.a,{size:"sm",onClick:function(e){return Object(le.c)(e)&&o(h.h)},color:n===h.h?"primary":"outline-secondary"},u.a.createElement(ve,null))),u.a.createElement(v.a,{className:st.a.manual,size:"sm",color:r?"danger":"outline-info",onClick:function(e){return Object(le.c)(e)&&s()}},r?u.a.createElement(pe.b,null):u.a.createElement(pe.a,null)))}function ut(e){var t=e.celda,n=t.posicion,a=t.idCelda,o=Y(a),i=H(a),c=Object(_.a)(i,2),r=c[0],s=c[1];return u.a.createElement(et.a,null,u.a.createElement(ct.a,null,u.a.createElement(v.a,{size:"sm",onClick:function(e){return Object(le.c)(e)&&o(h.l)},color:n===h.l?"primary":"outline-secondary"},u.a.createElement(Ae,null)),u.a.createElement(v.a,{size:"sm",onClick:function(e){return Object(le.c)(e)&&o(h.d)},color:n===h.d?"primary":"outline-secondary"},u.a.createElement(ye,null)),u.a.createElement(v.a,{size:"sm",onClick:function(e){return Object(le.c)(e)&&o(h.g)},color:n===h.g?"primary":"outline-secondary"},u.a.createElement(Ce,null))),u.a.createElement(v.a,{className:st.a.manual,size:"sm",color:r?"danger":"outline-info",onClick:function(e){return Object(le.c)(e)&&s()}},r?u.a.createElement(pe.b,null):u.a.createElement(pe.a,null)))}var lt=n(161),mt=n(162),_t=n(163);function pt(e){var t=e.luz,n=e.estado,a=e.onSetEstado;return u.a.createElement(u.a.Fragment,null,u.a.createElement(ct.a,{vertical:!0},u.a.createElement(v.a,{size:"sm",color:n===h.s?"danger":"outline-danger",onClick:function(e){return Object(le.c)(e)&&a(t,h.s)}},u.a.createElement(be.a,null)),u.a.createElement(v.a,{size:"sm",color:n===h.a?"warning":"outline-warning",onClick:function(e){return Object(le.c)(e)&&a(t,h.a)}},u.a.createElement(be.a,null)),u.a.createElement(v.a,{size:"sm",color:n===h.y?"success":"outline-success",onClick:function(e){return Object(le.c)(e)&&a(t,h.y)}},u.a.createElement(be.a,null))))}function bt(e){var t=e.senal,n=t.izq,a=t.soloManual,o=t.centro,i=t.der,c=t.idSenal,r=function(){var e=Object(M.useDispatch)();return function(t,n,a){return e(Object(re.c)(t,n,a))}}(),s=function(e){var t=Object(M.useSelector)((function(t){return Object(ce.b)(t,e)})),n=Object(M.useDispatch)(),a=Object(d.useCallback)((function(){return n(Object(re.d)(e,!t))}),[e,n,t]);return[t,a]}(c),l=Object(_.a)(s,2),m=l[0],p=l[1],b=P(),f=function(e,t){(m||a)&&r(c,e,t),a&&b(c,h.v,!0)};return u.a.createElement(et.a,null,u.a.createElement(lt.a,null,u.a.createElement("div",{className:Ve()(Object(y.a)({},st.a.disabled,!a&&!m))},u.a.createElement(mt.a,null,u.a.createElement(_t.a,null,u.a.createElement("div",{className:Ve()(st.a.pushDown,Object(y.a)({},st.a.hidden,!n))},u.a.createElement(pt,{luz:"izq",estado:n,onSetEstado:f}))),u.a.createElement(_t.a,null,u.a.createElement("div",{className:Ve()(Object(y.a)({},st.a.hidden,!o))},u.a.createElement(pt,{luz:"centro",estado:o,onSetEstado:f}))),u.a.createElement(_t.a,null,u.a.createElement("div",{className:Ve()(st.a.senal,st.a.pushDown,Object(y.a)({},st.a.hidden,!i))},u.a.createElement(pt,{luz:"der",estado:i,onSetEstado:f}))))),!a&&u.a.createElement(mt.a,null,u.a.createElement(v.a,{className:st.a.manual,size:"sm",color:m?"danger":"outline-info",onClick:function(){p(),m&&b(c,h.v,!0)}},m?u.a.createElement(pe.b,null):u.a.createElement(pe.a,null)))))}function ft(){var e=ne().estado,t=e.show,n=Object(x.a)(e,["show"]);return t&&u.a.createElement(Et,n)}function Et(e){var t,n=e.idCelda,a=e.idSenal,o=e.placement,i=Object(d.useState)(),c=Object(_.a)(i,2),r=c[0],s=c[1],l=F(n),m=se(a),p=te(),b=Object(_.a)(p,1)[0],f=ne().hideEstado,E=(t=a||n,Object(M.useSelector)((function(e){return Object(G.a)(e,t)}))),S=Object(d.useState)(),A=Object(_.a)(S,2),y=A[0],C=A[1],O=m||l.tipo===h.c||l.tipo===h.x;r!==n&&(C(O?"Cmd.":a?"Se\xf1al":"Celda"),s(n));var j=function(e){y!==e&&C(e)},x=function(){return u.a.createElement(u.a.Fragment,null,m&&u.a.createElement(bt,{senal:m}),!m&&l.tipo===h.c&&u.a.createElement(dt,{celda:l}),!m&&l.tipo===h.x&&u.a.createElement(ut,{celda:l}))};return u.a.createElement(Xe.a,{isOpen:!(!b&&!O),target:n,placement:o},u.a.createElement($e.a,null,m?"Se\xf1al":"Celda"," ",l.x," ",l.y," ",m&&m.dir,u.a.createElement(v.a,{close:!0,className:st.a.close,onClick:function(e){return Object(le.c)(e)&&f()}})),u.a.createElement(et.a,null,b?u.a.createElement(u.a.Fragment,null,u.a.createElement(tt.a,{pills:!0,className:st.a.solapas},O&&u.a.createElement(nt.a,{title:"Mostrar Comandos"},u.a.createElement(at.a,{className:Ve()(st.a.solapa,{active:"Cmd."===y}),onClick:function(){j("Cmd.")}},"Cmd.")),m&&u.a.createElement(nt.a,{title:"Mostrar COnfiguraci\xf3n Se\xf1al"},u.a.createElement(at.a,{className:Ve()(st.a.solapa,{active:"Se\xf1al"===y}),onClick:function(){j("Se\xf1al")}},"Se\xf1al")),u.a.createElement(nt.a,{title:"Mostrar Configuraci\xf3n Celda"},u.a.createElement(at.a,{className:Ve()(st.a.solapa,{active:"Celda"===y}),onClick:function(){j("Celda")}},"Celda")),E&&u.a.createElement(nt.a,{title:"Mostrar Configuraci\xf3n Enclavamientos"},u.a.createElement(at.a,{className:Ve()(st.a.solapa,{active:"Encl."===y}),onClick:function(){j("Encl.")}},"Encl."))," "),u.a.createElement(ot.a,{activeTab:y},O&&u.a.createElement(it.a,{tabId:"Cmd."},u.a.createElement(x,null)),m&&u.a.createElement(it.a,{tabId:"Se\xf1al"},u.a.createElement("pre",null,JSON.stringify(m,null,2))),u.a.createElement(it.a,{tabId:"Celda"},u.a.createElement("pre",null,JSON.stringify(l,null,2))),E&&u.a.createElement(it.a,{tabId:"Encl."},u.a.createElement("pre",null,JSON.stringify(E,null,2))))):u.a.createElement(x,null)))}var St=n(80),vt=n.n(St);function At(){var e=function(){var e=Object(M.useDispatch)();return[Object(M.useSelector)(J.a),function(){return e(Object(L.a)())}]}(),t=Object(_.a)(e,2),n=t[0],a=n.idCelda,o=n.idTren,i=n.msg,c=n.time,r=t[1],s=function(){var e=Object(M.useDispatch)();return function(){return e(Object(T.c)())}}(),d=P();return!!a&&u.a.createElement(Xe.a,{isOpen:!!a,target:a},u.a.createElement($e.a,{className:vt.a.alarma},o,u.a.createElement(v.a,{close:!0,className:vt.a.close,onClick:function(e){Object(le.c)(e)&&(r(),s(),d(a,h.c))}})),u.a.createElement(et.a,null,u.a.createElement("p",null,new Date(c).toLocaleString()),i))}function yt(){var e=Object(b.e)().idSector,t=function(){var e=Object(M.useSelector)(X.a),t=Object(M.useDispatch)();return[e,function(e){return t(Object(N.c)(e))}]}(),n=Object(_.a)(t,2),a=n[0],o=n[1];return e!==a?(o(e),null):u.a.createElement(u.a.Fragment,null,u.a.createElement(ft,null),u.a.createElement(Pe,{idSector:e}),u.a.createElement(At,null))}var Ct=n(170),Ot=n(171),jt=n(172),xt=n(173),ht=n(177),Vt=n(178),gt=n(174),Wt=n(175),qt=n(108),Nt=n.n(qt);function wt(){var e=function(){var e=Object(M.useDispatch)();return function(){return e(Object(T.f)())}}(),t=function(){var e=Object(M.useSelector)(X.c),t=Object(M.useDispatch)();return[e,Object(d.useCallback)((function(e){return t(Object(N.d)(e))}),[t])]}(),n=Object(_.a)(t,2),a=n[0],o=n[1],i=Object(d.useState)(),c=Object(_.a)(i,2),r=c[0],s=c[1];return Object(d.useEffect)((function(){return a&&!r&&s(setInterval(e,1e3/a)),function(){r&&(clearInterval(r),s(0))}}),[e,r,a]),u.a.createElement(ct.a,{title:"Velocidad de la animaci\xf3n\n(ciclos por segundo)",className:Nt.a.rate},u.a.createElement(v.a,{outline:0!==a,color:a?"secondary":"danger",onClick:function(){return o(0)}},"0"),u.a.createElement(v.a,{outline:.5!==a,onClick:function(){return o(.5)}},"\xbd"),u.a.createElement(v.a,{outline:1!==a,onClick:function(){return o(1)}},"1"),u.a.createElement(v.a,{outline:2!==a,onClick:function(){return o(2)}},"2"),u.a.createElement(v.a,{outline:5!==a,onClick:function(){return o(5)}},"5"))}function kt(){var e=Object(d.useState)(!1),t=Object(_.a)(e,2),n=t[0],a=t[1],o=Object(b.f)("/sector/:idSector"),i=o&&o.params.idSector,c=ie(),r=oe(i),s=function(){var e=Object(M.useSelector)(X.b),t=Object(M.useDispatch)(),n=Object(d.useCallback)((function(){return t(Object(N.a)(!e))}),[t,e]);return[e,n]}(),l=Object(_.a)(s,2),m=l[0],f=l[1],E=$(),S=Object(_.a)(E,2),v=S[0],A=S[1],y=ee(),C=Object(_.a)(y,2),O=C[0],j=C[1],x=te(),h=Object(_.a)(x,2),V=h[0],g=h[1],W=ne().hideEstado,q=Object(d.useState)(),w=Object(_.a)(q,2),k=w[0],D=w[1],B=function(e){i!==k&&(W(),D(i),a(!1))};return u.a.createElement(Ct.a,{color:"light",light:!0,expand:"md",fixed:"top"},u.a.createElement(Ot.a,{color:"default",href:"/reactc2",title:"Volver al inicio"},"CTC"),u.a.createElement(wt,null),u.a.createElement(jt.a,{onClick:function(){return a(!n)}}),u.a.createElement(xt.a,{isOpen:n,navbar:!0},u.a.createElement(tt.a,{className:"mr-auto",navbar:!0},u.a.createElement(ht.a,{nav:!0,inNavbar:!0},u.a.createElement(Vt.a,{nav:!0,caret:!0,title:r?r.descr:"Seleccione sector a visualizar"},r?r.descrCorta:"Sectores"),u.a.createElement(gt.a,null,c.map((function(e){return u.a.createElement(Wt.a,{tag:p.b,to:"/sector/".concat(e.idSector),key:e.idSector,title:e.descr,active:i===e.idSector,onClick:B},e.descrCorta)})))),u.a.createElement(ht.a,{nav:!0,inNavbar:!0},u.a.createElement(Vt.a,{nav:!0,caret:!0,title:"Opciones de visualizaci\xf3n"},"Opciones"),u.a.createElement(gt.a,null,u.a.createElement(Wt.a,{onClick:function(e){Object(le.c)(e)&&(A(),a(!1))},active:v},"Teletipo"),u.a.createElement(Wt.a,{onClick:function(e){Object(le.c)(e)&&(f(),a(!1))},active:m},"Enclavamientos"),u.a.createElement(Wt.a,{onClick:function(e){Object(le.c)(e)&&(j(),a(!1))},active:O},"Coordenadas"),u.a.createElement(Wt.a,{onClick:function(e){Object(le.c)(e)&&(g(),a(!1))},active:V},"Mostrar Config.")))),u.a.createElement(tt.a,{navbar:!0},u.a.createElement(nt.a,null,u.a.createElement(at.a,{href:"https://github.com/Satyam/reactc2",title:"Ver c\xf3digo fuente en GitHub",target:"_blank"},u.a.createElement(fe.a,null)," Github")))))}var Dt=n(109),Bt=n.n(Dt);function zt(e){e.username,e.sector,e.photoURL;var t=$(),n=Object(_.a)(t,1)[0];return ie().length?u.a.createElement(p.a,{basename:"/reactc2"},u.a.createElement(kt,null),u.a.createElement(b.a,{path:"/sector/:idSector"},u.a.createElement(yt,{idSector:"constitucion"})),n&&u.a.createElement(xe,null)):u.a.createElement("img",{alt:"loading...",src:Bt.a})}var Tt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function It(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(153);m.a.render(u.a.createElement(M.Provider,{store:ue},u.a.createElement(zt,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/reactc2",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/reactc2","/service-worker.js");Tt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):It(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):It(t,e)}))}}()},19:function(e,t,n){e.exports={label:"styles_label__3r56c",pushDown:"styles_pushDown__1r8Ml",cambio:"styles_cambio__K-Ynx",manual:"styles_manual__1SN6-",hidden:"styles_hidden__1mPWU",close:"styles_close__1b-CL",disabled:"styles_disabled__3q6v_",solapas:"styles_solapas__1cybr",solapa:"styles_solapa__1ZYE5"}},20:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l}));var a=n(7),o=Object(a.b)("showTeletipo"),i=Object(a.b)("enclavamientosActive"),c=Object(a.b)("showCoords"),r=Object(a.b)("showEstado"),s=Object(a.b)("hideEstado"),d=Object(a.b)("showConfig"),u=Object(a.b)("setPlayRate"),l=Object(a.b)("setCurrentSector")},21:function(e,t,n){e.exports={main:"styles_main__QJA2q",alt:"styles_alt__EQPaw",svg:"styles_svg__6vY_Q",filled:"styles_filled__2ZKFa"}},27:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return _})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return S}));var a=n(14),o=n(7),i=n(15),c=n(11),r=n(10),s=n(4),d=n(49),u=0,l=Object(o.b)("addTren",(function(e,t,n,a){return{payload:{idCelda:e.idCelda,x:e.x,y:e.y,dir:t,speed:n,maxSpeed:n,idTren:a,idSector:e.idSector}}}));function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(a){var o="_tren_".concat(u++),i=e.idCelda;a(Object(c.setAviso)(s.k,i,o,"Parte tren ".concat(o," desde ").concat(i))),a(l(e,t,n,o)),a(Object(c.addTrenToCelda)(i,o)),a(Object(c.setEnclavamientos)(i,d.b))}}var _=Object(o.b)("doDelTren");function p(e){return function(t){var n=e.idTren,a=e.idCelda;a&&t(Object(c.removeTrenFromCelda)(a,n)),t(Object(c.setAviso)(s.k,a,n,"Borrado el tren ".concat(n," en ").concat(a))),t(_(e.idTren))}}function b(){return function(e,t){Object(i.l)(t()).forEach((function(t){return e(p(t))}))}}var f=Object(o.b)("setTren");function E(e){return function(t,n){var o=Object(i.k)(n(),e);if(o){if("X"===o.dir)return t(p(o));var u=Object(i.c)(n(),o.idCelda);if(o.falta)t(f({idTren:e,falta:o.speed>o.falta?0:o.falta-o.speed}));else{var l=function(e,t,n){switch(n){case s.n:return[e,t-1,s.t];case s.o:return[e+1,t-1,s.w];case s.i:return[e+1,t,s.z];case s.u:return[e+1,t+1,s.q];case s.t:return[e,t+1,s.n];case s.w:return[e-1,t+1,s.o];case s.z:return[e-1,t,s.i];case s.q:return[e-1,t-1,s.u]}}(o.x,o.y,o.dir),m=Object(a.a)(l,3),_=m[0],b=m[1],E=m[2],S=o.speed;if(u.x!==_||u.y!==b){var v=Object(r.a)({idSector:u.idSector,x:_,y:b}),A=Object(r.a)({idSector:u.idSector,x:_,y:b,dir:E}),y=Object(i.c)(n(),v);if(y){var C=Object(i.i)(n(),A);if(C){var O=[s.l,s.d,s.g].reduce((function(e,t){return t in C?Math.min(e,C[t]):e}),s.s);switch(O){case s.s:return o.speed&&t(Object(c.setAviso)(s.A,o.idCelda,e,"Tren ".concat(e," detenido en ").concat(o.idCelda))),void t(f({idTren:e,speed:0}));case s.a:if(0===o.speed)return t(Object(c.setAviso)(s.k,o.idCelda,e,"Tren ".concat(e," reanuda la marcha en ").concat(o.idCelda))),void t(f({idTren:e,speed:o.maxSpeed/2}));S=o.maxSpeed/2;break;case s.y:if(0===o.speed)return t(Object(c.setAviso)(s.k,o.idCelda,e,"Tren ".concat(e," reanuda la marcha en ").concat(o.idCelda))),void t(f({idTren:e,speed:o.maxSpeed}));S=o.maxSpeed;break;default:throw new Error("Se\xf1al ".concat(A," d\xe1 se\xf1al imposible ").concat(O))}}if(y.idTren)return void t(Object(c.setAlarma)(v,e,"Colisi\xf3n en ".concat(y.idCelda," entre ").concat(e," y ").concat(y.idTren)));var j=Object(i.b)(n(),y.idBloque);if(j&&j!==e)return void t(Object(c.setAlarma)(v,e,"Tren ".concat(e," invade el bloque ").concat(y.idBloque," ocupado por ").concat(j)));var x=function(e,t){function n(t){var n=t.puntas;return n.includes(e)?n[0]===e?n[1]:n[0]:void 0}switch(t.tipo){case s.m:return n(t);case s.c:case s.x:return t.punta===e?t.ramas[t.posicion]:t.ramas[t.posicion]===e?t.punta:void 0;case s.r:return t.rebota?t.punta:t.punta===e?"X":void 0;case s.e:return n(t.linea1)||n(t.linea2)}}(E,y);if(!x)return void t(Object(c.setAlarma)(y.idCelda,e,"Tren ".concat(e," no encuentra v\xeda correspondiente en celda ").concat(y.idCelda)));t(Object(c.removeTrenFromCelda)(u.idCelda,e)),t(Object(c.addTrenToCelda)(v,e)),t(f({idTren:e,dir:x,x:_,y:b,speed:S,idCelda:v,falta:y.longitud||1}))}else t(p(o))}else t(f(o));t(Object(c.setEnclavamientos)(o.idCelda,d.b))}}}}function S(){return function(e,t){var n=Object(i.e)(t());return Promise.all(Object(i.l)(t(),n).map((function(t){return e(E(t.idTren))})))}}},30:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return d}));var a=function(e){return e.options.showTeletipo},o=function(e){return e.options.enclavamientosActive},i=function(e){return e.options.showCoords},c=function(e){return e.options.showEstado},r=function(e){return e.options.showConfig},s=function(e){return e.options.playRate},d=function(e){return e.options.currIdSector}},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c}));var a=n(22),o=function(e,t){return e.senales[t]},i=function(e,t){return e.senales[t].manual},c=Object(a.a)((function(e){return e.senales}),(function(e,t){return t}),(function(e,t){var n=Object.values(e).filter((function(e){return e.idSector===t.idSector&&e.x===t.x&&e.y===t.y}));return n.length?n:null}))},36:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l}));var a=n(7),o=n(11),i=n(4),c=Object(a.b)("doSetAlarma");function r(e,t,n){return function(a){a(d(i.f,e,t,n)),a(c({idCelda:e,idTren:t,msg:n,fecha:Date.now()})),a(Object(o.setPlayRate)(0))}}var s=Object(a.b)("clearAlarma"),d=Object(a.b)("setAviso",(function(e,t,n,a){return{payload:{nivel:e,idCelda:t,idTren:n,msg:a,fecha:Date.now()}}})),u=Object(a.b)("clearAvisos"),l=Object(a.b)("clearAviso")},38:function(e,t,n){e.exports={rect:"styles_rect__1zG3J",manual:"styles_manual__139ZI",text:"styles_text__JdA5Q",svg:"styles_svg__rOGuq","tramo-normal":"styles_tramo-normal__JZdRz","tramo-muerto":"styles_tramo-muerto__LXymi","tramo-ocupado":"styles_tramo-ocupado__LrGlb"}},4:function(e,t,n){"use strict";n.d(t,"E",(function(){return o})),n.d(t,"C",(function(){return i})),n.d(t,"D",(function(){return c})),n.d(t,"F",(function(){return r})),n.d(t,"B",(function(){return s}));var a=n(49);n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.c})),n.d(t,"d",(function(){return a.d})),n.d(t,"e",(function(){return a.e})),n.d(t,"f",(function(){return a.f})),n.d(t,"g",(function(){return a.g})),n.d(t,"h",(function(){return a.h})),n.d(t,"i",(function(){return a.i})),n.d(t,"j",(function(){return a.j})),n.d(t,"k",(function(){return a.k})),n.d(t,"l",(function(){return a.l})),n.d(t,"m",(function(){return a.m})),n.d(t,"n",(function(){return a.n})),n.d(t,"o",(function(){return a.o})),n.d(t,"p",(function(){return a.p})),n.d(t,"q",(function(){return a.q})),n.d(t,"r",(function(){return a.r})),n.d(t,"s",(function(){return a.s})),n.d(t,"t",(function(){return a.t})),n.d(t,"u",(function(){return a.u})),n.d(t,"v",(function(){return a.v})),n.d(t,"w",(function(){return a.w})),n.d(t,"x",(function(){return a.x})),n.d(t,"y",(function(){return a.y})),n.d(t,"z",(function(){return a.z})),n.d(t,"A",(function(){return a.A}));var o={circulo:{descrCorta:"5- C\xedrculo",descr:"Dando vueltas y vueltas ",ancho:6,alto:5,idSector:"circulo"},constitucion:{descrCorta:"Constituci\xf3n",descr:"Estaci\xf3n Constituci\xf3n, Ciudad de Buenos Aires, Argentina",ancho:11,alto:7,idSector:"constitucion"},cruceDobleCambio:{descrCorta:"2- Doble cambio de v\xedas",descr:"V\xedas paralelas con cambios cruzados y se\xf1ales",ancho:2,alto:2,idSector:"cruceDobleCambio"},dosVias:{descrCorta:"4- Dos v\xedas paralelas",descr:"Dos v\xedas paralelas con despacho de trenes",ancho:9,alto:2,idSector:"dosVias"},senalesEncadenadas:{descrCorta:"3- Se\xf1ales encadenadas",descr:"Se\xf1al en amarillo cuando la siguiente est\xe1 en rojo",ancho:4,alto:1,idSector:"senalesEncadenadas"},simpleDesvio:{descrCorta:"1- Desv\xedo Simple",descr:"Una \xfanica celda con un cambio y se\xf1al",ancho:1,alto:1,idSector:"simpleDesvio"}},i={circulo_1_0:{tipo:"linea",x:1,y:0,puntas:["SW","E"],despachador:["SW"],idCelda:"circulo_1_0",idSector:"circulo"},circulo_2_0:{tipo:"linea",x:2,y:0,puntas:["W","SE"],despachador:["SE"],idCelda:"circulo_2_0",idSector:"circulo"},circulo_0_1:{tipo:"linea",x:0,y:1,puntas:["NE","S"],idCelda:"circulo_0_1",idSector:"circulo"},circulo_0_3:{tipo:"linea",x:0,y:3,puntas:["N","SE"],idCelda:"circulo_0_3",idSector:"circulo"},circulo_1_4:{tipo:"linea",x:1,y:4,puntas:["NW","E"],idCelda:"circulo_1_4",idSector:"circulo"},circulo_3_1:{tipo:"linea",x:3,y:1,puntas:["NW","S"],idCelda:"circulo_3_1",idSector:"circulo"},circulo_3_3:{tipo:"cambio",x:3,y:3,punta:"N",ramas:{normal:"SW",desviado:"S"},posicion:"normal",idCelda:"circulo_3_3",idSector:"circulo"},circulo_2_4:{tipo:"cruce",x:2,y:4,linea1:{puntas:["W","NE"]},linea2:{puntas:["NW","SE"]},idCelda:"circulo_2_4",idSector:"circulo"},circulo_0_2:{tipo:"triple",posicion:"centro",punta:"N",ramas:{centro:"S",izq:"SE",der:"SW"},x:0,y:2,idCelda:"circulo_0_2",idSector:"circulo"},circulo_5_1:{tipo:"triple",posicion:"centro",punta:"N",ramas:{centro:"S",izq:"SE",der:"SW"},x:5,y:1,despachador:["N","S","SE","SW"],idCelda:"circulo_5_1",idSector:"circulo"},circulo_5_3:{tipo:"cambio",x:5,y:3,posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"NE"},despachador:["W","E","NE"],idCelda:"circulo_5_3",idSector:"circulo"},circulo_3_4:{tipo:"paragolpe",x:3,y:4,punta:"N",idCelda:"circulo_3_4",idSector:"circulo"},circulo_3_2:{tipo:"linea",x:3,y:2,puntas:["N","S"],idCelda:"circulo_3_2",idSector:"circulo"},circulo_1_3:{tipo:"linea",x:1,y:3,puntas:["NW","SE"],idCelda:"circulo_1_3",idSector:"circulo"},constitucion_5_0:{tipo:"linea",puntas:["N","S"],x:5,y:0,idCelda:"constitucion_5_0",idSector:"constitucion"},constitucion_6_0:{tipo:"linea",puntas:["N","S"],x:6,y:0,idCelda:"constitucion_6_0",idSector:"constitucion"},constitucion_5_1:{tipo:"linea",puntas:["N","SW"],x:5,y:1,idCelda:"constitucion_5_1",idSector:"constitucion"},constitucion_6_1:{tipo:"linea",puntas:["N","SE"],x:6,y:1,idCelda:"constitucion_6_1",idSector:"constitucion"},constitucion_4_2:{tipo:"linea",puntas:["NE","SW"],x:4,y:2,idCelda:"constitucion_4_2",idSector:"constitucion"},constitucion_7_2:{tipo:"linea",puntas:["NW","SE"],x:7,y:2,idCelda:"constitucion_7_2",idSector:"constitucion"},constitucion_3_3:{tipo:"linea",puntas:["NE","SW"],x:3,y:3,idCelda:"constitucion_3_3",idSector:"constitucion"},constitucion_4_3:{tipo:"linea",puntas:["SW","E"],x:4,y:3,idCelda:"constitucion_4_3",idSector:"constitucion"},constitucion_5_3:{tipo:"linea",puntas:["W","E"],x:5,y:3,idCelda:"constitucion_5_3",idSector:"constitucion"},constitucion_6_3:{tipo:"linea",puntas:["W","E"],x:6,y:3,idCelda:"constitucion_6_3",idSector:"constitucion"},constitucion_7_3:{tipo:"linea",puntas:["W","E"],x:7,y:3,idCelda:"constitucion_7_3",idSector:"constitucion"},constitucion_8_3:{tipo:"cambio",posicion:"normal",punta:"SE",ramas:{normal:"NW",desviado:"W"},x:8,y:3,idCelda:"constitucion_8_3",idSector:"constitucion"},constitucion_0_4:{tipo:"paragolpe",punta:"E",x:0,y:4,idCelda:"constitucion_0_4",idSector:"constitucion"},constitucion_1_4:{tipo:"linea",puntas:["W","E"],x:1,y:4,idCelda:"constitucion_1_4",idSector:"constitucion"},constitucion_2_4:{tipo:"triple",posicion:"centro",punta:"W",ramas:{centro:"E",izq:"NE",der:"SE"},x:2,y:4,idCelda:"constitucion_2_4",idSector:"constitucion"},constitucion_3_4:{tipo:"cruce",linea1:{puntas:["SW","NE"]},linea2:{puntas:["W","E"]},x:3,y:4,idCelda:"constitucion_3_4",idSector:"constitucion"},constitucion_4_4:{tipo:"cambio",posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"SE"},x:4,y:4,idCelda:"constitucion_4_4",idSector:"constitucion"},constitucion_5_4:{tipo:"cambio",posicion:"normal",punta:"E",ramas:{normal:"W",desviado:"SW"},x:5,y:4,idCelda:"constitucion_5_4",idSector:"constitucion"},constitucion_6_4:{tipo:"linea",puntas:["W","SE"],x:6,y:4,idCelda:"constitucion_6_4",idSector:"constitucion"},constitucion_9_4:{tipo:"linea",puntas:["NW","SE"],x:9,y:4,idCelda:"constitucion_9_4",idSector:"constitucion"},constitucion_0_5:{tipo:"paragolpe",punta:"E",x:0,y:5,idCelda:"constitucion_0_5",idSector:"constitucion"},constitucion_1_5:{tipo:"linea",puntas:["W","E"],x:1,y:5,idCelda:"constitucion_1_5",idSector:"constitucion"},constitucion_2_5:{tipo:"cambio",posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"NE"},x:2,y:5,idCelda:"constitucion_2_5",idSector:"constitucion"},constitucion_3_5:{tipo:"cruce",linea1:{puntas:["NW","SE"]},linea2:{puntas:["W","E"]},x:3,y:5,idCelda:"constitucion_3_5",idSector:"constitucion"},constitucion_4_5:{tipo:"cambio",posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"NE"},x:4,y:5,idCelda:"constitucion_4_5",idSector:"constitucion"},constitucion_5_5:{tipo:"cambio",posicion:"normal",punta:"E",ramas:{normal:"W",desviado:"NW"},x:5,y:5,idCelda:"constitucion_5_5",idSector:"constitucion"},constitucion_6_5:{tipo:"linea",puntas:["W","SE"],x:6,y:5,idCelda:"constitucion_6_5",idSector:"constitucion"},constitucion_7_5:{tipo:"linea",puntas:["NW","SE"],x:7,y:5,idCelda:"constitucion_7_5",idSector:"constitucion"},constitucion_10_5:{tipo:"linea",puntas:["NW","SE"],x:10,y:5,idCelda:"constitucion_10_5",idSector:"constitucion"},cruceDobleCambio_0_0:{tipo:"cambio",x:0,y:0,posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"SE"},idCelda:"cruceDobleCambio_0_0",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0:{tipo:"cambio",x:1,y:0,posicion:"normal",punta:"E",ramas:{normal:"W",desviado:"SW"},idCelda:"cruceDobleCambio_1_0",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1:{tipo:"cambio",x:0,y:1,posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"NE"},idCelda:"cruceDobleCambio_0_1",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1:{tipo:"cambio",x:1,y:1,posicion:"normal",punta:"E",ramas:{normal:"W",desviado:"NW"},idCelda:"cruceDobleCambio_1_1",idSector:"cruceDobleCambio"},dosVias_0_0:{tipo:"paragolpe",x:0,y:0,punta:"E",despachador:["E"],rebota:!0,idCelda:"dosVias_0_0",idSector:"dosVias"},dosVias_0_1:{tipo:"paragolpe",x:0,y:1,punta:"E",despachador:["E"],rebota:!0,idCelda:"dosVias_0_1",idSector:"dosVias"},dosVias_1_0:{tipo:"cambio",x:1,y:0,punta:"W",ramas:{normal:"E",desviado:"SE"},posicion:"normal",bloque:"Nor-oeste",idCelda:"dosVias_1_0",idSector:"dosVias",idBloque:"dosVias__Nor_oeste"},dosVias_1_1:{tipo:"cambio",x:1,y:1,punta:"W",ramas:{normal:"E",desviado:"NE"},posicion:"normal",bloque:"Sud-oeste",idCelda:"dosVias_1_1",idSector:"dosVias",idBloque:"dosVias__Sud_oeste"},dosVias_2_0:{tipo:"cambio",x:2,y:0,punta:"E",ramas:{normal:"W",desviado:"SW"},posicion:"normal",bloque:"Nor-oeste",idCelda:"dosVias_2_0",idSector:"dosVias",idBloque:"dosVias__Nor_oeste"},dosVias_2_1:{tipo:"cambio",x:2,y:1,punta:"E",ramas:{normal:"W",desviado:"NW"},posicion:"normal",bloque:"Sud-oeste",idCelda:"dosVias_2_1",idSector:"dosVias",idBloque:"dosVias__Sud_oeste"},dosVias_3_0:{tipo:"linea",x:3,y:0,puntas:["E","W"],bloque:"Norte",idCelda:"dosVias_3_0",idSector:"dosVias",idBloque:"dosVias__Norte"},dosVias_3_1:{tipo:"linea",x:3,y:1,puntas:["E","W"],bloque:"Sur",idCelda:"dosVias_3_1",idSector:"dosVias",idBloque:"dosVias__Sur"},dosVias_4_0:{tipo:"linea",x:4,y:0,puntas:["E","W"],bloque:"Norte",idCelda:"dosVias_4_0",idSector:"dosVias",idBloque:"dosVias__Norte"},dosVias_4_1:{tipo:"linea",x:4,y:1,puntas:["E","W"],bloque:"Sur",idCelda:"dosVias_4_1",idSector:"dosVias",idBloque:"dosVias__Sur"},dosVias_5_0:{tipo:"linea",x:5,y:0,puntas:["E","W"],bloque:"Norte",idCelda:"dosVias_5_0",idSector:"dosVias",idBloque:"dosVias__Norte"},dosVias_5_1:{tipo:"linea",x:5,y:1,puntas:["E","W"],bloque:"Sur",idCelda:"dosVias_5_1",idSector:"dosVias",idBloque:"dosVias__Sur"},dosVias_6_0:{tipo:"cambio",x:6,y:0,punta:"W",ramas:{normal:"E",desviado:"SE"},posicion:"normal",bloque:"Nor-este",idCelda:"dosVias_6_0",idSector:"dosVias",idBloque:"dosVias__Nor_este"},dosVias_6_1:{tipo:"cambio",x:6,y:1,punta:"W",ramas:{normal:"E",desviado:"NE"},posicion:"normal",bloque:"Sud-este",idCelda:"dosVias_6_1",idSector:"dosVias",idBloque:"dosVias__Sud_este"},dosVias_7_0:{tipo:"cambio",x:7,y:0,punta:"E",ramas:{normal:"W",desviado:"SW"},posicion:"normal",bloque:"Nor-este",idCelda:"dosVias_7_0",idSector:"dosVias",idBloque:"dosVias__Nor_este"},dosVias_7_1:{tipo:"cambio",x:7,y:1,punta:"E",ramas:{normal:"W",desviado:"NW"},posicion:"normal",bloque:"Sud-este",idCelda:"dosVias_7_1",idSector:"dosVias",idBloque:"dosVias__Sud_este"},dosVias_8_0:{tipo:"paragolpe",x:8,y:0,punta:"W",despachador:["W"],rebota:!0,idCelda:"dosVias_8_0",idSector:"dosVias"},dosVias_8_1:{tipo:"paragolpe",x:8,y:1,punta:"W",despachador:["W"],rebota:!0,idCelda:"dosVias_8_1",idSector:"dosVias"},senalesEncadenadas_0_0:{tipo:"linea",puntas:["W","E"],x:0,y:0,idCelda:"senalesEncadenadas_0_0",idSector:"senalesEncadenadas"},senalesEncadenadas_1_0:{tipo:"linea",puntas:["W","E"],x:1,y:0,idCelda:"senalesEncadenadas_1_0",idSector:"senalesEncadenadas"},senalesEncadenadas_2_0:{tipo:"linea",puntas:["W","E"],x:2,y:0,idCelda:"senalesEncadenadas_2_0",idSector:"senalesEncadenadas"},senalesEncadenadas_3_0:{tipo:"linea",puntas:["W","E"],x:3,y:0,idCelda:"senalesEncadenadas_3_0",idSector:"senalesEncadenadas"},simpleDesvio_0_0:{tipo:"cambio",x:0,y:0,posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"NE"},idCelda:"simpleDesvio_0_0",idSector:"simpleDesvio"}},c={constitucion_4_4:{x:4,y:4,tipo:"cambio",dependencias:[{x:5,y:5,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:4,y:5,tipo:"cambio",desviado:"normal"}],idEncl:"constitucion_4_4",idSector:"constitucion"},constitucion_4_5:{x:4,y:5,tipo:"cambio",dependencias:[{x:5,y:4,tipo:"cambio",normal:"normal",desviado:"desviado"}],idEncl:"constitucion_4_5",idSector:"constitucion"},constitucion_5_4:{x:5,y:4,tipo:"cambio",dependencias:[{x:4,y:5,tipo:"cambio",normal:"normal",desviado:"desviado"}],idEncl:"constitucion_5_4",idSector:"constitucion"},constitucion_5_5:{x:5,y:5,tipo:"cambio",dependencias:[{x:4,y:4,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:4,y:5,tipo:"cambio",desviado:"normal"}],idEncl:"constitucion_5_5",idSector:"constitucion"},constitucion_2_4_W:{x:2,y:4,dir:"W",tipo:"senal",dependencias:[{x:2,y:4,tipo:"cambio",izq:{centro:3,der:3},centro:{izq:3,der:3},der:{izq:3,centro:3}}],idEncl:"constitucion_2_4_W",idSector:"constitucion"},constitucion_4_4_W:{x:4,y:4,dir:"W",tipo:"senal",dependencias:[{x:4,y:4,tipo:"cambio",normal:{der:3},desviado:{centro:3,der:2}},{x:5,y:4,tipo:"cambio",desviado:{centro:3,der:3}}],idEncl:"constitucion_4_4_W",idSector:"constitucion"},constitucion_8_3_SE:{x:8,y:3,dir:"SE",tipo:"senal",dependencias:[{x:8,y:3,tipo:"cambio",normal:{izq:3},desviado:{izq:2,centro:3}}],idEncl:"constitucion_8_3_SE",idSector:"constitucion"},cruceDobleCambio_0_0:{x:0,y:0,tipo:"cambio",dependencias:[{x:1,y:1,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:0,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"cruceDobleCambio_0_0",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1:{x:0,y:1,tipo:"cambio",dependencias:[{x:1,y:0,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:0,y:0,tipo:"cambio",desviado:"normal"}],idEncl:"cruceDobleCambio_0_1",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0:{x:1,y:0,tipo:"cambio",dependencias:[{x:0,y:1,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:1,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"cruceDobleCambio_1_0",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1:{x:1,y:1,tipo:"cambio",dependencias:[{x:0,y:0,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:0,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"cruceDobleCambio_1_1",idSector:"cruceDobleCambio"},cruceDobleCambio_0_0_W:{x:0,y:0,dir:"W",tipo:"senal",dependencias:[{x:0,y:0,tipo:"cambio",normal:{der:3},desviado:{centro:3,der:2}},{x:1,y:0,tipo:"cambio",desviado:{centro:3,der:3}}],idEncl:"cruceDobleCambio_0_0_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0_E:{x:1,y:0,dir:"E",tipo:"senal",dependencias:[{x:1,y:0,tipo:"cambio",normal:{izq:3},desviado:{centro:3,izq:2}},{x:0,y:0,tipo:"cambio",desviado:{centro:3,izq:3}}],idEncl:"cruceDobleCambio_1_0_E",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1_W:{x:0,y:1,dir:"W",tipo:"senal",dependencias:[{x:0,y:1,tipo:"cambio",normal:{izq:3},desviado:{centro:3,izq:2}},{x:1,y:1,tipo:"cambio",desviado:{centro:3,izq:3}}],idEncl:"cruceDobleCambio_0_1_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1_E:{x:1,y:1,dir:"E",tipo:"senal",dependencias:[{x:1,y:1,tipo:"cambio",normal:{der:3},desviado:{centro:3,der:2}},{x:0,y:1,tipo:"cambio",desviado:{centro:3,der:3}}],idEncl:"cruceDobleCambio_1_1_E",idSector:"cruceDobleCambio"},dosVias_1_0:{x:1,y:0,tipo:"cambio",dependencias:[{x:2,y:1,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:1,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"dosVias_1_0",idSector:"dosVias"},dosVias_1_1:{x:1,y:1,tipo:"cambio",dependencias:[{x:2,y:0,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:1,y:0,tipo:"cambio",desviado:"normal"}],idEncl:"dosVias_1_1",idSector:"dosVias"},dosVias_2_0:{x:2,y:0,tipo:"cambio",dependencias:[{x:1,y:1,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:2,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"dosVias_2_0",idSector:"dosVias"},dosVias_2_1:{x:2,y:1,tipo:"cambio",dependencias:[{x:1,y:0,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:1,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"dosVias_2_1",idSector:"dosVias"},dosVias_6_0:{x:6,y:0,tipo:"cambio",dependencias:[{x:7,y:1,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:6,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"dosVias_6_0",idSector:"dosVias"},dosVias_6_1:{x:6,y:1,tipo:"cambio",dependencias:[{x:7,y:0,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:6,y:0,tipo:"cambio",desviado:"normal"}],idEncl:"dosVias_6_1",idSector:"dosVias"},dosVias_7_0:{x:7,y:0,tipo:"cambio",dependencias:[{x:6,y:1,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:7,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"dosVias_7_0",idSector:"dosVias"},dosVias_7_1:{x:7,y:1,tipo:"cambio",dependencias:[{x:6,y:0,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:6,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"dosVias_7_1",idSector:"dosVias"},dosVias_1_0_W:{x:1,y:0,dir:"W",tipo:"senal",dependencias:[{tipo:"bloque",bloque:"Nor-oeste",luzAfectada:"der"},{tipo:"cambio",x:1,y:0,normal:{der:3},desviado:{der:2}},{x:3,y:1,dir:"W",tipo:"senal",luces:[{cuando:3,luzAfectada:"der",estado:2}]},{tipo:"fijo",luzAfectada:"centro",estado:3}],idEncl:"dosVias_1_0_W",idSector:"dosVias"},dosVias_1_1_W:{x:1,y:1,dir:"W",tipo:"senal",dependencias:[{tipo:"cambio",x:2,y:1,desviado:{centro:3}},{tipo:"bloque",bloque:"Sud-oeste",luzAfectada:"centro"},{x:3,y:1,dir:"W",tipo:"senal",luces:[{cuando:3,luzAfectada:"der",estado:2}]},{tipo:"fijo",luzAfectada:"izq",estado:3}],idEncl:"dosVias_1_1_W",idSector:"dosVias"},dosVias_2_0_E:{x:2,y:0,dir:"E",tipo:"senal",dependencias:[{tipo:"bloque",bloque:"Nor-oeste",luzAfectada:"centro"},{tipo:"cambio",x:2,y:0,normal:{izq:3},desviado:{centro:3,izq:2}},{tipo:"cambio",x:1,y:0,desviado:{centro:3}}],idEncl:"dosVias_2_0_E",idSector:"dosVias"},dosVias_2_1_E:{x:2,y:1,dir:"E",tipo:"senal",dependencias:[{tipo:"fijo",luzAfectada:"der",estado:3},{tipo:"fijo",luzAfectada:"centro",estado:3},{tipo:"cambio",x:2,y:1,normal:{der:3},desviado:{centro:3,der:2}},{tipo:"cambio",x:1,y:1,desviado:{centro:3}}],idEncl:"dosVias_2_1_E",idSector:"dosVias"},dosVias_7_1_E:{x:7,y:1,dir:"E",tipo:"senal",dependencias:[{tipo:"cambio",x:7,y:1,normal:{der:3},desviado:{der:2}},{tipo:"fijo",luzAfectada:"centro",estado:3},{tipo:"bloque",bloque:"Sud-este",luzAfectada:"der"},{x:5,y:0,dir:"E",tipo:"senal",luces:[{cuando:3,luzAfectada:"der",estado:2}]},{tipo:"fijo",luzAfectada:"centro",estado:3}],idEncl:"dosVias_7_1_E",idSector:"dosVias"},dosVias_7_0_E:{x:7,y:0,dir:"E",tipo:"senal",dependencias:[{tipo:"cambio",x:6,y:0,desviado:{centro:3}},{tipo:"bloque",bloque:"Nor-este",luzAfectada:"centro"},{x:5,y:1,dir:"E",tipo:"senal",luces:[{cuando:3,luzAfectada:"izq",estado:2}]},{tipo:"fijo",luzAfectada:"izq",estado:3}],idEncl:"dosVias_7_0_E",idSector:"dosVias"},dosVias_6_1_W:{x:6,y:1,dir:"W",tipo:"senal",dependencias:[{tipo:"bloque",bloque:"Sud-este",luzAfectada:"izq"},{tipo:"bloque",bloque:"Sud-este",luzAfectada:"centro"},{tipo:"cambio",x:7,y:0,normal:{izq:3},desviado:{centro:3,izq:2}},{tipo:"cambio",x:7,y:1,desviado:{centro:3}}],idEncl:"dosVias_6_1_W",idSector:"dosVias"},dosVias_6_0_W:{x:6,y:0,dir:"W",tipo:"senal",dependencias:[{tipo:"bloque",bloque:"Nor-este",luzAfectada:"der"},{tipo:"bloque",bloque:"Nor-este",luzAfectada:"centro"},{tipo:"cambio",x:6,y:0,normal:{der:3},desviado:{centro:3,der:2}},{tipo:"cambio",x:7,y:0,desviado:{centro:3}}],idEncl:"dosVias_6_0_W",idSector:"dosVias"},dosVias_3_1_W:{tipo:"senal",x:3,y:1,dir:"W",dependencias:[{tipo:"bloque",bloque:"Sur",luzAfectada:"centro"},{tipo:"senal",x:6,y:1,dir:"W",luces:[{cuando:3,luzAfectada:"centro",estado:2}]}],idEncl:"dosVias_3_1_W",idSector:"dosVias"},dosVias_5_0_E:{tipo:"senal",x:5,y:0,dir:"E",dependencias:[{tipo:"bloque",bloque:"Norte",luzAfectada:"centro"},{tipo:"senal",x:2,y:0,dir:"E",luces:[{cuando:3,luzAfectada:"centro",estado:2}]}],idEncl:"dosVias_5_0_E",idSector:"dosVias"},dosVias__Nor_este:{tipo:"bloque",bloque:"Nor-este",dependencias:[{tipo:"bloque",bloque:"Sud-este",x:7,y:0,posicion:"desviado"},{tipo:"bloque",bloque:"Sud-este",x:6,y:0,posicion:"desviado"}],idEncl:"dosVias__Nor_este",idSector:"dosVias"},dosVias__Sud_este:{tipo:"bloque",bloque:"Sud-este",dependencias:[{tipo:"bloque",bloque:"Nor-este",x:7,y:1,posicion:"desviado"},{tipo:"bloque",bloque:"Nor-este",x:6,y:1,posicion:"desviado"}],idEncl:"dosVias__Sud_este",idSector:"dosVias"},dosVias__Nor_oeste:{tipo:"bloque",bloque:"Nor-oeste",dependencias:[{tipo:"bloque",bloque:"Sud-oeste",x:2,y:0,posicion:"desviado"},{tipo:"bloque",bloque:"Sud-oeste",x:1,y:0,posicion:"desviado"}],idEncl:"dosVias__Nor_oeste",idSector:"dosVias"},dosVias__Sud_oeste:{tipo:"bloque",bloque:"Sud-oeste",dependencias:[{tipo:"bloque",bloque:"Nor-oeste",x:2,y:1,posicion:"desviado"},{tipo:"bloque",bloque:"Nor-oeste",x:1,y:1,posicion:"desviado"}],idEncl:"dosVias__Sud_oeste",idSector:"dosVias"},senalesEncadenadas_0_0_W:{x:0,y:0,dir:"W",tipo:"senal",dependencias:[{x:3,y:0,dir:"W",tipo:"senal",luces:[{cuando:3,luzAfectada:"centro",estado:2}]}],idEncl:"senalesEncadenadas_0_0_W",idSector:"senalesEncadenadas"},simpleDesvio_0_0_W:{x:0,y:0,dir:"W",tipo:"senal",dependencias:[{x:0,y:0,tipo:"cambio",normal:{izq:3},desviado:{izq:2,centro:3}}],idEncl:"simpleDesvio_0_0_W",idSector:"simpleDesvio"}},r={constitucion_5_3_E:{centro:1,dir:"E",x:5,y:3,idSenal:"constitucion_5_3_E",idSector:"constitucion"},constitucion_8_3_SE:{dir:"SE",centro:1,izq:3,x:8,y:3,idSenal:"constitucion_8_3_SE",idSector:"constitucion"},constitucion_2_4_W:{dir:"W",centro:1,izq:3,der:3,x:2,y:4,idSenal:"constitucion_2_4_W",idSector:"constitucion"},constitucion_4_4_W:{dir:"W",centro:1,der:3,x:4,y:4,idSenal:"constitucion_4_4_W",idSector:"constitucion"},cruceDobleCambio_0_0_W:{dir:"W",centro:1,der:3,x:0,y:0,idSenal:"cruceDobleCambio_0_0_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0_E:{dir:"E",centro:1,izq:3,x:1,y:0,idSenal:"cruceDobleCambio_1_0_E",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1_W:{dir:"W",centro:1,izq:3,x:0,y:1,idSenal:"cruceDobleCambio_0_1_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1_E:{dir:"E",centro:1,der:3,x:1,y:1,idSenal:"cruceDobleCambio_1_1_E",idSector:"cruceDobleCambio"},dosVias_1_0_W:{x:1,y:0,dir:"W",centro:3,der:3,idSenal:"dosVias_1_0_W",idSector:"dosVias"},dosVias_1_1_W:{x:1,y:1,dir:"W",centro:1,izq:3,idSenal:"dosVias_1_1_W",idSector:"dosVias"},dosVias_2_0_E:{x:2,y:0,dir:"E",centro:1,izq:3,idSenal:"dosVias_2_0_E",idSector:"dosVias"},dosVias_2_1_E:{x:2,y:1,dir:"E",centro:3,der:3,idSenal:"dosVias_2_1_E",idSector:"dosVias"},dosVias_3_0_W:{x:3,y:0,dir:"W",centro:3,idSenal:"dosVias_3_0_W",idSector:"dosVias"},dosVias_3_1_W:{x:3,y:1,dir:"W",centro:1,idSenal:"dosVias_3_1_W",idSector:"dosVias"},dosVias_5_0_E:{x:5,y:0,dir:"E",centro:1,idSenal:"dosVias_5_0_E",idSector:"dosVias"},dosVias_5_1_E:{x:5,y:1,dir:"E",centro:3,idSenal:"dosVias_5_1_E",idSector:"dosVias"},dosVias_6_0_W:{x:6,y:0,dir:"W",centro:3,der:3,idSenal:"dosVias_6_0_W",idSector:"dosVias"},dosVias_6_1_W:{x:6,y:1,dir:"W",centro:1,izq:3,idSenal:"dosVias_6_1_W",idSector:"dosVias"},dosVias_7_0_E:{x:7,y:0,dir:"E",centro:1,izq:3,idSenal:"dosVias_7_0_E",idSector:"dosVias"},dosVias_7_1_E:{x:7,y:1,dir:"E",centro:3,der:3,idSenal:"dosVias_7_1_E",idSector:"dosVias"},senalesEncadenadas_0_0_W:{dir:"W",centro:1,x:0,y:0,idSenal:"senalesEncadenadas_0_0_W",idSector:"senalesEncadenadas"},senalesEncadenadas_3_0_W:{dir:"W",centro:1,x:3,y:0,soloManual:!0,idSenal:"senalesEncadenadas_3_0_W",idSector:"senalesEncadenadas"},simpleDesvio_0_0_W:{dir:"W",centro:1,izq:3,x:0,y:0,idSenal:"simpleDesvio_0_0_W",idSector:"simpleDesvio"}},s={dosVias__Nor_oeste:{celdas:["dosVias_1_0","dosVias_2_0"],descr:"Nor-oeste"},dosVias__Sud_oeste:{celdas:["dosVias_1_1","dosVias_2_1"],descr:"Sud-oeste"},dosVias__Norte:{celdas:["dosVias_3_0","dosVias_4_0","dosVias_5_0"],descr:"Norte"},dosVias__Sur:{celdas:["dosVias_3_1","dosVias_4_1","dosVias_5_1"],descr:"Sur"},dosVias__Nor_este:{celdas:["dosVias_6_0","dosVias_7_0"],descr:"Nor-este"},dosVias__Sud_este:{celdas:["dosVias_6_1","dosVias_7_1"],descr:"Sud-este"}}},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(7),o=Object(a.b)("setBloqueOcupado",(function(e,t,n){return{payload:{idBloque:e,idTren:t,vecino:n}}}))},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c}));var a=n(22),o=function(e,t){return e.celdas[t]},i=function(e,t){return!!e.celdas[t].manual},c=Object(a.a)((function(e){return e.celdas}),(function(e,t){return t}),(function(e,t){return Object.values(e).filter((function(e){return e.idSector===t}))}))},46:function(e,t,n){e.exports={info:"styles_info__2eaPP",warning:"styles_warning__Y2zSC",danger:"styles_danger__3Ef8R",fixed:"styles_fixed__3IULb",buttons:"styles_buttons__Of--i"}},47:function(e,t,n){e.exports={senal:"styles_senal__12UIJ",verde:"styles_verde__1oebA",rojo:"styles_rojo__2Q9wl",amarillo:"styles_amarillo__Dx2da",manual:"styles_manual__21pNp"}},49:function(e,t,n){"use strict";n.d(t,"m",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"x",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"r",(function(){return r})),n.d(t,"v",(function(){return s})),n.d(t,"y",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"s",(function(){return l})),n.d(t,"p",(function(){return m})),n.d(t,"h",(function(){return _})),n.d(t,"l",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"g",(function(){return f})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return S})),n.d(t,"i",(function(){return v})),n.d(t,"u",(function(){return A})),n.d(t,"t",(function(){return y})),n.d(t,"w",(function(){return C})),n.d(t,"z",(function(){return O})),n.d(t,"q",(function(){return j})),n.d(t,"b",(function(){return x})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return V})),n.d(t,"A",(function(){return g})),n.d(t,"f",(function(){return W}));var a="linea",o="cambio",i="triple",c="cruce",r="paragolpe",s="senal",d=1,u=2,l=3,m="normal",_="desviado",p="izq",b="centro",f="der",E="N",S="NE",v="E",A="SE",y="S",C="SW",O="W",j="NW",x="bloque",h="fijo",V="info",g="warning",W="danger"},50:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return m})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return p}));var a=n(7),o=n(11),i=n(15),c=n(4),r=Object(a.b)("setCambio",(function(e,t){return{payload:{idCelda:e,posicion:t}}}));function s(e,t){return function(n,a){var s=Object(i.c)(a(),e);if(s.tipo!==c.c&&s.tipo!==c.x)throw new Error("Celda ".concat(e,"  no es un cambio"));return s.posicion!==t&&(!Object(i.h)(a(),e)&&(n(Object(o.setPendiente)(e)),n(r(e,t))))}}function d(e,t){return function(n,a){return n(s(e,t)),Object(i.d)(a(),e)||n(Object(o.setEnclavamientos)(e,c.c)),n(Object(o.clearPendientes)())}}var u=Object(a.b)("setCambioManual",(function(e,t){return{payload:{idCelda:e,manual:t}}})),l=Object(a.b)("removeTrenFromCelda",(function(e,t){return{payload:{idCelda:e,idTren:t}}}));function m(e,t){return function(n,a){n(l(e,t));var c=Object(i.c)(a(),e);c.idBloque&&n(Object(o.setBloqueOcupado)(c.idBloque,!1))}}var _=Object(a.b)("addTrenToCelda",(function(e,t){return{payload:{idCelda:e,idTren:t}}}));function p(e,t){return function(n,a){n(_(e,t));var c=Object(i.c)(a(),e);c.idBloque&&n(Object(o.setBloqueOcupado)(c.idBloque,t))}}},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var a=function(e){return e.alertas.alarma},o=function(e){return e.alertas.avisos}},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(22),o=function(e,t){return e.bloques[t]},i=Object(a.a)((function(e){return e.bloques}),(function(e,t){return t}),(function(e,t){var n=e[t];return n&&n.idTren}))},53:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(22),o=Object(a.a)((function(e){return e.sectores}),(function(e){return Object.values(e).map((function(e){return{idSector:e.idSector,descr:e.descr,descrCorta:e.descrCorta}})).sort((function(e,t){var n=e.descrCorta.toUpperCase(),a=t.descrCorta.toUpperCase();return n<a?-1:n>a?1:0}))})),i=function(e,t){return e.sectores[t]}},54:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var a=function(e,t){return Object.values(e.trenes).filter((function(e){return!t||e.idSector===t}))},o=function(e,t){return e.trenes[t]}},55:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(7),o=Object(a.b)("setPendiente"),i=Object(a.b)("clearPendientes")},56:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l}));var a=n(7),o=n(11),i=n(15),c=n(33),r=n(4),s=Object(a.b)("setLuzEstado",(function(e,t,n){return{payload:{idSenal:e,luz:t,estado:n}}}));function d(e,t,n){return function(a,o){var c=Object(i.i)(o(),e);if(!c[t])throw new Error("Se\xf1al ".concat(e," no tiene luz ").concat(t));return c[t]!==n&&a(s(e,t,n))}}function u(e,t,n){return function(a,i){return a(d(e,t,n)),Object(c.b)(i(),e)||a(Object(o.setEnclavamientos)(e,r.v)),a(Object(o.clearPendientes)())}}var l=Object(a.b)("setSenalManual",(function(e,t){return{payload:{idSenal:e,manual:t}}}))},58:function(e,t,n){e.exports={flechaDespachador:"styles_flechaDespachador__jpfOH",trenDespachador:"styles_trenDespachador__1G3VE",disabled:"styles_disabled__10sbm",tren:"styles_tren__25vJ9"}},60:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var a=n(22),o=n(4),i=Object(a.a)((function(e){return e.enclavamientos}),(function(e,t){return t}),(function(e,t){return Object.values(e).filter((function(e){return e.idSector===t})).sort((function(e,t){return e.tipo===o.c&&t.tipo===o.v?-1:e.tipo===o.v&&t.tipo===o.c?1:0}))})),c=function(e,t){return e.enclavamientos[t]}},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(77),o=n.n(a),i=n(104),c=n(10),r=n(15),s=n(4),d=n(11);function u(e,t,n){return function(){var a=Object(i.a)(o.a.mark((function a(i,u){var l,m,_,p,b,f,E,S,v;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(f=function(e,t){var n=Object(r.i)(u(),e);if(Object(r.j)(u(),e))return!1;var a={izq:s.y,centro:s.y,der:s.y};return t.forEach((function(t){var n=Object(c.a)({idSector:l,x:t.x,y:t.y,dir:t.dir});switch(t.tipo){case s.c:var o=t[Object(r.c)(u(),n).posicion]||{};Object.keys(o).forEach((function(e){a[e]=Math.max(a[e],o[e])}));break;case s.v:var i=Object(r.i)(u(),n),d=[s.l,s.d,s.g].reduce((function(e,t){return t in i?Math.min(e,i[t]):e}),s.s);t.luces.forEach((function(e){var t=e.cuando,n=e.luzAfectada,o=e.estado;d===t&&(a[n]=Math.max(a[n],o))}));break;case s.b:!!Object(r.b)(u(),Object(c.b)(l,t.bloque))&&(a[t.luzAfectada]=s.s);break;case s.j:a[t.luzAfectada]=Math.max(t.estado,a[t.luzAfectada]);break;default:throw new Error("Dependencia ".concat(t.idSource," de ").concat(e," tiene tipo desconocido: ").concat(t.tipo))}})),Object.keys(a).reduce((function(t,o){return o in n?n[o]===a[o]?t:t.then((function(t){return!!i(Object(d.doSetLuzEstado)(e,o,a[o]))||t})):t}),Promise.resolve(!1))},b=function(e,t){var n=Object(r.c)(u(),e);return t.reduce((function(t,a){var o=Object(c.a)({idSector:l,x:a.x,y:a.y}),s=a[Object(r.c)(u(),o).posicion];return s?s===n.posicion||Object(r.d)(u(),e)?t:t.then((function(t){return!!i(Object(d.doSetCambio)(e,s))||t})):t}),Promise.resolve(!1))},Object(r.g)(u())){a.next=4;break}return a.abrupt("return");case 4:a.t0=t,a.next=a.t0===s.c?7:a.t0===s.v?12:a.t0===s.b?17:20;break;case 7:if(!(m=Object(r.c)(u(),e)).manual){a.next=10;break}return a.abrupt("return");case 10:return l=m.idSector,a.abrupt("break",21);case 12:if(!(_=Object(r.i)(u(),e)).manual){a.next=15;break}return a.abrupt("return");case 15:return l=_.idSector,a.abrupt("break",21);case 17:return p=Object(r.c)(u(),e),l=p.idSector,a.abrupt("break",21);case 20:return a.abrupt("break",21);case 21:E=function(e,t){var n=Object(r.a)(u(),e);t.reduce((function(t,n){switch(n.tipo){case s.b:var a=Object(c.a)({idSector:l,x:n.x,y:n.y});if(Object(r.c)(u(),a).posicion===n.posicion){var o=Object(r.a)(u(),Object(c.b)(l,n.bloque));if(o.idTren&&!o.vecino)return i(Object(d.setBloqueOcupado)(e,o.idTren,!0))}return t;default:throw new Error("Dependencia de  ".concat(e," tiene tipo desconocido: ").concat(n.tipo))}}),n.vecino?i(Object(d.setBloqueOcupado)(e,!1,!1)):Promise.resolve(!1))},S=function(){return Object(r.f)(u(),l).reduce((function(t,a){var o=a.x,i=a.y,r=a.dir,d=a.tipo,u=a.dependencias,m=a.bloque,_=d===s.b?Object(c.b)(l,m):Object(c.a)({idSector:l,x:o,y:i,dir:r});if(!n&&_===e)return t;switch(d){case s.c:return t.then((function(e){return b(_,u)||e}));case s.v:return t.then((function(e){return f(_,u)||e}));case s.b:return t.then((function(e){return E(_,u)||e}));default:throw new Error("Celda ".concat(_," tiene enclavamiento desconocido ").concat(d))}}),Promise.resolve(!1))},v=9;case 24:if(a.t1=v,!a.t1){a.next=29;break}return a.next=28,S();case 28:a.t1=a.sent;case 29:if(!a.t1){a.next=33;break}v--,a.next=24;break;case 33:if(v){a.next=35;break}throw new Error("Enclavamiento en loop por ".concat(e));case 35:return a.abrupt("return",!!v);case 36:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}},80:function(e,t,n){e.exports={alarma:"styles_alarma__1_-OE",close:"styles_close__1Zwow"}},83:function(e,t){}},[[110,1,2]]]);
//# sourceMappingURL=main.9dc1f21b.chunk.js.map