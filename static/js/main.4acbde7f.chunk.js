(this.webpackJsonpreactc2=this.webpackJsonpreactc2||[]).push([[8],[,,,,function(e,t,n){"use strict";n.d(t,"q",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"h",(function(){return c})),n.d(t,"y",(function(){return o})),n.d(t,"C",(function(){return i})),n.d(t,"p",(function(){return u})),n.d(t,"z",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return d})),n.d(t,"t",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"w",(function(){return b})),n.d(t,"k",(function(){return O})),n.d(t,"a",(function(){return A})),n.d(t,"o",(function(){return p})),n.d(t,"g",(function(){return j})),n.d(t,"j",(function(){return E})),n.d(t,"u",(function(){return v})),n.d(t,"v",(function(){return h})),n.d(t,"l",(function(){return S})),n.d(t,"B",(function(){return g})),n.d(t,"A",(function(){return C})),n.d(t,"D",(function(){return y})),n.d(t,"F",(function(){return w})),n.d(t,"x",(function(){return k})),n.d(t,"d",(function(){return B})),n.d(t,"m",(function(){return x})),n.d(t,"n",(function(){return I})),n.d(t,"G",(function(){return N})),n.d(t,"i",(function(){return _})),n.d(t,"E",(function(){return T})),n.d(t,"s",(function(){return M})),n.d(t,"r",(function(){return D}));var a="linea",r="cambio",c="cruce",o="paragolpe",i="semaforo",u=1,l=2,s=3,d=0,f=1,m=2,b=0,O=1,A=2,p="izq",j="centro",E="der",v="N",h="NE",S="E",g="SE",C="S",y="SW",w="W",k="NW",B="bloque",x="fijo",I="info",N="warning",_="danger",T="unloaded",M="loading",D="loaded"},,,,function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return f}));var a=n(15),r=n(1);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClick,n=e.onLongPress,a=e.ms,c=void 0===a?300:a,o=Object(r.useRef)(!1),i=Object(r.useRef)({}),l=Object(r.useCallback)((function(){"function"===typeof n&&n(i.current),i.current={},o.current=!1}),[n]),s=Object(r.useCallback)((function(e){u(e)&&(e.persist(),i.current=e,o.current=setTimeout(l,c))}),[l,c]),d=Object(r.useCallback)((function(e){u(e)&&(e.persist(),i.current=e,o.current&&(clearTimeout(o.current),"function"===typeof t&&t(e),o.current=!1,i.current={}))}),[t]);return Object(r.useMemo)((function(){return{onMouseDown:s,onMouseUp:d,onMouseLeave:d,onTouchStart:s,onTouchEnd:d}}),[s,d])}var o=function(e){return e.stopPropagation()},i={onMouseDown:o,onMouseUp:o,onMouseLeave:o,onTouchStart:o,onTouchEnd:o},u=function(e){return!(e.button||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)&&(e.stopPropagation(),e.preventDefault(),!0)},l=function(e){var t=e.idSector,n=e.x,a=e.y,r=e.dir;return(r?[t,n,a,r].join("_"):[t,n,a].join("_")).replace(/\W/g,"_").replace(/(^\d)/,"_$1")},s=function(e,t){return"".concat(e,"__").concat(t).replace(/\W/g,"_").replace(/(^\d)/,"_$1")};function d(){var e=Object(r.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(a.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){var e=function(){return c({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n}function f(e){return e.nombre||"[".concat(e.x,",").concat(e.y,"]")+(e.dir?"-".concat(e.dir):"")}},,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return f}));var a=n(1),r=n(11),c=n(6);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.sliceName,i=void 0===o?"options":o,u=function(t){return t[i][e]},l=Object(c.b)(e),s=function(t,n){t[e]=n.payload},d=function(){var e=Object(r.useDispatch)();return[Object(r.useSelector)(u),Object(a.useCallback)((function(t){return e(l(t))}),[e])]};return{selector:u,action:l,reducer:s,useState:d,default:t,toString:function(){return e}}}var i=o("playRate",1),u=o("currIdSector"),l=o("showConfig",!1),s=o("showCoords",!0),d=o("automatizacionesActive",!0),f=o("showTeletipo",!0)},,function(e,t,n){"use strict";var a=n(39);n.d(t,"clearAlarma",(function(){return a.a})),n.d(t,"clearAviso",(function(){return a.b})),n.d(t,"clearAvisos",(function(){return a.c})),n.d(t,"doSetAlarma",(function(){return a.d})),n.d(t,"setAlarma",(function(){return a.e})),n.d(t,"setAviso",(function(){return a.f}));var r=n(50);n.d(t,"setBloqueOcupado",(function(){return r.a}));var c=n(51);n.d(t,"addTrenToCelda",(function(){return c.a})),n.d(t,"rawSetPosicion",(function(){return c.b})),n.d(t,"removeTrenFromCelda",(function(){return c.c})),n.d(t,"updateCelda",(function(){return c.g}));var o=n(60);n.d(t,"runAutomatizaciones",(function(){return o.b}));var i=n(106);n.o(i,"clearPendientes")&&n.d(t,"clearPendientes",(function(){return i.clearPendientes})),n.o(i,"doSetAspectoSenal")&&n.d(t,"doSetAspectoSenal",(function(){return i.doSetAspectoSenal})),n.o(i,"setPendiente")&&n.d(t,"setPendiente",(function(){return i.setPendiente}));n(37);var u=n(61);n.d(t,"clearPendientes",(function(){return u.a})),n.d(t,"setPendiente",(function(){return u.b}));n(18);var l=n(46);n.d(t,"doSetAspectoSenal",(function(){return l.a}));n(31)},,,function(e,t,n){"use strict";n.d(t,"c",(function(){return a.a})),n.d(t,"d",(function(){return a.b})),n.d(t,"e",(function(){return r.a})),n.d(t,"f",(function(){return r.b})),n.d(t,"b",(function(){return c.b})),n.d(t,"a",(function(){return c.a})),n.d(t,"g",(function(){return o.a})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return u.b})),n.d(t,"k",(function(){return l.b})),n.d(t,"j",(function(){return l.a}));n(58);var a=n(45),r=n(47),c=n(70),o=n(71),i=(n(52),n(72),function(e,t){return e.pendientes.includes(t)}),u=(n(29),n(26)),l=n(59)},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(6),r=n(29),c=n(4),o=Object(a.c)("loadSectores",(function(){return n.e(0).then(n.bind(null,94)).then((function(e){return e.default}))}),{condition:function(e,t){var n=t.getState;return Object(r.f)(n())===c.E}}),i=Object(a.c)("loadSector",(function(e){return n(152)("./".concat(e))}),{condition:function(e,t){var n=t.getState;return Object(r.d)(n())===c.E}})},,,,function(e,t,n){e.exports={label:"styles_label__3r56c",pushDown:"styles_pushDown__1r8Ml",cambio:"styles_cambio__K-Ynx",manual:"styles_manual__1SN6-",hidden:"styles_hidden__1mPWU",close:"styles_close__1b-CL",disabled:"styles_disabled__3q6v_",solapas:"styles_solapas__1cybr",solapa:"styles_solapa__1ZYE5"}},function(e,t,n){e.exports={main:"styles_main__QJA2q",alt:"styles_alt__EQPaw",svg:"styles_svg__6vY_Q",filled:"styles_filled__2ZKFa"}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u}));var a=n(21),r=n(4),c=n(55).a.getSelectors((function(e){return e.semaforos})),o=c.selectById,i=Object(a.a)(c.selectById,(function(e){return e&&e.modo||r.c})),u=Object(a.a)(c.selectAll,(function(e,t){return t}),(function(e,t){var n=e.filter((function(e){return e.idSector===t.idSector&&e.x===t.x&&e.y===t.y}));return n.length?n:null}))},,,function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return d}));var a=n(66),r=n(4),c=a.a.getSelectors((function(e){return e.sectores})),o=c.selectById,i=function(e,t){return e.sectores.loadStatusEachSector[t]||r.E},u=function(e){return e.sectores.errorSector},l=c.selectAll,s=function(e){return e.sectores.loadStatusSectores},d=function(e){return e.sectores.errorSectores}},,function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return O})),n.d(t,"g",(function(){return A})),n.d(t,"f",(function(){return j}));var a=n(15),r=n(6),c=n(17),o=n(14),i=n(12),u=n(8),l=n(4),s=100,d=Object(r.b)("addTren",(function(e,t,n,a,r){return{payload:{idCelda:e.idCelda,x:e.x,y:e.y,dir:t,speed:n,maxSpeed:n,idTren:a,idSector:e.idSector,numero:r}}}));function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(a){var r=s;s+=2;var c="_tren_".concat(r),i=e.idCelda;a(Object(o.setAviso)(l.n,i,r,"Parte tren ".concat(r," desde ").concat(Object(u.e)(e)))),a(d(e,t,n,c,r)),a(Object(o.addTrenToCelda)(i,c)),a(Object(o.runAutomatizaciones)())}}var m=Object(r.b)("doDelTren");function b(e){return function(t,n){var a=e.idCelda,r=e.numero,i=Object(c.e)(n(),a);a&&t(Object(o.removeTrenFromCelda)(a)),t(Object(o.setAviso)(l.n,a,r,"Borrado el tren ".concat(r," en ").concat(Object(u.e)(i)))),t(m(e.idTren))}}function O(){return function(e,t){Object(c.k)(t()).forEach((function(t){return e(b(t))}))}}var A=Object(r.b)("setTren");function p(e){return function(t,n){var r=Object(c.j)(n(),e);if(r){if("X"===r.dir)return t(b(r));var s=Object(c.e)(n(),r.idCelda);if(r.falta)t(A({idTren:e,falta:r.speed>r.falta?0:r.falta-r.speed}));else{var d=function(e,t){var n=e.x,a=e.y,r=e.dir,o=Object(c.g)(t(),Object(u.a)({idSector:i.b.selector(t()),x:n,y:a,dir:r}));if(o)return[o.x,o.y,o.dir];switch(r){case l.u:return[n,a-1,l.A];case l.v:return[n+1,a-1,l.D];case l.l:return[n+1,a,l.F];case l.B:return[n+1,a+1,l.x];case l.A:return[n,a+1,l.u];case l.D:return[n-1,a+1,l.v];case l.F:return[n-1,a,l.l];case l.x:return[n-1,a-1,l.B]}}(r,n),f=Object(a.a)(d,3),m=f[0],O=f[1],p=f[2],j=r.speed;if(s.x!==m||s.y!==O){var E=Object(u.a)({idSector:s.idSector,x:m,y:O}),v=Object(u.a)({idSector:s.idSector,x:m,y:O,dir:p}),h=Object(c.e)(n(),E);if(h){var S=Object(c.i)(n(),v);if(S){var g=[l.o,l.g,l.j].reduce((function(e,t){return t in S?Math.min(e,S[t]):e}),l.b);switch(g){case l.b:return r.speed&&t(Object(o.setAviso)(l.G,r.idCelda,r.numero,"Tren ".concat(r.numero," detenido en ").concat(Object(u.e)(s)))),void t(A({idTren:e,speed:0}));case l.z:if(0===r.speed)return t(Object(o.setAviso)(l.n,r.idCelda,r.numero,"Tren ".concat(r.numero," reanuda la marcha en ").concat(Object(u.e)(s)))),void t(A({idTren:e,speed:r.maxSpeed/2}));j=r.maxSpeed/2;break;case l.p:if(0===r.speed)return t(Object(o.setAviso)(l.n,r.idCelda,r.numero,"Tren ".concat(r.numero," reanuda la marcha en ").concat(Object(u.e)(s)))),void t(A({idTren:e,speed:r.maxSpeed}));j=r.maxSpeed;break;default:throw new Error("Sem\xe1foro ".concat(v," d\xe1 sem\xe1foro imposible ").concat(g))}}if(h.idTren){var C=Object(c.j)(n(),h.idTren);return void t(Object(o.setAlarma)(E,r.numero,"Colisi\xf3n en ".concat(Object(u.e)(h)," entre trenes ").concat(r.numero," y ").concat(C.numero)))}var y=Object(c.d)(n(),h.idBloque);if(y&&y!==e){var w=Object(c.j)(n(),y);return void t(Object(o.setAlarma)(E,r.numero,"Tren ".concat(r.numero," invade el bloque ").concat(h.idBloque," ocupado por el tren ").concat(w.numero)))}var k=function(e,t){function n(t){var n=t.puntas;return n.includes(e)?n[0]===e?n[1]:n[0]:void 0}switch(t.tipo){case l.q:return n(t);case l.f:return t.punta===e?t.ramas[t.posicion]:t.ramas[t.posicion]===e?t.punta:void 0;case l.y:return t.rebota?t.punta:t.punta===e?"X":void 0;case l.h:return n(t.linea1)||n(t.linea2)}}(p,h);if(!k)return void t(Object(o.setAlarma)(h.idCelda,r.numero,"Tren ".concat(r.numero," no encuentra v\xeda correspondiente en celda ").concat(Object(u.e)(h))));t(Object(o.removeTrenFromCelda)(s.idCelda)),t(Object(o.addTrenToCelda)(E,e)),t(A({idTren:e,dir:k,x:m,y:O,speed:j,idCelda:E,falta:h.longitud||1}))}else t(b(r))}else t(A(r));t(Object(o.runAutomatizaciones)())}}}}function j(){return function(e,t){var n=i.b.selector(t());return Promise.all(Object(c.k)(t(),n).map((function(t){return e(p(t.idTren))})))}}},,,function(e,t,n){e.exports={rect:"styles_rect__1zG3J",manual:"styles_manual__139ZI",text:"styles_text__JdA5Q",svg:"styles_svg__rOGuq","tramo-normal":"styles_tramo-normal__JZdRz","tramo-muerto":"styles_tramo-muerto__LXymi","tramo-ocupado":"styles_tramo-ocupado__LrGlb",rebota:"styles_rebota__323Gf",close:"styles_close__I-x5K"}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var a=n(6),r=Object(a.b)("showEstado"),c=Object(a.b)("hideEstado")},,function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return d}));var a=n(6),r=n(12),c=n(4),o=Object(a.b)("doSetAlarma");function i(e,t,n){return function(a){a(l(c.i,e,t,n)),a(o({idCelda:e,numero:t,msg:n,fecha:Date.now()})),a(r.c.action(0))}}var u=Object(a.b)("clearAlarma"),l=Object(a.b)("setAviso",(function(e,t,n,a){return{payload:{nivel:e,idCelda:t,numero:n,msg:a,fecha:Date.now()}}})),s=Object(a.b)("clearAvisos"),d=Object(a.b)("clearAviso")},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var a=n(21),r=n(53).a.getSelectors((function(e){return e.bloques})),c=r.selectById,o=Object(a.a)(r.selectById,(function(e){return e&&e.idTren}))},function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f}));var a=n(9),r=n(24),c=n(6),o=n(14),i=n(26),u=n(4),l=Object(c.b)("updateSemaforo");function s(e,t,n){return function(c,o){var u=Object(i.b)(o(),e);if(!u[t])throw new Error("Semaforo ".concat(e," no tiene senal ").concat(t));return u[t]!==n&&c(l(Object(r.a)({},u,Object(a.a)({},t,n))))}}function d(e,t,n){return function(a,r){return a(s(e,t,n)),Object(i.a)(r(),e)===u.c&&a(Object(o.runAutomatizaciones)(e)),a(Object(o.clearPendientes)())}}function f(e,t){return function(n,c){var s=Object(i.b)(c(),e);t===u.e?n(l([u.o,u.g,u.j].reduce((function(e,t){return t in s?Object(r.a)({},e,Object(a.a)({},t,u.b)):e}),{idSemaforo:e,modo:t}))):n(l({idSemaforo:e,modo:t})),Object(i.a)(c(),e)===u.c&&n(Object(o.runAutomatizaciones)())}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s}));var a=n(24),r=n(21),c=n(4),o=n(12),i=n(54).a.getSelectors((function(e){return e.celdas})),u=Object(r.a)(i.selectAll,o.b.selector,(function(e,t){return e.filter((function(e){return e.idSector===t}))})),l=Object(r.a)(i.selectById,(function(e){if(e)return Object(a.a)({posicion:c.w},e)})),s=Object(r.a)(i.selectById,(function(e){return e&&e.manual}))},function(e,t,n){e.exports={semaforo:"styles_semaforo__1oD_-",verde:"styles_verde__3jxOB",rojo:"styles_rojo__19OcT",amarillo:"styles_amarillo__EBZgn",maniobra:"styles_maniobra__1WLEL",blink:"styles_blink__1pyu2",blinker:"styles_blinker__2Ms7j"}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(6),r=Object(a.b)("setBloqueOcupado",(function(e,t,n){return{payload:{idBloque:e,idTren:t,vecino:n}}}))},function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return A})),n.d(t,"f",(function(){return p}));var a=n(6),r=n(14),c=n(17),o=n(4),i=Object(a.b)("updateCelda"),u=Object(a.b)("updateCelda",(function(e,t){return{payload:{idCelda:e,posicion:t}}}));function l(e,t){return function(n,a){var i=Object(c.e)(a(),e);if(i.tipo!==o.f)throw new Error("Celda ".concat(e,"  no es un cambio"));return i.posicion!==t&&(!Object(c.h)(a(),e)&&(n(Object(r.setPendiente)(e)),n(u(e,t))))}}function s(e,t){return function(n,a){return n(l(e,t)),Object(c.f)(a(),e)||n(Object(r.runAutomatizaciones)(e)),n(Object(r.clearPendientes)())}}var d=Object(a.b)("updateCelda",(function(e,t){return{payload:{idCelda:e,manual:t}}}));function f(e,t){return function(n,a){n(d(e,t)),Object(c.f)(a(),e)||n(Object(r.runAutomatizaciones)())}}var m=Object(a.b)("updateCelda",(function(e){return{payload:{idCelda:e,idTren:null}}}));function b(e){return function(t,n){t(m(e));var a=Object(c.e)(n(),e);a.idBloque&&t(Object(r.setBloqueOcupado)(a.idBloque,!1))}}var O=Object(a.b)("updateCelda",(function(e,t){return{payload:{idCelda:e,idTren:t}}}));function A(e,t){return function(n,a){n(O(e,t));var o=Object(c.e)(a(),e);o.idBloque&&n(Object(r.setBloqueOcupado)(o.idBloque,t))}}var p=Object(a.b)("updateCelda",(function(e,t){return{payload:{idCelda:e,rebota:t}}}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return m}));var a=n(24),r=n(21),c=n(12),o=n(45),i=n(26),u=n(8),l=n(4),s=n(65).a.getSelectors((function(e){return e.enclavamientos})),d=s.selectAll,f=s.selectById,m=Object(r.a)((function(e){return e}),c.b.selector,f,(function(e,t,n){return n?n.deps.reduce((function(n,r){switch(r.tipo){case l.d:var c=Object(u.b)(t,r.bloque),s=Object(o.b)(e,c);if(s)return n.concat(Object(a.a)({},r,{idTren:s,idBloque:c}));break;case l.C:var d=Object(u.a)(Object(a.a)({},r,{idSector:t})),f=Object(i.b)(e,d);if([l.o,l.g,l.j].reduce((function(e,t){return t in f?Math.min(e,f[t]):e}),l.b)!==r.aspecto)return n.concat(Object(a.a)({},r,{},f))}return n}),[]):[]}))},function(e,t,n){"use strict";var a=n(6);t.a=Object(a.d)({selectId:function(e){return e.idBloque}})},function(e,t,n){"use strict";var a=n(6);t.a=Object(a.d)({selectId:function(e){return e.idCelda}})},function(e,t,n){"use strict";var a=n(6);t.a=Object(a.d)({selectId:function(e){return e.idSemaforo}})},function(e,t,n){e.exports={info:"styles_info__2eaPP",warning:"styles_warning__Y2zSC",danger:"styles_danger__3Ef8R",fixed:"styles_fixed__3IULb",buttons:"styles_buttons__Of--i"}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(e){return e.alertas.alarma},r=function(e){return e.alertas.avisos}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e,t){return Object.values(e.trenes).filter((function(e){return!t||e.idSector===t}))},r=function(e,t){return e.trenes[t]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m}));var a=n(68),r=n.n(a),c=n(89),o=n(8),i=n(17),u=n(12),l=n(4),s=n(14);function d(e,t,n,a){var r=a.idSector;switch(a.tipo){case l.f:return function(n,a){var c=Object(i.e)(t(),n);return a.reduce((function(a,u){var l=Object(o.a)({idSector:r,x:u.x,y:u.y}),d=Object(i.e)(t(),l),f=u.alts.find((function(e){return e.cuando===d.posicion}));if(!f)return a;var m=f.posicion;return m===c.posicion||c.manual?a:a.then((function(t){return!!e(Object(s.rawSetPosicion)(n,m))||t}))}),Promise.resolve(!1))}(n,a.deps);case l.C:return function(n,a){var c=Object(i.i)(t(),n);if(c.modo!==l.c)return!1;var u={izq:l.p,centro:l.p,der:l.p};return a.forEach((function(e){var a=Object(o.a)({idSector:r,x:e.x,y:e.y,dir:e.dir});switch(e.tipo){case l.f:var c=Object(i.e)(t(),a),s=e.alts.find((function(e){return e.cuando===c.posicion}));s&&Object.keys(u).forEach((function(e){s[e]&&(u[e]=Math.max(u[e],s[e]))}));break;case l.C:var d=Object(i.i)(t(),a),f=[l.o,l.g,l.j].reduce((function(e,t){return t in d?Math.min(e,d[t]):e}),l.b);e.senales.forEach((function(e){var t=e.cuando,n=e.senalAfectada,a=e.aspecto;f===t&&(u[n]=Math.max(u[n],a))}));break;case l.d:!!Object(i.d)(t(),Object(o.b)(r,e.bloque))&&(u[e.senalAfectada]=l.b);break;case l.m:u[e.senalAfectada]=Math.max(e.aspecto,u[e.senalAfectada]);break;default:throw new Error("Dependencia ".concat(e.idSource," de ").concat(n," tiene tipo desconocido: ").concat(e.tipo))}})),Object.keys(u).reduce((function(t,a){return a in c?c[a]===u[a]?t:t.then((function(t){return!!e(Object(s.doSetAspectoSenal)(n,a,u[a]))||t})):t}),Promise.resolve(!1))}(n,a.deps);case l.d:return function(n,a){var c=Object(i.c)(t(),n);a.reduce((function(a,c){switch(c.tipo){case l.d:var u=Object(o.a)({idSector:r,x:c.x,y:c.y});if(Object(i.e)(t(),u).posicion===c.posicion){var d=Object(i.c)(t(),Object(o.b)(r,c.bloque));if(d.idTren&&!d.vecino)return e(Object(s.setBloqueOcupado)(n,d.idTren,!0))}return a;default:throw new Error("Dependencia de  ".concat(n," tiene tipo desconocido: ").concat(c.tipo))}}),c.vecino?e(Object(s.setBloqueOcupado)(n,!1,!1)):Promise.resolve(!1))}(n,a.deps);default:throw new Error("Celda ".concat(n," tiene automatizaci\xf3n desconocido ").concat(a.tipo))}}function f(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=Object(i.a)(a(),e),d(n,a,e,c);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function m(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a){var c,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u.a.selector(a())){t.next=2;break}return t.abrupt("return");case 2:c=function(){return Object(i.b)(a()).reduce((function(t,r){var c=r.x,i=r.y,u=r.dir,s=r.tipo,f=r.bloque,m=r.idSector,b=s===l.d?Object(o.b)(m,f):Object(o.a)({idSector:m,x:c,y:i,dir:u});return e&&b===e?t:t.then((function(e){return d(n,a,b,r)||e}))}),Promise.resolve(!1))},s=9;case 4:if(t.t0=s,!t.t0){t.next=9;break}return t.next=8,c();case 8:t.t0=t.sent;case 9:if(!t.t0){t.next=13;break}s--,t.next=4;break;case 13:if(s){t.next=15;break}throw new Error("Automatizaci\xf3n en loop por ".concat(e));case 15:return t.abrupt("return",!!s);case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var a=n(6),r=Object(a.b)("setPendiente"),c=Object(a.b)("clearPendientes")},,function(e,t,n){"use strict";var a=n(6),r=n(4);t.a=Object(a.d)({selectId:function(e){return e.idAutom},sortComparer:function(e,t){return e.tipo===r.f&&t.tipo===r.C?-1:e.tipo===r.C&&t.tipo===r.f?1:0}})},function(e,t,n){"use strict";var a=n(6);t.a=Object(a.d)({selectId:function(e){return e.idPunta}})},function(e,t,n){"use strict";var a=n(6);t.a=Object(a.d)({selectId:function(e){return e.idEncl}})},function(e,t,n){"use strict";var a=n(6);t.a=Object(a.d)({selectId:function(e){return e.idSector},sortComparer:function(e,t){var n=e.descrCorta.toUpperCase(),a=t.descrCorta.toUpperCase();return n<a?-1:n>a?1:0}})},function(e,t,n){e.exports={flechaDespachador:"styles_flechaDespachador__jpfOH",trenDespachador:"styles_trenDespachador__1G3VE",disabled:"styles_disabled__10sbm",tren:"styles_tren__25vJ9"}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(21),r=n(12),c=n(63).a.getSelectors((function(e){return e.automatizaciones})),o=Object(a.a)(c.selectAll,r.b.selector,(function(e,t){return e.filter((function(e){return e.idSector===t}))})),i=c.selectById},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(64).a.getSelectors((function(e){return e.empalmes})),r=(a.selectAll,a.selectById)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return e.options.showEstado}},,,function(e,t){e.exports="data:image/gif;base64,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"},,,,,,,,,,,,,,,,,function(e,t,n){e.exports={alarma:"styles_alarma__1_-OE",close:"styles_close__1Zwow"}},,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,function(e,t,n){e.exports={close:"styles_close__3wiH9"}},,function(e,t,n){e.exports={flecha:"styles_flecha__1UfOk"}},function(e,t,n){e.exports={sector:"styles_sector__1v7a1"}},function(e,t,n){e.exports={rate:"styles_rate__26o7Y"}},,,,,,,,function(e,t,n){e.exports=n(175)},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a={"./_sectores":[94,0],"./_sectores.js":[94,0],"./circulo":[123,1],"./circulo.js":[123,1],"./constitucion":[124,2],"./constitucion.js":[124,2],"./cruceDobleCambio":[125,3],"./cruceDobleCambio.js":[125,3],"./dosVias":[126,4],"./dosVias.js":[126,4],"./empalmes":[127,5],"./empalmes.js":[127,5],"./semaforosEncadenados":[128,6],"./semaforosEncadenados.js":[128,6],"./simpleDesvio":[129,7],"./simpleDesvio.js":[129,7]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=152,e.exports=r},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a,r,c,o,i,u,l,s,d,f=n(1),m=n.n(f),b=n(44),O=n.n(b),A=n(15),p=n(62),j=n(40),E=n(177),v=n(178),h=n(179),S=n(117),g=n(6),C=n(9),y=n(14),w=Object(g.e)({alarma:{},avisos:[]},(a={},Object(C.a)(a,y.doSetAlarma,(function(e,t){e.alarma=t.payload})),Object(C.a)(a,y.clearAlarma,(function(e){e.alarma={}})),Object(C.a)(a,y.setAviso,(function(e,t){e.avisos.unshift(t.payload)})),Object(C.a)(a,y.clearAviso,(function(e,t){var n=e.avisos.findIndex((function(e){return e.fecha===t.payload}));-1!==n&&e.avisos.splice(n,1)})),Object(C.a)(a,y.clearAvisos,(function(e){e.avisos=[]})),a)),k=n(50),B=n(18),x=n(53),I=Object(g.e)(x.a.getInitialState(),(r={},Object(C.a)(r,B.a.fulfilled,(function(e,t){x.a.addMany(e,t.payload.bloques)})),Object(C.a)(r,k.a,x.a.upsertOne),r)),N=n(54),_=Object(g.e)(N.a.getInitialState(),(c={},Object(C.a)(c,B.a.fulfilled,(function(e,t){N.a.addMany(e,t.payload.celdas)})),Object(C.a)(c,y.updateCelda,N.a.upsertOne),c)),T=n(63),M=Object(g.e)(T.a.getInitialState(),Object(C.a)({},B.a.fulfilled,(function(e,t){T.a.addMany(e,t.payload.automatizaciones||[])}))),D=n(64),q=Object(g.e)(D.a.getInitialState(),Object(C.a)({},B.a.fulfilled,(function(e,t){D.a.addMany(e,t.payload.empalmes||[])}))),L=n(65),W=Object(g.e)(L.a.getInitialState(),Object(C.a)({},B.a.fulfilled,(function(e,t){L.a.addMany(e,t.payload.enclavamientos||[])}))),J=n(24),K=n(37),U=n(12),Q=Object(g.e)((o={},Object(C.a)(o,U.a,U.a.default),Object(C.a)(o,U.e,U.e.default),Object(C.a)(o,"showEstado",{show:!1}),Object(C.a)(o,U.c,U.c.default),Object(C.a)(o,U.f,U.f.default),Object(C.a)(o,U.d,U.d.default),o),(i={},Object(C.a)(i,U.a,U.a.reducer),Object(C.a)(i,U.f,U.f.reducer),Object(C.a)(i,U.e,U.e.reducer),Object(C.a)(i,K.b,(function(e,t){e.showEstado=Object(J.a)({},t.payload,{show:!0})})),Object(C.a)(i,K.a,(function(e){e.showEstado={show:!1}})),Object(C.a)(i,U.d,U.d.reducer),Object(C.a)(i,U.c,U.c.reducer),Object(C.a)(i,U.b,U.b.reducer),i)),F=n(61),z=Object(g.e)([],(u={},Object(C.a)(u,F.b,(function(e,t){e.push(t.payload)})),Object(C.a)(u,F.a,(function(){return[]})),u)),R=n(4),V=n(66),H=Object(g.e)(V.a.getInitialState({loadStatusSectores:R.E,loadStatusEachSector:{}}),(l={},Object(C.a)(l,B.b.pending,(function(e){e.loadStatusSectores===R.E&&(e.loadStatusSectores=R.s,e.errorSectores=null)})),Object(C.a)(l,B.b.fulfilled,(function(e,t){e.loadStatusSectores===R.s&&(V.a.setAll(e,t.payload),e.loadStatusSectores=R.r)})),Object(C.a)(l,B.b.rejected,(function(e,t){e.loadStatusSectores=R.E,e.errorSectores=t.error})),Object(C.a)(l,B.a.pending,(function(e,t){var n=t.meta.arg,a=e.loadStatusEachSector[n];a&&a!==R.E||(e.loadStatusEachSector[n]=R.s,e.errorSector=null)})),Object(C.a)(l,B.a.fulfilled,(function(e,t){var n=t.meta.arg;e.loadStatusEachSector[n]===R.s&&(e.loadStatusEachSector[n]=R.r)})),Object(C.a)(l,B.a.rejected,(function(e,t){e.loadStatusEachSector[t.meta.arg]=R.E,e.errorSector=t.error})),l)),P=n(46),G=n(55),Z=Object(g.e)(G.a.getInitialState(),(s={},Object(C.a)(s,B.a.fulfilled,(function(e,t){G.a.addMany(e,t.payload.semaforos||[])})),Object(C.a)(s,P.d,G.a.upsertOne),s)),Y=n(31),X=Object(g.e)({},(d={},Object(C.a)(d,Y.d,(function(e,t){var n=t.payload;e[n.idTren]=n})),Object(C.a)(d,Y.g,(function(e,t){var n=t.payload;e[n.idTren]=Object(J.a)({},e[n.idTren],{},n)})),Object(C.a)(d,Y.e,(function(e,t){delete e[t.payload]})),d)),$=n(11),ee=n(39),te=n(58),ne=n(45),ae=function(e){return Object($.useSelector)((function(t){return Object(ne.b)(t,e)}))},re=n(51),ce=n(47),oe=function(e){return Object($.useSelector)((function(t){return Object(ce.a)(t,e)}))},ie=function(e){var t=Object($.useDispatch)();return function(n){return t(Object(re.e)(e,n))}},ue=n(71),le=n(52),se=function(e){return Object($.useSelector)((function(t){return Object(le.a)(t,e)}))},de=n(60),fe=n(70),me=function(){var e=Object($.useDispatch)();return function(t){return e(Object(de.b)(t))}},be=n(72),Oe=function(){var e=Object($.useSelector)(be.a),t=Object($.useDispatch)();return{estado:e,hideEstado:function(){return t(Object(K.a)())},showEstado:function(e){return t(Object(K.b)(e))}}},Ae=U.c.useState,pe=U.b.useState,je=U.d.useState,Ee=U.e.useState,ve=U.a.useState,he=U.f.useState,Se=n(29),ge=function(e){var t=Object($.useDispatch)();return{loading:Object($.useSelector)((function(t){return Object(Se.d)(t,e)})),sector:Object($.useSelector)((function(t){return Object(Se.c)(t,e)})),error:Object($.useSelector)(Se.a),load:function(){return t(Object(B.a)(e))}}},Ce=n(26),ye=function(e){return Object($.useSelector)((function(t){return Object(Ce.b)(t,e)}))},we=function(e){var t=Object($.useSelector)((function(t){return Object(Ce.a)(t,e)})),n=Object($.useDispatch)();return[t,Object(f.useCallback)((function(t){return n(Object(P.c)(e,t))}),[e,n])]},ke=n(59),Be=Object(g.a)({reducer:{alertas:w,bloques:I,celdas:_,automatizaciones:M,empalmes:q,enclavamientos:W,options:Q,pendientes:z,sectores:H,semaforos:Z,trenes:X}}),xe=n(8),Ie=n(23),Ne=n.n(Ie),_e=n(82),Te=n(107),Me=n(49),De=n(108);function qe(){return m.a.createElement("svg",{viewBox:"0 0 32 32",className:Ne.a.svg},m.a.createElement("path",{d:"M 16 16 L 32 0",className:Ne.a.alt}),m.a.createElement("path",{d:"M 16 0 V 16 32",className:Ne.a.main}))}function Le(){return m.a.createElement("svg",{viewBox:"0 0 32 32",className:Ne.a.svg},m.a.createElement("path",{d:"M 16 0 V 16 16",className:Ne.a.alt}),m.a.createElement("path",{d:"M 16 32 V 16 16 L 32 0",className:Ne.a.main}))}function We(){return m.a.createElement("svg",{viewBox:"0 0 32 32",className:Ne.a.svg},m.a.createElement("path",{d:"M 16 16 V 16 0",className:Ne.a.alt}),m.a.createElement("path",{d:"M 16 16 L 32 0",className:Ne.a.alt}),m.a.createElement("path",{d:"M 16 32 V 16 16 L 0 0",className:Ne.a.main}))}function Je(){return m.a.createElement("svg",{viewBox:"0 0 32 32",className:Ne.a.svg},m.a.createElement("path",{d:"M 16 16 L 32 0",className:Ne.a.alt}),m.a.createElement("path",{d:"M 16 16 L 0 0",className:Ne.a.alt}),m.a.createElement("path",{d:"M 16 32 V 16 0",className:Ne.a.main}))}function Ke(){return m.a.createElement("svg",{viewBox:"0 0 32 32",className:Ne.a.svg},m.a.createElement("path",{d:"M 16 16 V 16 0",className:Ne.a.alt}),m.a.createElement("path",{d:"M 16 16 L 0 0",className:Ne.a.alt}),m.a.createElement("path",{d:"M 16 32 V 16 16 L 32 0",className:Ne.a.main}))}var Ue=n(56),Qe=n.n(Ue);function Fe(e){var t=e.nivel,n=e.fecha,a=e.idCelda,r=e.numero,c=e.msg,o=e.clearAviso,i=oe(a);return m.a.createElement("tr",{className:Qe.a[t]},m.a.createElement("td",null,new Date(n).toLocaleString()),m.a.createElement("td",null,Object(xe.e)(i)),m.a.createElement("td",null,r),m.a.createElement("td",{colSpan:2},c),m.a.createElement("td",null,m.a.createElement(Me.b,{onClick:function(e){return Object(xe.d)(e)&&o(n)}})))}function ze(){var e=function(){var e=Object($.useDispatch)();return[Object($.useSelector)(te.b),function(){return e(Object(ee.c)())},function(t){return e(Object(ee.b)(t))}]}(),t=Object(A.a)(e,3),n=t[0],a=t[1],r=t[2],c=he(),o=Object(A.a)(c,2),i=o[0],u=o[1],l=Object(f.useState)(!1),s=Object(A.a)(l,2),d=s[0],b=s[1];return n.length?m.a.createElement(E.a,{className:Qe.a.fixed,size:"sm"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Fecha"),m.a.createElement("th",null,"Celda"),m.a.createElement("th",null,"Tren"),m.a.createElement("th",null,"Mensaje"),m.a.createElement("th",null,m.a.createElement(v.a,null,m.a.createElement(h.a,{type:"checkbox",checked:d,onChange:function(e){return b((function(e){return!e}))}}),"\xa0Ver Info")),m.a.createElement("th",{className:Qe.a.buttons},m.a.createElement(S.a,{className:Qe.a.close,title:"Borrar todas las notificaciones",onClick:function(e){return Object(xe.d)(e)&&a()},size:"sm"},m.a.createElement(Me.b,null)),m.a.createElement(S.a,{close:!0,onClick:function(e){return Object(xe.d)(e)&&u(!i)},title:"Cerrar Teletipo",size:"sm"})))),m.a.createElement("tbody",null,n.filter((function(e){return!!d||e.nivel!==R.n})).map((function(e){return m.a.createElement(Fe,Object.assign({},e,{key:e.fecha,clearAviso:r}))})))):m.a.createElement(E.a,{className:Qe.a.fixed,size:"sm"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"No hay mensajes"))))}var Re=n(77),Ve=n(7),He=n.n(Ve),Pe=n(48),Ge=n.n(Pe),Ze=["","verde","amarillo","rojo"];function Ye(e){var t,n=e.idSemaforo,a=e.placement,r=ye(n),c=we(n),o=Object(A.a)(c,2),i=o[0],u=o[1],l=r||{},s=l.idSector,d=l.x,f=l.y,b=l.centro,O=l.izq,p=l.der,j=Oe().showEstado,E=Object(xe.f)({onClick:function(){r.soloManiobra?j({tipo:R.C,idCelda:Object(xe.a)({idSector:s,x:d,y:f}),idSemaforo:Object(xe.a)(r),placement:a}):u(i===R.c?R.e:R.c)},onLongPress:function(e){return j({tipo:R.C,idCelda:Object(xe.a)({idSector:s,x:d,y:f}),idSemaforo:Object(xe.a)(r),placement:a})}});if(!r)return null;return m.a.createElement("g",Object.assign({className:He()(Ge.a.semaforo,(t={},Object(C.a)(t,Ge.a.maniobra,!r.soloManiobra&&i===R.t),Object(C.a)(t,Ge.a.blink,!r.soloManiobra&&i===R.e),t))},E),m.a.createElement("title",null,Object(xe.e)(r)),m.a.createElement("line",{x1:95,y1:38,x2:82,y2:38}),m.a.createElement("line",{x1:95,y1:33,x2:95,y2:43}),m.a.createElement("circle",{className:Ge.a[Ze[b]],cx:O||p?77:85,cy:38,r:5}),O&&m.a.createElement("circle",{className:Ge.a[Ze[O]],cx:85,cy:43,r:5}),p&&m.a.createElement("circle",{className:Ge.a[Ze[p]],cx:85,cy:33,r:5}))}var Xe={N:50,NE:100,E:100,SE:100,S:50,SW:0,W:0,NW:0},$e={N:0,NE:0,E:50,SE:100,S:100,SW:100,W:50,NW:0},et={N:270,NE:315,E:0,SE:45,S:90,SW:135,W:180,NW:225},tt=["N","NE","E","SE","S","SW","W","NW"],nt=n(34),at=n.n(nt);function rt(e){var t=e.dir,n=e.estilo,a=void 0===n?"tramo-normal":n;return m.a.createElement("line",{x1:50,y1:50,x2:Xe[t],y2:$e[t],className:at.a[a]})}function ct(e){var t=e.idCelda,n=oe(t),a=ae(n.idBloque)||n.idTren;return m.a.createElement("g",null,n.puntas.map((function(e,t){return m.a.createElement(rt,{dir:e,key:t,estilo:a?"tramo-ocupado":"tramo-normal"})})))}function ot(e){var t=e.idCelda,n=oe(t),a=ae(n.idBloque)||n.idTren;return m.a.createElement("g",null,m.a.createElement(rt,{key:"punta",dir:n.punta,estilo:a?"tramo-ocupado":"tramo-normal"}),n.ramas.map((function(e,t){return m.a.createElement(rt,{key:e,dir:e,estilo:n.posicion===t?a?"tramo-ocupado":"tramo-normal":"tramo-muerto"})})))}function it(e){var t=e.idCelda,n=oe(t),a=ae(n.idBloque)||n.idTren;return m.a.createElement("g",null,m.a.createElement(rt,{dir:n.punta,estilo:a?"tramo-ocupado":"tramo-normal"}),m.a.createElement("circle",{cx:50,cy:50,r:10,fill:a?"yellow":"black"}),n.rebota&&m.a.createElement("line",{x1:50+100/6,y1:40,x2:50+100/6,y2:60,className:at.a.rebota,transform:"rotate(".concat(et[n.punta]+180,", ").concat(50,", ").concat(50,")")}))}function ut(e){var t=e.idCelda,n=oe(t),a=ae(n.idBloque)||n.idTren;return m.a.createElement("g",null,n.linea1.puntas.map((function(e,t){return m.a.createElement(rt,{dir:e,key:"l1".concat(t),estilo:a?"tramo-ocupado":"tramo-normal"})})),n.linea2.puntas.map((function(e,t){return m.a.createElement(rt,{dir:e,key:"l1".concat(t),estilo:a?"tramo-ocupado":"tramo-normal"})})))}ct.whyDidYouRender=!1,ot.whyDidYouRender=!1;var lt=n(67),st=n.n(lt);function dt(e){var t=e.celda,n=e.dir,a=function(){var e=Object($.useDispatch)();return function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e(Object(Y.a)(t,n,a))}}(),r=ae(t.idBloque);return m.a.createElement(m.a.Fragment,null,m.a.createElement("circle",{cx:50,cy:50,r:9,className:st.a.trenDespachador}),!r&&m.a.createElement("g",Object.assign({className:st.a.flechaDespachador,onClick:function(e){if(Object(xe.d)(e)){if(t.idTren)return;a(t,n)}}},xe.c),m.a.createElement("path",{d:"M 11,-12 L 29,0 11,12 z",transform:"translate(".concat(50,",").concat(50,")")})))}function ft(e){var t=e.celda,n=e.dir;return!Array.isArray(t.despachador)||!t.despachador.includes(n)||t.idTren||t.tipo===R.f&&t.punta!==n&&t.ramas[t.posicion]!==n?null:m.a.createElement(dt,{celda:t,dir:n})}function mt(e){var t,n=e.celda,a=(t=n.idTren,Object($.useSelector)((function(e){return Object(ke.a)(e,t)}))),r=a.speed/(a.maxSpeed||1);return m.a.createElement("g",{transform:"translate(".concat(42,", ").concat(42,")")},m.a.createElement("circle",{cx:8,cy:8,r:9,className:st.a.tren},m.a.createElement("title",null,"".concat(a.numero,"\nVelocidad: ").concat(a.speed,"\nFalta: ").concat(a.falta))),r&&1!==r?m.a.createElement("path",{d:"M 8 0 A 8 8 90 1 0 8 16 z",fill:"orange"}):null,m.a.createElement(De.a,{color:r?"black":"red",size:"16px"}))}var bt=n(199),Ot=n(180),At=n(181),pt=n(182),jt=n(183),Et=n(118),vt=n.n(Et);function ht(e){var t=e.idCelda,n=e.setShowFaltantes,a=se(t);return a.length?m.a.createElement(bt.a,{isOpen:!!t,target:t},m.a.createElement(Ot.a,null,"Condiciones Faltantes",m.a.createElement(S.a,{close:!0,className:vt.a.close,onClick:function(e){Object(xe.d)(e)&&n(!1)}})),m.a.createElement(At.a,null,m.a.createElement(pt.a,null,a.map((function(e,t){switch(e.tipo){case R.d:return m.a.createElement(jt.a,{key:t},"Bloque ocupado ".concat(e.bloque));case R.C:return m.a.createElement(jt.a,{key:t},"Sem\xe1foro libre: ".concat(Object(xe.e)(e)))}return"????"}))))):null}var St=n(120),gt=n.n(St);function Ct(e){var t=e.celda,n=e.empalme,a=oe(Object(xe.a)({idSector:t.idSector,x:n.x,y:n.y}));return m.a.createElement("g",null,m.a.createElement("path",{d:"M 33,-10 L 51,0 33,10 z",transform:"translate(".concat(50,",").concat(50,")"),className:gt.a.flecha}," ",m.a.createElement("title",null,"Contin\xfaa en: ".concat(Object(xe.e)(Object(J.a)({},a,{dir:n.dir}))))))}function yt(e){var t=e.celda,n=e.dir,a=function(e){return Object($.useSelector)((function(t){return Object(ue.a)(t,e)}))}(Object(xe.a)(Object(J.a)({},t,{dir:n})));return a?m.a.createElement(Ct,{celda:t,empalme:a}):null}function wt(e){var t,n=e.celda,a=e.cellsAcross,r=e.cellWidth,c=e.padLeft,o=e.padTop,i=n.idCelda,u=ie(i),l=function(e){var t=Object($.useSelector)((function(t){return Object(ce.a)(t,e)})),n=Object($.useDispatch)();return function(){return n(Object(re.f)(e,!t.rebota))}}(i),s=(t=n.idBloque,Object($.useSelector)((function(e){return Object(ne.a)(e,t)}))),d=Ee(),b=Object(A.a)(d,1)[0],O=Oe().showEstado,p=se(i),j=Object(f.useState)(),E=Object(A.a)(j,2),v=E[0],h=E[1],S=Object(xe.f)({onClick:function(e){switch(n.tipo){case R.f:p.length?h(!0):u((n.posicion+1)%n.ramas.length);break;case R.y:l()}},onLongPress:function(e){O({tipo:n.tipo,idCelda:i,placement:g})}});if(Object(f.useEffect)((function(){v&&!p.length&&h(!1)}),[v,p.length]),!r||!n)return null;var g=n.x>a/2?"left":"right",y=b?"[".concat(n.x,",").concat(n.y,"]"):"",w=[];n.nombre&&w.push("Celda: ".concat(n.nombre)),w.push("Coordenadas: [".concat(n.x,",").concat(n.y,"]")),s&&w.push("Bloque: ".concat(s.nombre)),n.idTren&&w.push("Con tren ".concat(n.idTren));var k={linea:ct,cambio:ot,paragolpe:it,cruce:ut}[n.tipo];return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",Object.assign({id:i,className:He()(at.a.rect,Object(C.a)({},at.a.manual,n.manual)),style:{left:c+n.x*r,top:n.y*r+o,width:r,height:r},title:w.join("\n")},S),m.a.createElement("svg",{viewBox:"0 0 ".concat(100," ").concat(100),width:r,height:r,className:at.a.svg},m.a.createElement("text",{x:"0",y:"95",className:at.a.text},y),n.nombre&&m.a.createElement("text",{textAnchor:"end",x:95,y:95,className:at.a.text},n.nombre),m.a.createElement(k,{idCelda:i}),tt.map((function(e){return m.a.createElement("g",{key:e,transform:"rotate(".concat(et[e],", ").concat(50,", ").concat(50,")")},m.a.createElement(Ye,{idSemaforo:Object(xe.a)(Object(J.a)({},n,{dir:e})),placement:g}),m.a.createElement(yt,{celda:n,dir:e}),!!n.despachador&&m.a.createElement(ft,{celda:n,dir:e}))})),n.idTren?m.a.createElement(mt,{celda:n}):null)),v&&m.a.createElement(ht,{idCelda:i,setShowFaltantes:h}))}function kt(e){var t=e.idCelda,n=Object(Re.a)(e,["idCelda"]),a=oe(t);return a?m.a.createElement(wt,Object.assign({celda:a},n)):null}kt.whyDidYouRender=!1;var Bt=n(75),xt=n.n(Bt),It=n(121),Nt=n.n(It);function _t(e){var t,n=e.sector,a=(t=n.idSector,Object($.useSelector)((function(e){return Object(ce.c)(e,t)}))),r=Object(xe.g)(),c=n.ancho,o=n.descrCorta,i=n.alto,u=Math.min(Math.floor(r.width/c),c>8?100:200),l=(r.width-c*u)/2;return Object(f.useEffect)((function(){document.title="CTC - ".concat(o)})),m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:Nt.a.sector},a.map((function(e){return m.a.createElement(kt,{key:e.idCelda,idCelda:e.idCelda,cellsAcross:c,cellWidth:u,padLeft:l,padTop:60})}))),m.a.createElement("div",{style:{height:(i+2)*u}}))}function Tt(e){var t=e.idSector,n=ge(t),a=n.sector,r=n.loading,c=n.error,o=n.load;return Object(f.useEffect)((function(){c||r===R.r||o()}),[c,o,r]),c?m.a.createElement("pre",null,"Error cargando 'sector': ",JSON.stringify(c,null,2)):r!==R.r?m.a.createElement("img",{alt:"loading...",src:xt.a}):m.a.createElement(_t,{sector:a})}var Mt=n(188),Dt=n(189),qt=n(190),Lt=n(191),Wt=n(192),Jt=n(184),Kt=n(22),Ut=n.n(Kt);function Qt(e){var t=e.celda,n=t.posicion,a=t.idCelda,r=ie(a),c=function(e){var t=Object($.useSelector)((function(t){return Object(ce.b)(t,e)})),n=Object($.useDispatch)(),a=Object(f.useCallback)((function(){return n(Object(re.d)(e,!t))}),[e,n,t]);return[t,a]}(a),o=Object(A.a)(c,2),i=o[0],u=o[1],l=function(e){return Object(xe.d)(e)&&r(R.w)},s=function(e){return Object(xe.d)(e)&&r(R.k)};return m.a.createElement(At.a,null,m.a.createElement(Jt.a,{className:Ut.a.cambio},2===t.ramas.length?m.a.createElement(m.a.Fragment,null,m.a.createElement(S.a,{size:"sm",onClick:l,color:n===R.w?"primary":"outline-secondary"},m.a.createElement(qe,null)),m.a.createElement(S.a,{size:"sm",onClick:s,color:n===R.k?"primary":"outline-secondary"},m.a.createElement(Le,null))):m.a.createElement(m.a.Fragment,null," ",m.a.createElement(S.a,{size:"sm",onClick:s,color:n===R.k?"primary":"outline-secondary"},m.a.createElement(We,null)),m.a.createElement(S.a,{size:"sm",onClick:l,color:n===R.w?"primary":"outline-secondary"},m.a.createElement(Je,null)),m.a.createElement(S.a,{size:"sm",onClick:function(e){return Object(xe.d)(e)&&r(R.a)},color:n===R.a?"primary":"outline-secondary"},m.a.createElement(Ke,null)))),m.a.createElement(S.a,{className:Ut.a.manual,size:"sm",color:i?"danger":"outline-info",onClick:function(e){return Object(xe.d)(e)&&u()}},i?m.a.createElement(_e.b,null):m.a.createElement(_e.a,null)))}var Ft=n(185),zt=n(186),Rt=n(187);function Vt(e){var t=e.senal,n=e.aspecto,a=e.onSetAspecto;return m.a.createElement(m.a.Fragment,null,m.a.createElement(Jt.a,{vertical:!0},m.a.createElement(S.a,{size:"sm",color:n===R.b?"danger":"outline-danger",onClick:function(e){return Object(xe.d)(e)&&a(t,R.b)}},m.a.createElement(Te.a,null)),m.a.createElement(S.a,{size:"sm",color:n===R.z?"warning":"outline-warning",onClick:function(e){return Object(xe.d)(e)&&a(t,R.z)}},m.a.createElement(Te.a,null)),m.a.createElement(S.a,{size:"sm",color:n===R.p?"success":"outline-success",onClick:function(e){return Object(xe.d)(e)&&a(t,R.p)}},m.a.createElement(Te.a,null))))}function Ht(e){var t=e.semaforo,n=t.izq,a=t.soloManiobra,r=t.centro,c=t.der,o=t.idSemaforo,i=function(){var e=Object($.useDispatch)();return function(t,n,a){return e(Object(P.b)(t,n,a))}}(),u=we(o),l=Object(A.a)(u,2),s=l[0],d=l[1],f=me(),b=function(e,t){(s===R.t||a)&&i(o,e,t),a&&f(o)};return m.a.createElement(At.a,null,m.a.createElement(Ft.a,null,m.a.createElement("div",{className:He()(Object(C.a)({},Ut.a.disabled,!a&&!s))},m.a.createElement(zt.a,null,m.a.createElement(Rt.a,null,m.a.createElement("div",{className:He()(Ut.a.pushDown,Object(C.a)({},Ut.a.hidden,!n))},m.a.createElement(Vt,{senal:"izq",aspecto:n,onSetAspecto:b}))),m.a.createElement(Rt.a,null,m.a.createElement("div",{className:He()(Object(C.a)({},Ut.a.hidden,!r))},m.a.createElement(Vt,{senal:"centro",aspecto:r,onSetAspecto:b}))),m.a.createElement(Rt.a,null,m.a.createElement("div",{className:He()(Ut.a.semaforo,Ut.a.pushDown,Object(C.a)({},Ut.a.hidden,!c))},m.a.createElement(Vt,{senal:"der",aspecto:c,onSetAspecto:b}))))),!a&&m.a.createElement(zt.a,null,m.a.createElement(S.a,{className:Ut.a.manual,size:"sm",color:s?"danger":"outline-info",onClick:function(){d(s===R.c?R.t:R.c)}},s?m.a.createElement(_e.b,null):m.a.createElement(_e.a,null)))))}function Pt(){var e=Oe().estado,t=e.show,n=Object(Re.a)(e,["show"]);return t&&m.a.createElement(Gt,n)}function Gt(e){var t,n=e.idCelda,a=e.idSemaforo,r=e.placement,c=Object(f.useState)(),o=Object(A.a)(c,2),i=o[0],u=o[1],l=oe(n),s=ye(a),d=je(),b=Object(A.a)(d,1)[0],O=Oe().hideEstado,p=(t=a||n,Object($.useSelector)((function(e){return Object(fe.a)(e,t)}))),j=Object(f.useState)(),E=Object(A.a)(j,2),v=E[0],h=E[1],g=s||l.tipo===R.f;Object(f.useEffect)((function(){i!==n&&(h(g?"Cmd.":a?"Semaforo":"Celda"),u(n))}),[i,n,g,a]);var C=function(e){v!==e&&h(e)},y=function(){return m.a.createElement(m.a.Fragment,null,s&&m.a.createElement(Ht,{semaforo:s}),!s&&l.tipo===R.f&&m.a.createElement(Qt,{celda:l}))};return m.a.createElement(bt.a,{isOpen:!(!b&&!g),target:n,placement:r},m.a.createElement(Ot.a,null,s?"Sem\xe1foro ".concat(Object(xe.e)(s)):"Celda ".concat(Object(xe.e)(l)),m.a.createElement(S.a,{close:!0,className:Ut.a.close,onClick:function(e){return Object(xe.d)(e)&&O()}})),m.a.createElement(At.a,null,b?m.a.createElement(m.a.Fragment,null,m.a.createElement(Mt.a,{pills:!0,className:Ut.a.solapas},g&&m.a.createElement(Dt.a,{title:"Mostrar Comandos"},m.a.createElement(qt.a,{className:He()(Ut.a.solapa,{active:"Cmd."===v}),onClick:function(){C("Cmd.")}},"Cmd.")),s&&m.a.createElement(Dt.a,{title:"Mostrar COnfiguraci\xf3n Semaforo"},m.a.createElement(qt.a,{className:He()(Ut.a.solapa,{active:"Semaforo"===v}),onClick:function(){C("Semaforo")}},"Semaforo")),m.a.createElement(Dt.a,{title:"Mostrar Configuraci\xf3n Celda"},m.a.createElement(qt.a,{className:He()(Ut.a.solapa,{active:"Celda"===v}),onClick:function(){C("Celda")}},"Celda")),p&&m.a.createElement(Dt.a,{title:"Mostrar Configuraci\xf3n Automatizaci\xf3n"},m.a.createElement(qt.a,{className:He()(Ut.a.solapa,{active:"Autom."===v}),onClick:function(){C("Autom.")}},"Autom."))," "),m.a.createElement(Lt.a,{activeTab:v},g&&m.a.createElement(Wt.a,{tabId:"Cmd."},m.a.createElement(y,null)),s&&m.a.createElement(Wt.a,{tabId:"Semaforo"},m.a.createElement("pre",null,JSON.stringify(s,null,2))),m.a.createElement(Wt.a,{tabId:"Celda"},m.a.createElement("pre",null,JSON.stringify(l,null,2))),p&&m.a.createElement(Wt.a,{tabId:"Autom."},m.a.createElement("pre",null,JSON.stringify(p,null,2))))):m.a.createElement(y,null)))}var Zt=n(92),Yt=n.n(Zt);function Xt(){var e=function(){var e=Object($.useDispatch)();return[Object($.useSelector)(te.a),function(){return e(Object(ee.a)())}]}(),t=Object(A.a)(e,2),n=t[0],a=n.idCelda,r=n.numero,c=n.msg,o=n.fecha,i=t[1],u=function(){var e=Object($.useDispatch)();return function(){return e(Object(Y.c)())}}(),l=me();return!!a&&m.a.createElement(bt.a,{isOpen:!!a,target:a},m.a.createElement(Ot.a,{className:Yt.a.alarma},"Tren ",r,m.a.createElement(S.a,{close:!0,className:Yt.a.close,onClick:function(e){Object(xe.d)(e)&&(i(),u(),l())}})),m.a.createElement(At.a,null,m.a.createElement("p",null,new Date(o).toLocaleString()),c))}function $t(){var e=Object(j.e)().idSector,t=pe(),n=Object(A.a)(t,2),a=n[0],r=n[1];return Object(f.useEffect)((function(){e!==a&&r(e)}),[e,a,r]),a?m.a.createElement(m.a.Fragment,null,m.a.createElement(Pt,null),m.a.createElement(Tt,{idSector:a}),m.a.createElement(Xt,null)):null}var en=n(193),tn=n(194),nn=n(195),an=n(196),rn=n(200),cn=n(201),on=n(197),un=n(198),ln=n(122),sn=n.n(ln);function dn(){var e=function(){var e=Object($.useDispatch)();return function(){return e(Object(Y.f)())}}(),t=Ae(),n=Object(A.a)(t,2),a=n[0],r=n[1],c=Object(f.useState)(),o=Object(A.a)(c,2),i=o[0],u=o[1];return Object(f.useEffect)((function(){return a&&!i&&u(setInterval(e,1e3/a)),function(){i&&(clearInterval(i),u(0))}}),[e,i,a]),m.a.createElement(Jt.a,{title:"Velocidad de la animaci\xf3n\n(ciclos por segundo)",className:sn.a.rate},m.a.createElement(S.a,{outline:0!==a,color:a?"secondary":"danger",onClick:function(){return r(0)}},"0"),m.a.createElement(S.a,{outline:.5!==a,onClick:function(){return r(.5)}},"\xbd"),m.a.createElement(S.a,{outline:1!==a,onClick:function(){return r(1)}},"1"),m.a.createElement(S.a,{outline:2!==a,onClick:function(){return r(2)}},"2"),m.a.createElement(S.a,{outline:5!==a,onClick:function(){return r(5)}},"5"))}function fn(e){var t=e.sectores,n=Object(f.useState)(!1),a=Object(A.a)(n,2),r=a[0],c=a[1],o=Object(j.f)("/sector/:idSector"),i=o&&o.params.idSector,u=ge(i).sector,l=ve(),s=Object(A.a)(l,2),d=s[0],b=s[1],O=he(),E=Object(A.a)(O,2),v=E[0],h=E[1],S=Ee(),g=Object(A.a)(S,2),C=g[0],y=g[1],w=je(),k=Object(A.a)(w,2),B=k[0],x=k[1],I=Oe().hideEstado,N=Object(f.useState)(),_=Object(A.a)(N,2),T=_[0],M=_[1],D=function(e){i!==T&&(I(),M(i),c(!1))};return m.a.createElement(en.a,{color:"light",light:!0,expand:"md",fixed:"top"},m.a.createElement(tn.a,{color:"default",href:"/reactc2",title:"Volver al inicio"},"CTC"),m.a.createElement(dn,null),m.a.createElement(nn.a,{onClick:function(){return c(!r)}}),m.a.createElement(an.a,{isOpen:r,navbar:!0},m.a.createElement(Mt.a,{className:"mr-auto",navbar:!0},m.a.createElement(rn.a,{nav:!0,inNavbar:!0},m.a.createElement(cn.a,{nav:!0,caret:!0,title:u?u.descr:"Seleccione sector a visualizar"},u?u.descrCorta:"Sectores"),m.a.createElement(on.a,null,t.map((function(e){return m.a.createElement(un.a,{tag:p.b,to:"/sector/".concat(e.idSector),key:e.idSector,title:e.descr,active:i===e.idSector,onClick:D},e.descrCorta)})))),m.a.createElement(rn.a,{nav:!0,inNavbar:!0},m.a.createElement(cn.a,{nav:!0,caret:!0,title:"Opciones de visualizaci\xf3n"},"Opciones"),m.a.createElement(on.a,null,m.a.createElement(un.a,{onClick:function(e){Object(xe.d)(e)&&(h(!v),c(!1))},active:v},"Teletipo"),m.a.createElement(un.a,{onClick:function(e){Object(xe.d)(e)&&(b(!d),c(!1))},active:d},"Automatizaciones"),m.a.createElement(un.a,{onClick:function(e){Object(xe.d)(e)&&(y(!C),c(!1))},active:C},"Coordenadas"),m.a.createElement(un.a,{onClick:function(e){Object(xe.d)(e)&&(x(!B),c(!1))},active:B},"Mostrar Config.")))),m.a.createElement(Mt.a,{navbar:!0},m.a.createElement(Dt.a,null,m.a.createElement(qt.a,{href:"https://github.com/Satyam/reactc2",title:"Ver c\xf3digo fuente en GitHub",target:"_blank"},m.a.createElement(Me.a,null)," Github")))))}function mn(){var e=function(){var e=Object($.useDispatch)();return{loading:Object($.useSelector)(Se.f),sectores:Object($.useSelector)(Se.e),error:Object($.useSelector)(Se.b),load:function(){return e(Object(B.b)())}}}(),t=e.sectores,n=e.loading,a=e.error,r=e.load;return a?m.a.createElement("pre",null,"Error cargando 'sectores': ",JSON.stringify(a,null,2)):n!==R.r?(r(),m.a.createElement("img",{alt:"loading...",src:xt.a})):m.a.createElement(fn,{sectores:t})}function bn(e){e.username,e.sector,e.photoURL;var t=he(),n=Object(A.a)(t,1)[0];return m.a.createElement(p.a,{basename:"/reactc2"},m.a.createElement(mn,null),m.a.createElement(j.a,{path:"/sector/:idSector"},m.a.createElement($t,{idSector:"constitucion"})),n&&m.a.createElement(ze,null))}var On=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function An(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(174);O.a.render(m.a.createElement($.Provider,{store:Be},m.a.createElement(bn,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/reactc2",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/reactc2","/service-worker.js");On?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):An(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):An(t,e)}))}}()}],[[130,9,10]]]);
//# sourceMappingURL=main.4acbde7f.chunk.js.map