(this.webpackJsonpreactc2=this.webpackJsonpreactc2||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return d}));var a=n(14),o=n(1),i=function(e){return!(e.button||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)&&(e.stopPropagation(),e.preventDefault(),!0)},c=function(e){var t=e.idSector,n=e.x,a=e.y,o=e.dir;return(o?[t,n,a,o].join("_"):[t,n,a].join("_")).replace(/\W/g,"_").replace(/(^\d)/,"_$1")},r=function(e,t){return"".concat(e,"__").concat(t).replace(/\W/g,"_").replace(/(^\d)/,"_$1")};function d(){var e=Object(o.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(a.a)(e,2),n=t[0],i=t[1];return Object(o.useEffect)((function(){var e=function(){return i({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n}},106:function(e,t,n){e.exports={sector:"styles_sector__1v7a1"}},108:function(e,t,n){e.exports={rate:"styles_rate__26o7Y"}},109:function(e,t){e.exports="data:image/gif;base64,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"},11:function(e,t,n){"use strict";var a=n(36);n.d(t,"clearAlarma",(function(){return a.a})),n.d(t,"clearAviso",(function(){return a.b})),n.d(t,"clearAvisos",(function(){return a.c})),n.d(t,"doSetAlarma",(function(){return a.d})),n.d(t,"setAlarma",(function(){return a.e})),n.d(t,"setAviso",(function(){return a.f}));var o=n(44);n.d(t,"setBloqueOcupado",(function(){return o.a}));var i=n(50);n.d(t,"addTrenToCelda",(function(){return i.a})),n.d(t,"doAddTrenToCelda",(function(){return i.b})),n.d(t,"doRemoveTrenFromCelda",(function(){return i.c})),n.d(t,"doSetCambio",(function(){return i.d})),n.d(t,"plainSetCambio",(function(){return i.e})),n.d(t,"removeTrenFromCelda",(function(){return i.f})),n.d(t,"setCambioManual",(function(){return i.h}));var c=n(61);n.d(t,"setEnclavamientos",(function(){return c.a}));var r=n(20);n.d(t,"setPlayRate",(function(){return r.d}));var d=n(55);n.d(t,"clearPendientes",(function(){return d.a})),n.d(t,"setPendiente",(function(){return d.b}));var s=n(83);n.o(s,"doSetLuzEstado")&&n.d(t,"doSetLuzEstado",(function(){return s.doSetLuzEstado})),n.o(s,"plainSetLuzEstado")&&n.d(t,"plainSetLuzEstado",(function(){return s.plainSetLuzEstado})),n.o(s,"setSenalManual")&&n.d(t,"setSenalManual",(function(){return s.setSenalManual}));var l=n(56);n.d(t,"doSetLuzEstado",(function(){return l.a})),n.d(t,"plainSetLuzEstado",(function(){return l.b})),n.d(t,"setSenalManual",(function(){return l.d}));n(27)},110:function(e,t,n){e.exports=n(154)},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return o.a})),n.d(t,"d",(function(){return o.b})),n.d(t,"f",(function(){return i.b})),n.d(t,"g",(function(){return c.b})),n.d(t,"e",(function(){return c.a})),n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return d.a})),n.d(t,"j",(function(){return d.b})),n.d(t,"l",(function(){return s.b})),n.d(t,"k",(function(){return s.a}));n(51);var a=n(52),o=n(45),i=n(60),c=n(30),r=function(e,t){return e.pendientes.includes(t)},d=(n(53),n(33)),s=n(54)},154:function(e,t,n){"use strict";n.r(t);var a,o,i,c,r,d,s=n(1),l=n.n(s),u=n(42),_=n.n(u),m=n(14),p=n(57),b=n(37),f=n(156),E=n(157),S=n(158),v=n(105),A=n(7),y=n(12),C=n(11),O=Object(A.c)({alarma:{},avisos:[]},(a={},Object(y.a)(a,C.doSetAlarma,(function(e,t){e.alarma=t.payload})),Object(y.a)(a,C.clearAlarma,(function(e){e.alarma={}})),Object(y.a)(a,C.setAviso,(function(e,t){e.avisos.unshift(t.payload)})),Object(y.a)(a,C.clearAviso,(function(e,t){var n=e.avisos.findIndex((function(e){return e.fecha===t.payload}));-1!==n&&e.avisos.splice(n,1)})),Object(y.a)(a,C.clearAvisos,(function(e){e.avisos=[]})),a)),j=n(34),x=n(65),h=n(4),V=n(44),W=Object(A.c)(h.B,Object(y.a)({},V.a,(function(e,t){var n=t.payload,a=n.idBloque,o=Object(x.a)(n,["idBloque"]);e[a]=Object(j.a)({},e[a],{},o)}))),g=Object(A.c)(h.C,(o={},Object(y.a)(o,C.plainSetCambio,(function(e,t){var n=t.payload,a=n.idCelda,o=n.posicion;e[a].posicion=o})),Object(y.a)(o,C.setCambioManual,(function(e,t){var n=t.payload,a=n.idCelda,o=n.manual;e[a].manual=o})),Object(y.a)(o,C.doRemoveTrenFromCelda,(function(e,t){e[t.payload.idCelda].idTren=void 0})),Object(y.a)(o,C.doAddTrenToCelda,(function(e,t){var n=t.payload,a=n.idCelda,o=n.idTren;e[a].idTren=o})),o)),q=Object(A.c)(h.D,{}),N=n(20),w=Object(A.c)({enclavamientosActive:!0,showCoords:!0,showEstado:{show:!1},playRate:1,showTeletipo:!0},(i={},Object(y.a)(i,N.a,(function(e,t){e.enclavamientosActive=t.payload})),Object(y.a)(i,N.h,(function(e,t){e.showTeletipo=t.payload})),Object(y.a)(i,N.f,(function(e,t){e.showCoords=t.payload})),Object(y.a)(i,N.g,(function(e,t){e.showEstado=Object(j.a)({},t.payload,{show:!0})})),Object(y.a)(i,N.b,(function(e){e.showEstado={show:!1}})),Object(y.a)(i,N.e,(function(e,t){e.showConfig=t.payload})),Object(y.a)(i,N.d,(function(e,t){e.playRate=t.payload})),Object(y.a)(i,N.c,(function(e,t){e.currIdSector=t.payload})),i)),k=n(55),D=Object(A.c)([],(c={},Object(y.a)(c,k.b,(function(e,t){e.push(t.payload)})),Object(y.a)(c,k.a,(function(){return[]})),c)),B=Object(A.c)(h.E,{}),z=Object(A.c)(h.F,(r={},Object(y.a)(r,C.plainSetLuzEstado,(function(e,t){var n=t.payload,a=n.idSenal,o=n.luz,i=n.estado;e[a][o]=i})),Object(y.a)(r,C.setSenalManual,(function(e,t){var n=t.payload,a=n.idSenal,o=n.manual;e[a].manual=o})),r)),T=n(27),I=Object(A.c)({},(d={},Object(y.a)(d,T.d,(function(e,t){var n=t.payload;e[n.idTren]=n})),Object(y.a)(d,T.g,(function(e,t){var n=t.payload;e[n.idTren]=Object(j.a)({},e[n.idTren],{},n)})),Object(y.a)(d,T.e,(function(e,t){delete e[t.payload]})),d)),M=n(9),L=n(36),J=n(51),K=n(52),Q=function(e){return Object(M.useSelector)((function(t){return Object(K.b)(t,e)}))},R=n(50),U=n(45),F=function(e){return Object(M.useSelector)((function(t){return Object(U.a)(t,e)}))},H=function(e){var t=Object(M.useSelector)((function(t){return Object(U.b)(t,e)})),n=Object(M.useDispatch)(),a=Object(s.useCallback)((function(){return n(Object(R.h)(e,!t))}),[e,n,t]);return[t,a]},Y=function(e){var t=Object(M.useDispatch)();return function(n){return t(Object(R.g)(e,n))}},Z=n(61),G=n(60),P=function(){var e=Object(M.useDispatch)();return function(t,n,a){return e(Object(Z.a)(t,n,a))}},X=n(30),$=function(){var e=Object(M.useSelector)(X.g),t=Object(M.useDispatch)(),n=Object(s.useCallback)((function(){return t(Object(N.h)(!e))}),[t,e]);return[e,n]},ee=function(){var e=Object(M.useSelector)(X.e),t=Object(M.useDispatch)(),n=Object(s.useCallback)((function(){return t(Object(N.f)(!e))}),[t,e]);return[e,n]},te=function(){var e=Object(M.useSelector)(X.d),t=Object(M.useDispatch)(),n=Object(s.useCallback)((function(){return t(Object(N.e)(!e))}),[t,e]);return[e,n]},ne=function(){var e=Object(M.useSelector)(X.f),t=Object(M.useDispatch)();return{estado:e,hideEstado:function(){return t(Object(N.b)())},showEstado:function(e){return t(Object(N.g)(e))}}},ae=n(53),oe=function(e){return Object(M.useSelector)((function(t){return Object(ae.a)(t,e)}))},ie=function(){return Object(M.useSelector)(ae.b)},ce=n(33),re=n(56),de=function(e){return Object(M.useSelector)((function(t){return Object(ce.a)(t,e)}))},se=n(54),le=Object(A.a)({reducer:{alertas:O,bloques:W,celdas:g,enclavamientos:q,options:w,pendientes:D,sectores:B,senales:z,trenes:I}}),ue=n(10),_e=n(21),me=n.n(_e),pe=n(70),be=n(94),fe=n(43),Ee=n(95);function Se(){return l.a.createElement("svg",{viewBox:"0 0 32 32",className:me.a.svg},l.a.createElement("path",{d:"M 16 16 L 32 0",className:me.a.alt}),l.a.createElement("path",{d:"M 16 0 V 16 32",className:me.a.main}))}function ve(){return l.a.createElement("svg",{viewBox:"0 0 32 32",className:me.a.svg},l.a.createElement("path",{d:"M 16 0 V 16 16",className:me.a.alt}),l.a.createElement("path",{d:"M 16 32 V 16 16 L 32 0",className:me.a.main}))}function Ae(){return l.a.createElement("svg",{viewBox:"0 0 32 32",className:me.a.svg},l.a.createElement("path",{d:"M 16 16 V 16 0",className:me.a.alt}),l.a.createElement("path",{d:"M 16 16 L 32 0",className:me.a.alt}),l.a.createElement("path",{d:"M 16 32 V 16 16 L 0 0",className:me.a.main}))}function ye(){return l.a.createElement("svg",{viewBox:"0 0 32 32",className:me.a.svg},l.a.createElement("path",{d:"M 16 16 L 32 0",className:me.a.alt}),l.a.createElement("path",{d:"M 16 16 L 0 0",className:me.a.alt}),l.a.createElement("path",{d:"M 16 32 V 16 0",className:me.a.main}))}function Ce(){return l.a.createElement("svg",{viewBox:"0 0 32 32",className:me.a.svg},l.a.createElement("path",{d:"M 16 16 V 16 0",className:me.a.alt}),l.a.createElement("path",{d:"M 16 16 L 0 0",className:me.a.alt}),l.a.createElement("path",{d:"M 16 32 V 16 16 L 32 0",className:me.a.main}))}var Oe=n(46),je=n.n(Oe);function xe(){var e=function(){var e=Object(M.useDispatch)();return[Object(M.useSelector)(J.b),function(){return e(Object(L.c)())},function(t){return e(Object(L.b)(t))}]}(),t=Object(m.a)(e,3),n=t[0],a=t[1],o=t[2],i=$(),c=Object(m.a)(i,2)[1],r=Object(s.useState)(!1),d=Object(m.a)(r,2),u=d[0],_=d[1];return n.length?l.a.createElement(f.a,{className:je.a.fixed,size:"sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Fecha"),l.a.createElement("th",null,"Celda"),l.a.createElement("th",null,"Tren"),l.a.createElement("th",null,"Mensaje"),l.a.createElement("th",null,l.a.createElement(E.a,null,l.a.createElement(S.a,{type:"checkbox",checked:u,onChange:function(e){return _((function(e){return!e}))}}),"\xa0Ver Info")),l.a.createElement("th",{className:je.a.buttons},l.a.createElement(v.a,{className:je.a.close,title:"Borrar todas las notificaciones",onClick:function(e){return Object(ue.c)(e)&&a()},size:"sm"},l.a.createElement(fe.b,null)),l.a.createElement(v.a,{close:!0,onClick:function(e){return Object(ue.c)(e)&&c()},title:"Cerrar Teletipo",size:"sm"})))),l.a.createElement("tbody",null,n.filter((function(e){return!!u||e.nivel!==h.k})).map((function(e){return l.a.createElement("tr",{className:je.a[e.nivel],key:e.fecha},l.a.createElement("td",null,new Date(e.fecha).toLocaleString()),l.a.createElement("td",null,e.idCelda),l.a.createElement("td",null,e.idTren),l.a.createElement("td",{colSpan:2},e.msg),l.a.createElement("td",null,l.a.createElement(fe.b,{onClick:(t=e.fecha,function(e){return Object(ue.c)(e)&&o(t)})})));var t})))):l.a.createElement("p",{className:je.a.fixed},"No hay mensajes")}var he=n(6),Ve=n.n(he),We={N:50,NE:100,E:100,SE:100,S:50,SW:0,W:0,NW:0},ge={N:0,NE:0,E:50,SE:100,S:100,SW:100,W:50,NW:0},qe={N:270,NE:315,E:0,SE:45,S:90,SW:135,W:180,NW:225},Ne=["N","NE","E","SE","S","SW","W","NW"],we=n(47),ke=n.n(we),De=["","verde","amarillo","rojo"];function Be(e){var t=e.idSenal,n=e.placement,a=de(t),o=ne().showEstado;if(!a)return null;var i=a.dir,c=a.centro,r=a.izq,d=a.der,s=38;return l.a.createElement("g",{className:Ve()(ke.a.senal,Object(y.a)({},ke.a.manual,!a.soloManual&&a.manual)),transform:"rotate(".concat(qe[i],", ").concat(50,", ").concat(50,")"),onClick:function(e){return Object(ue.c)(e)&&o({tipo:h.v,idCelda:Object(ue.a)({idSector:a.idSector,x:a.x,y:a.y}),idSenal:Object(ue.a)(a),placement:n})}},l.a.createElement("line",{x1:95,y1:s,x2:82,y2:s}),l.a.createElement("line",{x1:95,y1:33,x2:95,y2:43}),l.a.createElement("circle",{className:ke.a[De[c]],cx:r||d?77:85,cy:s,r:5}),r&&l.a.createElement("circle",{className:ke.a[De[r]],cx:85,cy:43,r:5}),d&&l.a.createElement("circle",{className:ke.a[De[d]],cx:85,cy:33,r:5}))}var ze=n(38),Te=n.n(ze);function Ie(e){var t=e.dir,n=e.estilo,a=void 0===n?"tramo-normal":n;return l.a.createElement("line",{x1:50,y1:50,x2:We[t],y2:ge[t],className:Te.a[a]})}function Me(e){var t=e.idCelda,n=F(t),a=Q(n.idBloque)||n.idTren;return l.a.createElement("g",null,n.puntas.map((function(e,t){return l.a.createElement(Ie,{dir:e,key:t,estilo:a?"tramo-ocupado":"tramo-normal"})})))}function Le(e){var t=e.idCelda,n=F(t),a=Q(n.idBloque)||n.idTren;return l.a.createElement("g",null,l.a.createElement(Ie,{key:"punta",dir:n.punta,estilo:a?"tramo-ocupado":"tramo-normal"}),Object.keys(n.ramas).map((function(e){return l.a.createElement(Ie,{key:e,dir:n.ramas[e],estilo:n.posicion===e?a?"tramo-ocupado":"tramo-normal":"tramo-muerto"})})))}function Je(e){return l.a.createElement(Le,e)}function Ke(e){var t=e.idCelda,n=F(t),a=Q(n.idBloque)||n.idTren;return l.a.createElement("g",null,l.a.createElement(Ie,{dir:n.punta,estilo:a?"tramo-ocupado":"tramo-normal"}),l.a.createElement("circle",{cx:50,cy:50,r:10,fill:a?"yellow":"black"}))}function Qe(e){var t=e.idCelda,n=F(t),a=Q(n.idBloque)||n.idTren;return l.a.createElement("g",null,n.linea1.puntas.map((function(e,t){return l.a.createElement(Ie,{dir:e,key:"l1".concat(t),estilo:a?"tramo-ocupado":"tramo-normal"})})),n.linea2.puntas.map((function(e,t){return l.a.createElement(Ie,{dir:e,key:"l1".concat(t),estilo:a?"tramo-ocupado":"tramo-normal"})})))}Me.whyDidYouRender=!1,Le.whyDidYouRender=!1;var Re=n(58),Ue=n.n(Re);function Fe(e){var t=e.celda,n=function(){var e=Object(M.useDispatch)();return function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e(Object(T.a)(t,n,a))}}(),a=Q(t.idBloque),o=function(e){return function(a){if(Object(ue.c)(a)){if(t.idTren)return;n(t,e)}}},i=[];if(!t.idTren&&!a)switch(t.tipo){case h.x:case h.c:t.despachador.forEach((function(e){e===t.punta&&i.push(e),e===t.ramas[t.posicion]&&i.push(e)}));break;default:i=t.despachador}return!t.idTren&&l.a.createElement(l.a.Fragment,null,l.a.createElement("circle",{cx:50,cy:50,r:9,className:Ue.a.trenDespachador}),i.map((function(e){return l.a.createElement("g",{className:Ue.a.flechaDespachador,onClick:o(e),key:e,transform:"rotate(".concat(qe[e],", ").concat(50,", ").concat(50,")")},l.a.createElement("path",{d:"M 15,-8 L 23,0 15,8 z",transform:"translate(".concat(50,",").concat(50,")")}))})))}function He(e){var t,n=e.celda,a=(t=n.idTren,Object(M.useSelector)((function(e){return Object(se.a)(e,t)}))),o=a.speed/(a.maxSpeed||1);return l.a.createElement("g",{transform:"translate(".concat(42,", ").concat(42,")")},l.a.createElement("circle",{cx:8,cy:8,r:9,className:Ue.a.tren},l.a.createElement("title",null,"".concat(n.idTren,"\nVelocidad: ").concat(a.speed,"\nFalta: ").concat(a.falta))),o&&1!==o?l.a.createElement("path",{d:"M 8 0 A 8 8 90 1 0 8 16 z",fill:"orange"}):null,l.a.createElement(Ee.a,{color:o?"black":"red",size:"16px"}))}function Ye(e){var t,n=e.idCelda,a=e.cellsAcross,o=e.cellWidth,i=e.padLeft,c=e.padTop,r=F(n),d=(t=r.idBloque,Object(M.useSelector)((function(e){return Object(K.a)(e,t)}))),s=ee(),u=Object(m.a)(s,1)[0],_=ne().showEstado;if(!o||!r)return null;var p=r.x>a/2?"left":"right",b=r.desc||(u?"[".concat(r.x,",").concat(r.y,"]"):""),f=[];r.descr&&f.push("Celda: ".concat(r.descr)),f.push("Coordenadas: [".concat(r.x,",").concat(r.y,"]")),d&&f.push("Bloque: ".concat(d.descr)),r.idTren&&f.push("Con tren ".concat(r.idTren));var E,S={linea:Me,cambio:Le,paragolpe:Ke,cruce:Qe,triple:Je}[r.tipo];return l.a.createElement("div",{id:n,className:Ve()(Te.a.rect,Object(y.a)({},Te.a.manual,r.manual)),style:{left:i+r.x*o,top:r.y*o+c,width:o,height:o},onClick:(E=r.tipo,function(e){return Object(ue.c)(e)&&_({tipo:E,idCelda:n,placement:p})}),title:f.join("\n")},l.a.createElement("svg",{viewBox:"0 0 ".concat(100," ").concat(100),width:o,height:o,className:Te.a.svg},l.a.createElement("text",{x:"0",y:"95",className:Te.a.text},b),d&&l.a.createElement("text",{textAnchor:"end",x:95,y:95,className:Te.a.text},d.descr),l.a.createElement(S,{idCelda:n}),Ne.map((function(e){return l.a.createElement(Be,{key:e,idSenal:Object(ue.a)(Object(j.a)({},r,{dir:e})),placement:p})})),Array.isArray(r.despachador)&&l.a.createElement(Fe,{celda:r}),r.idTren?l.a.createElement(He,{celda:r}):null))}Ye.whyDidYouRender=!1;var Ze=n(106),Ge=n.n(Ze);function Pe(e){var t=e.idSector,n=oe(t),a=function(e){return Object(M.useSelector)((function(t){return Object(U.c)(t,e)}))}(t),o=Object(ue.d)(),i=n.ancho,c=n.descrCorta,r=n.alto,d=Math.min(Math.floor(o.width/i),i>8?100:200),u=(o.width-i*d)/2;return Object(s.useEffect)((function(){document.title="CTC - ".concat(c)})),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:Ge.a.sector},a.map((function(e){return l.a.createElement(Ye,{key:e.idCelda,idCelda:e.idCelda,cellsAcross:i,cellWidth:d,padLeft:u,padTop:60})}))),l.a.createElement("div",{style:{height:(r+2)*d}}))}var Xe=n(176),$e=n(164),et=n(159),tt=n(165),nt=n(166),at=n(167),ot=n(168),it=n(169),ct=n(160),rt=n(19),dt=n.n(rt);function st(e){var t=e.celda,n=t.posicion,a=t.idCelda,o=Y(a),i=H(a),c=Object(m.a)(i,2),r=c[0],d=c[1];return l.a.createElement(et.a,null,l.a.createElement(ct.a,{className:dt.a.cambio},l.a.createElement(v.a,{size:"sm",onClick:function(e){return Object(ue.c)(e)&&o(h.p)},color:n===h.p?"primary":"outline-secondary"},l.a.createElement(Se,null)),l.a.createElement(v.a,{size:"sm",onClick:function(e){return Object(ue.c)(e)&&o(h.h)},color:n===h.h?"primary":"outline-secondary"},l.a.createElement(ve,null))),l.a.createElement(v.a,{className:dt.a.manual,size:"sm",color:r?"danger":"outline-info",onClick:function(e){return Object(ue.c)(e)&&d()}},r?l.a.createElement(pe.b,null):l.a.createElement(pe.a,null)))}function lt(e){var t=e.celda,n=t.posicion,a=t.idCelda,o=Y(a),i=H(a),c=Object(m.a)(i,2),r=c[0],d=c[1];return l.a.createElement(et.a,null,l.a.createElement(ct.a,null,l.a.createElement(v.a,{size:"sm",onClick:function(e){return Object(ue.c)(e)&&o(h.l)},color:n===h.l?"primary":"outline-secondary"},l.a.createElement(Ae,null)),l.a.createElement(v.a,{size:"sm",onClick:function(e){return Object(ue.c)(e)&&o(h.d)},color:n===h.d?"primary":"outline-secondary"},l.a.createElement(ye,null)),l.a.createElement(v.a,{size:"sm",onClick:function(e){return Object(ue.c)(e)&&o(h.g)},color:n===h.g?"primary":"outline-secondary"},l.a.createElement(Ce,null))),l.a.createElement(v.a,{className:dt.a.manual,size:"sm",color:r?"danger":"outline-info",onClick:function(e){return Object(ue.c)(e)&&d()}},r?l.a.createElement(pe.b,null):l.a.createElement(pe.a,null)))}var ut=n(161),_t=n(162),mt=n(163);function pt(e){var t=e.luz,n=e.estado,a=e.onSetEstado;return l.a.createElement(l.a.Fragment,null,l.a.createElement(ct.a,{vertical:!0},l.a.createElement(v.a,{size:"sm",color:n===h.s?"danger":"outline-danger",onClick:function(e){return Object(ue.c)(e)&&a(t,h.s)}},l.a.createElement(be.a,null)),l.a.createElement(v.a,{size:"sm",color:n===h.a?"warning":"outline-warning",onClick:function(e){return Object(ue.c)(e)&&a(t,h.a)}},l.a.createElement(be.a,null)),l.a.createElement(v.a,{size:"sm",color:n===h.y?"success":"outline-success",onClick:function(e){return Object(ue.c)(e)&&a(t,h.y)}},l.a.createElement(be.a,null))))}function bt(e){var t=e.senal,n=t.izq,a=t.soloManual,o=t.centro,i=t.der,c=t.idSenal,r=function(){var e=Object(M.useDispatch)();return function(t,n,a){return e(Object(re.c)(t,n,a))}}(),d=function(e){var t=Object(M.useSelector)((function(t){return Object(ce.b)(t,e)})),n=Object(M.useDispatch)(),a=Object(s.useCallback)((function(){return n(Object(re.d)(e,!t))}),[e,n,t]);return[t,a]}(c),u=Object(m.a)(d,2),_=u[0],p=u[1],b=P(),f=function(e,t){(_||a)&&r(c,e,t),a&&b(c,h.v,!0)};return l.a.createElement(et.a,null,l.a.createElement(ut.a,null,l.a.createElement("div",{className:Ve()(Object(y.a)({},dt.a.disabled,!a&&!_))},l.a.createElement(_t.a,null,l.a.createElement(mt.a,null,l.a.createElement("div",{className:Ve()(dt.a.pushDown,Object(y.a)({},dt.a.hidden,!n))},l.a.createElement(pt,{luz:"izq",estado:n,onSetEstado:f}))),l.a.createElement(mt.a,null,l.a.createElement("div",{className:Ve()(Object(y.a)({},dt.a.hidden,!o))},l.a.createElement(pt,{luz:"centro",estado:o,onSetEstado:f}))),l.a.createElement(mt.a,null,l.a.createElement("div",{className:Ve()(dt.a.senal,dt.a.pushDown,Object(y.a)({},dt.a.hidden,!i))},l.a.createElement(pt,{luz:"der",estado:i,onSetEstado:f}))))),!a&&l.a.createElement(_t.a,null,l.a.createElement(v.a,{className:dt.a.manual,size:"sm",color:_?"danger":"outline-info",onClick:function(){p(),_&&b(c,h.v,!0)}},_?l.a.createElement(pe.b,null):l.a.createElement(pe.a,null)))))}function ft(){var e=ne().estado,t=e.show,n=Object(x.a)(e,["show"]);return t&&l.a.createElement(Et,n)}function Et(e){var t,n=e.idCelda,a=e.idSenal,o=e.placement,i=Object(s.useState)(),c=Object(m.a)(i,2),r=c[0],d=c[1],u=F(n),_=de(a),p=te(),b=Object(m.a)(p,1)[0],f=ne().hideEstado,E=(t=a||n,Object(M.useSelector)((function(e){return Object(G.a)(e,t)}))),S=Object(s.useState)(),A=Object(m.a)(S,2),y=A[0],C=A[1],O=_||u.tipo===h.c||u.tipo===h.x;r!==n&&(C(O?"Cmd.":a?"Se\xf1al":"Celda"),d(n));var j=function(e){y!==e&&C(e)},x=function(){return l.a.createElement(l.a.Fragment,null,_&&l.a.createElement(bt,{senal:_}),!_&&u.tipo===h.c&&l.a.createElement(st,{celda:u}),!_&&u.tipo===h.x&&l.a.createElement(lt,{celda:u}))};return l.a.createElement(Xe.a,{isOpen:!(!b&&!O),target:n,placement:o},l.a.createElement($e.a,null,_?"Se\xf1al":"Celda"," ",u.x," ",u.y," ",_&&_.dir,l.a.createElement(v.a,{close:!0,className:dt.a.close,onClick:function(e){return Object(ue.c)(e)&&f()}})),l.a.createElement(et.a,null,b?l.a.createElement(l.a.Fragment,null,l.a.createElement(tt.a,{pills:!0,className:dt.a.solapas},O&&l.a.createElement(nt.a,{title:"Mostrar Comandos"},l.a.createElement(at.a,{className:Ve()(dt.a.solapa,{active:"Cmd."===y}),onClick:function(){j("Cmd.")}},"Cmd.")),_&&l.a.createElement(nt.a,{title:"Mostrar COnfiguraci\xf3n Se\xf1al"},l.a.createElement(at.a,{className:Ve()(dt.a.solapa,{active:"Se\xf1al"===y}),onClick:function(){j("Se\xf1al")}},"Se\xf1al")),l.a.createElement(nt.a,{title:"Mostrar Configuraci\xf3n Celda"},l.a.createElement(at.a,{className:Ve()(dt.a.solapa,{active:"Celda"===y}),onClick:function(){j("Celda")}},"Celda")),E&&l.a.createElement(nt.a,{title:"Mostrar Configuraci\xf3n Enclavamientos"},l.a.createElement(at.a,{className:Ve()(dt.a.solapa,{active:"Encl."===y}),onClick:function(){j("Encl.")}},"Encl."))," "),l.a.createElement(ot.a,{activeTab:y},O&&l.a.createElement(it.a,{tabId:"Cmd."},l.a.createElement(x,null)),_&&l.a.createElement(it.a,{tabId:"Se\xf1al"},l.a.createElement("pre",null,JSON.stringify(_,null,2))),l.a.createElement(it.a,{tabId:"Celda"},l.a.createElement("pre",null,JSON.stringify(u,null,2))),E&&l.a.createElement(it.a,{tabId:"Encl."},l.a.createElement("pre",null,JSON.stringify(E,null,2))))):l.a.createElement(x,null)))}var St=n(80),vt=n.n(St);function At(){var e=function(){var e=Object(M.useDispatch)();return[Object(M.useSelector)(J.a),function(){return e(Object(L.a)())}]}(),t=Object(m.a)(e,2),n=t[0],a=n.idCelda,o=n.idTren,i=n.msg,c=n.time,r=t[1],d=function(){var e=Object(M.useDispatch)();return function(){return e(Object(T.c)())}}(),s=P();return!!a&&l.a.createElement(Xe.a,{isOpen:!!a,target:a},l.a.createElement($e.a,{className:vt.a.alarma},o,l.a.createElement(v.a,{close:!0,className:vt.a.close,onClick:function(e){Object(ue.c)(e)&&(r(),d(),s(a,h.c))}})),l.a.createElement(et.a,null,l.a.createElement("p",null,new Date(c).toLocaleString()),i))}function yt(){var e=Object(b.e)().idSector,t=function(){var e=Object(M.useSelector)(X.a),t=Object(M.useDispatch)();return[e,function(e){return t(Object(N.c)(e))}]}(),n=Object(m.a)(t,2),a=n[0],o=n[1];return e!==a?(o(e),null):l.a.createElement(l.a.Fragment,null,l.a.createElement(ft,null),l.a.createElement(Pe,{idSector:e}),l.a.createElement(At,null))}var Ct=n(170),Ot=n(171),jt=n(172),xt=n(173),ht=n(177),Vt=n(178),Wt=n(174),gt=n(175),qt=n(108),Nt=n.n(qt);function wt(){var e=function(){var e=Object(M.useDispatch)();return function(){return e(Object(T.f)())}}(),t=function(){var e=Object(M.useSelector)(X.c),t=Object(M.useDispatch)();return[e,Object(s.useCallback)((function(e){return t(Object(N.d)(e))}),[t])]}(),n=Object(m.a)(t,2),a=n[0],o=n[1],i=Object(s.useState)(),c=Object(m.a)(i,2),r=c[0],d=c[1];return Object(s.useEffect)((function(){return a&&!r&&d(setInterval(e,1e3/a)),function(){r&&(clearInterval(r),d(0))}}),[e,r,a]),l.a.createElement(ct.a,{title:"Velocidad de la animaci\xf3n\n(ciclos por segundo)",className:Nt.a.rate},l.a.createElement(v.a,{outline:0!==a,color:a?"secondary":"danger",onClick:function(){return o(0)}},"0"),l.a.createElement(v.a,{outline:.5!==a,onClick:function(){return o(.5)}},"\xbd"),l.a.createElement(v.a,{outline:1!==a,onClick:function(){return o(1)}},"1"),l.a.createElement(v.a,{outline:2!==a,onClick:function(){return o(2)}},"2"),l.a.createElement(v.a,{outline:5!==a,onClick:function(){return o(5)}},"5"))}function kt(){var e=Object(s.useState)(!1),t=Object(m.a)(e,2),n=t[0],a=t[1],o=Object(b.f)("/sector/:idSector"),i=o&&o.params.idSector,c=ie(),r=oe(i),d=function(){var e=Object(M.useSelector)(X.b),t=Object(M.useDispatch)(),n=Object(s.useCallback)((function(){return t(Object(N.a)(!e))}),[t,e]);return[e,n]}(),u=Object(m.a)(d,2),_=u[0],f=u[1],E=$(),S=Object(m.a)(E,2),v=S[0],A=S[1],y=ee(),C=Object(m.a)(y,2),O=C[0],j=C[1],x=te(),h=Object(m.a)(x,2),V=h[0],W=h[1],g=ne().hideEstado,q=Object(s.useState)(),w=Object(m.a)(q,2),k=w[0],D=w[1],B=function(e){i!==k&&(g(),D(i),a(!1))};return l.a.createElement(Ct.a,{color:"light",light:!0,expand:"md",fixed:"top"},l.a.createElement(Ot.a,{color:"default",href:"/reactc2",title:"Volver al inicio"},"CTC"),l.a.createElement(wt,null),l.a.createElement(jt.a,{onClick:function(){return a(!n)}}),l.a.createElement(xt.a,{isOpen:n,navbar:!0},l.a.createElement(tt.a,{className:"mr-auto",navbar:!0},l.a.createElement(ht.a,{nav:!0,inNavbar:!0},l.a.createElement(Vt.a,{nav:!0,caret:!0,title:r?r.descr:"Seleccione sector a visualizar"},r?r.descrCorta:"Sectores"),l.a.createElement(Wt.a,null,c.map((function(e){return l.a.createElement(gt.a,{tag:p.b,to:"/sector/".concat(e.idSector),key:e.idSector,title:e.descr,active:i===e.idSector,onClick:B},e.descrCorta)})))),l.a.createElement(ht.a,{nav:!0,inNavbar:!0},l.a.createElement(Vt.a,{nav:!0,caret:!0,title:"Opciones de visualizaci\xf3n"},"Opciones"),l.a.createElement(Wt.a,null,l.a.createElement(gt.a,{onClick:function(e){Object(ue.c)(e)&&(A(),a(!1))},active:v},"Teletipo"),l.a.createElement(gt.a,{onClick:function(e){Object(ue.c)(e)&&(f(),a(!1))},active:_},"Enclavamientos"),l.a.createElement(gt.a,{onClick:function(e){Object(ue.c)(e)&&(j(),a(!1))},active:O},"Coordenadas"),l.a.createElement(gt.a,{onClick:function(e){Object(ue.c)(e)&&(W(),a(!1))},active:V},"Mostrar Config."))),l.a.createElement(nt.a,null,l.a.createElement(at.a,{href:"https://github.com/Satyam/reactc2",title:"Ver c\xf3digo fuente en GitHub",target:"_blank"},l.a.createElement(fe.a,null)," Github")))))}var Dt=n(109),Bt=n.n(Dt);function zt(e){e.username,e.sector,e.photoURL;var t=$(),n=Object(m.a)(t,1)[0];return ie().length?l.a.createElement(p.a,{basename:"/reactc2"},l.a.createElement(kt,null),l.a.createElement(b.a,{path:"/sector/:idSector"},l.a.createElement(yt,{idSector:"constitucion"})),n&&l.a.createElement(xe,null)):l.a.createElement("img",{alt:"loading...",src:Bt.a})}var Tt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function It(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(153);_.a.render(l.a.createElement(M.Provider,{store:le},l.a.createElement(zt,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/reactc2",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/reactc2","/service-worker.js");Tt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):It(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):It(t,e)}))}}()},19:function(e,t,n){e.exports={label:"styles_label__3r56c",pushDown:"styles_pushDown__1r8Ml",cambio:"styles_cambio__K-Ynx",manual:"styles_manual__1SN6-",hidden:"styles_hidden__1mPWU",close:"styles_close__1b-CL",disabled:"styles_disabled__3q6v_",solapas:"styles_solapas__1cybr",solapa:"styles_solapa__1ZYE5"}},20:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return r})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u}));var a=n(7),o=Object(a.b)("showTeletipo"),i=Object(a.b)("enclavamientosActive"),c=Object(a.b)("showCoords"),r=Object(a.b)("showEstado"),d=Object(a.b)("hideEstado"),s=Object(a.b)("showConfig"),l=Object(a.b)("setPlayRate"),u=Object(a.b)("setCurrentSector")},21:function(e,t,n){e.exports={main:"styles_main__QJA2q",alt:"styles_alt__EQPaw",svg:"styles_svg__6vY_Q",filled:"styles_filled__2ZKFa"}},27:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return _})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return S}));var a=n(14),o=n(7),i=n(15),c=n(11),r=n(10),d=n(4),s=n(49),l=0,u=Object(o.b)("addTren",(function(e,t,n,a){return{payload:{idCelda:e.idCelda,x:e.x,y:e.y,dir:t,speed:n,maxSpeed:n,idTren:a,idSector:e.idSector}}}));function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(a){var o="_tren_".concat(l++),i=e.idCelda;a(Object(c.setAviso)(d.k,i,o,"Parte tren ".concat(o," desde ").concat(i))),a(u(e,t,n,o)),a(Object(c.addTrenToCelda)(i,o)),a(Object(c.setEnclavamientos)(i,s.b))}}var m=Object(o.b)("doDelTren");function p(e){return function(t){var n=e.idTren,a=e.idCelda;a&&t(Object(c.removeTrenFromCelda)(a,n)),t(Object(c.setAviso)(d.k,a,n,"Borrado el tren ".concat(n," en ").concat(a))),t(m(e.idTren))}}function b(){return function(e,t){Object(i.l)(t()).forEach((function(t){return e(p(t))}))}}var f=Object(o.b)("setTren");function E(e){return function(t,n){var o=Object(i.k)(n(),e);if(o){if("X"===o.dir)return t(p(o));var l=Object(i.c)(n(),o.idCelda);if(o.falta)t(f({idTren:e,falta:o.speed>o.falta?0:o.falta-o.speed}));else{var u=function(e,t,n){switch(n){case d.n:return[e,t-1,d.t];case d.o:return[e+1,t-1,d.w];case d.i:return[e+1,t,d.z];case d.u:return[e+1,t+1,d.q];case d.t:return[e,t+1,d.n];case d.w:return[e-1,t+1,d.o];case d.z:return[e-1,t,d.i];case d.q:return[e-1,t-1,d.u]}}(o.x,o.y,o.dir),_=Object(a.a)(u,3),m=_[0],b=_[1],E=_[2],S=o.speed;if(l.x!==m||l.y!==b){var v=Object(r.a)({idSector:l.idSector,x:m,y:b}),A=Object(r.a)({idSector:l.idSector,x:m,y:b,dir:E}),y=Object(i.c)(n(),v);if(y){var C=Object(i.i)(n(),A);if(C){var O=[d.l,d.d,d.g].reduce((function(e,t){return t in C?Math.min(e,C[t]):e}),d.s);switch(O){case d.s:return o.speed&&t(Object(c.setAviso)(d.A,o.idCelda,e,"Tren ".concat(e," detenido en ").concat(o.idCelda))),void t(f({idTren:e,speed:0}));case d.a:if(0===o.speed)return t(Object(c.setAviso)(d.k,o.idCelda,e,"Tren ".concat(e," reanuda la marcha en ").concat(o.idCelda))),void t(f({idTren:e,speed:o.maxSpeed/2}));S=o.maxSpeed/2;break;case d.y:if(0===o.speed)return t(Object(c.setAviso)(d.k,o.idCelda,e,"Tren ".concat(e," reanuda la marcha en ").concat(o.idCelda))),void t(f({idTren:e,speed:o.maxSpeed}));S=o.maxSpeed;break;default:throw new Error("Se\xf1al ".concat(A," d\xe1 se\xf1al imposible ").concat(O))}}if(y.idTren)return void t(Object(c.setAlarma)(v,e,"Colisi\xf3n en ".concat(y.idCelda," entre ").concat(e," y ").concat(y.idTren)));var j=Object(i.b)(n(),y.idBloque);if(j&&j!==e)return void t(Object(c.setAlarma)(v,e,"Tren ".concat(e," invade el bloque ").concat(y.idBloque," ocupado por ").concat(j)));var x=function(e,t){function n(t){var n=t.puntas;return n.includes(e)?n[0]===e?n[1]:n[0]:void 0}switch(t.tipo){case d.m:return n(t);case d.c:case d.x:return t.punta===e?t.ramas[t.posicion]:t.ramas[t.posicion]===e?t.punta:void 0;case d.r:return t.punta===e?"X":void 0;case d.e:return n(t.linea1)||n(t.linea2)}}(E,y);if(!x)return void t(Object(c.setAlarma)(y.idCelda,e,"Tren ".concat(e," no encuentra v\xeda correspondiente en celda ").concat(y.idCelda)));t(Object(c.removeTrenFromCelda)(l.idCelda,e)),t(Object(c.addTrenToCelda)(v,e)),t(f({idTren:e,dir:x,x:m,y:b,speed:S,idCelda:v,falta:y.longitud||1}))}else t(p(o))}else t(f(o));t(Object(c.setEnclavamientos)(o.idCelda,s.b))}}}}function S(){return function(e,t){var n=Object(i.e)(t());return Promise.all(Object(i.l)(t(),n).map((function(t){return e(E(t.idTren))})))}}},30:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return s}));var a=function(e){return e.options.showTeletipo},o=function(e){return e.options.enclavamientosActive},i=function(e){return e.options.showCoords},c=function(e){return e.options.showEstado},r=function(e){return e.options.showConfig},d=function(e){return e.options.playRate},s=function(e){return e.options.currIdSector}},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c}));var a=n(22),o=function(e,t){return e.senales[t]},i=function(e,t){return e.senales[t].manual},c=Object(a.a)((function(e){return e.senales}),(function(e,t){return t}),(function(e,t){var n=Object.values(e).filter((function(e){return e.idSector===t.idSector&&e.x===t.x&&e.y===t.y}));return n.length?n:null}))},36:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u}));var a=n(7),o=n(11),i=n(4),c=Object(a.b)("doSetAlarma");function r(e,t,n){return function(a){a(s(i.f,e,t,n)),a(c({idCelda:e,idTren:t,msg:n,fecha:Date.now()})),a(Object(o.setPlayRate)(0))}}var d=Object(a.b)("clearAlarma"),s=Object(a.b)("setAviso",(function(e,t,n,a){return{payload:{nivel:e,idCelda:t,idTren:n,msg:a,fecha:Date.now()}}})),l=Object(a.b)("clearAvisos"),u=Object(a.b)("clearAviso")},38:function(e,t,n){e.exports={rect:"styles_rect__1zG3J",manual:"styles_manual__139ZI",text:"styles_text__JdA5Q",svg:"styles_svg__rOGuq","tramo-normal":"styles_tramo-normal__JZdRz","tramo-muerto":"styles_tramo-muerto__LXymi","tramo-ocupado":"styles_tramo-ocupado__LrGlb"}},4:function(e,t,n){"use strict";n.d(t,"E",(function(){return o})),n.d(t,"C",(function(){return i})),n.d(t,"D",(function(){return c})),n.d(t,"F",(function(){return r})),n.d(t,"B",(function(){return d}));var a=n(49);n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.c})),n.d(t,"d",(function(){return a.d})),n.d(t,"e",(function(){return a.e})),n.d(t,"f",(function(){return a.f})),n.d(t,"g",(function(){return a.g})),n.d(t,"h",(function(){return a.h})),n.d(t,"i",(function(){return a.i})),n.d(t,"j",(function(){return a.j})),n.d(t,"k",(function(){return a.k})),n.d(t,"l",(function(){return a.l})),n.d(t,"m",(function(){return a.m})),n.d(t,"n",(function(){return a.n})),n.d(t,"o",(function(){return a.o})),n.d(t,"p",(function(){return a.p})),n.d(t,"q",(function(){return a.q})),n.d(t,"r",(function(){return a.r})),n.d(t,"s",(function(){return a.s})),n.d(t,"t",(function(){return a.t})),n.d(t,"u",(function(){return a.u})),n.d(t,"v",(function(){return a.v})),n.d(t,"w",(function(){return a.w})),n.d(t,"x",(function(){return a.x})),n.d(t,"y",(function(){return a.y})),n.d(t,"z",(function(){return a.z})),n.d(t,"A",(function(){return a.A}));var o={circulo:{descrCorta:"5- C\xedrculo",descr:"Dando vueltas y vueltas ",ancho:6,alto:5,idSector:"circulo"},constitucion:{descrCorta:"Constituci\xf3n",descr:"Estaci\xf3n Constituci\xf3n, Ciudad de Buenos Aires, Argentina",ancho:11,alto:7,idSector:"constitucion"},cruceDobleCambio:{descrCorta:"2- Doble cambio de v\xedas",descr:"V\xedas paralelas con cambios cruzados y se\xf1ales",ancho:2,alto:2,idSector:"cruceDobleCambio"},dosVias:{descrCorta:"4- Dos v\xedas paralelas",descr:"Dos v\xedas paralelas con despacho de trenes",ancho:9,alto:2,idSector:"dosVias"},senalesEncadenadas:{descrCorta:"3- Se\xf1ales encadenadas",descr:"Se\xf1al en amarillo cuando la siguiente est\xe1 en rojo",ancho:4,alto:1,idSector:"senalesEncadenadas"},simpleDesvio:{descrCorta:"1- Desv\xedo Simple",descr:"Una \xfanica celda con un cambio y se\xf1al",ancho:1,alto:1,idSector:"simpleDesvio"}},i={circulo_1_0:{tipo:"linea",x:1,y:0,puntas:["SW","E"],despachador:["SW"],idCelda:"circulo_1_0",idSector:"circulo"},circulo_2_0:{tipo:"linea",x:2,y:0,puntas:["W","SE"],despachador:["SE"],idCelda:"circulo_2_0",idSector:"circulo"},circulo_0_1:{tipo:"linea",x:0,y:1,puntas:["NE","S"],idCelda:"circulo_0_1",idSector:"circulo"},circulo_0_3:{tipo:"linea",x:0,y:3,puntas:["N","SE"],idCelda:"circulo_0_3",idSector:"circulo"},circulo_1_4:{tipo:"linea",x:1,y:4,puntas:["NW","E"],idCelda:"circulo_1_4",idSector:"circulo"},circulo_3_1:{tipo:"linea",x:3,y:1,puntas:["NW","S"],idCelda:"circulo_3_1",idSector:"circulo"},circulo_3_3:{tipo:"cambio",x:3,y:3,punta:"N",ramas:{normal:"SW",desviado:"S"},posicion:"normal",idCelda:"circulo_3_3",idSector:"circulo"},circulo_2_4:{tipo:"cruce",x:2,y:4,linea1:{puntas:["W","NE"]},linea2:{puntas:["NW","SE"]},idCelda:"circulo_2_4",idSector:"circulo"},circulo_0_2:{tipo:"triple",posicion:"centro",punta:"N",ramas:{centro:"S",izq:"SE",der:"SW"},x:0,y:2,idCelda:"circulo_0_2",idSector:"circulo"},circulo_5_1:{tipo:"triple",posicion:"centro",punta:"N",ramas:{centro:"S",izq:"SE",der:"SW"},x:5,y:1,despachador:["N","S","SE","SW"],idCelda:"circulo_5_1",idSector:"circulo"},circulo_5_3:{tipo:"cambio",x:5,y:3,posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"NE"},despachador:["W","E","NE"],idCelda:"circulo_5_3",idSector:"circulo"},circulo_3_4:{tipo:"paragolpe",x:3,y:4,punta:"N",idCelda:"circulo_3_4",idSector:"circulo"},circulo_3_2:{tipo:"linea",x:3,y:2,puntas:["N","S"],idCelda:"circulo_3_2",idSector:"circulo"},circulo_1_3:{tipo:"linea",x:1,y:3,puntas:["NW","SE"],idCelda:"circulo_1_3",idSector:"circulo"},constitucion_5_0:{tipo:"linea",puntas:["N","S"],x:5,y:0,idCelda:"constitucion_5_0",idSector:"constitucion"},constitucion_6_0:{tipo:"linea",puntas:["N","S"],x:6,y:0,idCelda:"constitucion_6_0",idSector:"constitucion"},constitucion_5_1:{tipo:"linea",puntas:["N","SW"],x:5,y:1,idCelda:"constitucion_5_1",idSector:"constitucion"},constitucion_6_1:{tipo:"linea",puntas:["N","SE"],x:6,y:1,idCelda:"constitucion_6_1",idSector:"constitucion"},constitucion_4_2:{tipo:"linea",puntas:["NE","SW"],x:4,y:2,idCelda:"constitucion_4_2",idSector:"constitucion"},constitucion_7_2:{tipo:"linea",puntas:["NW","SE"],x:7,y:2,idCelda:"constitucion_7_2",idSector:"constitucion"},constitucion_3_3:{tipo:"linea",puntas:["NE","SW"],x:3,y:3,idCelda:"constitucion_3_3",idSector:"constitucion"},constitucion_4_3:{tipo:"linea",puntas:["SW","E"],x:4,y:3,idCelda:"constitucion_4_3",idSector:"constitucion"},constitucion_5_3:{tipo:"linea",puntas:["W","E"],x:5,y:3,idCelda:"constitucion_5_3",idSector:"constitucion"},constitucion_6_3:{tipo:"linea",puntas:["W","E"],x:6,y:3,idCelda:"constitucion_6_3",idSector:"constitucion"},constitucion_7_3:{tipo:"linea",puntas:["W","E"],x:7,y:3,idCelda:"constitucion_7_3",idSector:"constitucion"},constitucion_8_3:{tipo:"cambio",posicion:"normal",punta:"SE",ramas:{normal:"NW",desviado:"W"},x:8,y:3,idCelda:"constitucion_8_3",idSector:"constitucion"},constitucion_0_4:{tipo:"paragolpe",punta:"E",x:0,y:4,idCelda:"constitucion_0_4",idSector:"constitucion"},constitucion_1_4:{tipo:"linea",puntas:["W","E"],x:1,y:4,idCelda:"constitucion_1_4",idSector:"constitucion"},constitucion_2_4:{tipo:"triple",posicion:"centro",punta:"W",ramas:{centro:"E",izq:"NE",der:"SE"},x:2,y:4,idCelda:"constitucion_2_4",idSector:"constitucion"},constitucion_3_4:{tipo:"cruce",linea1:{puntas:["SW","NE"]},linea2:{puntas:["W","E"]},x:3,y:4,idCelda:"constitucion_3_4",idSector:"constitucion"},constitucion_4_4:{tipo:"cambio",posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"SE"},x:4,y:4,idCelda:"constitucion_4_4",idSector:"constitucion"},constitucion_5_4:{tipo:"cambio",posicion:"normal",punta:"E",ramas:{normal:"W",desviado:"SW"},x:5,y:4,idCelda:"constitucion_5_4",idSector:"constitucion"},constitucion_6_4:{tipo:"linea",puntas:["W","SE"],x:6,y:4,idCelda:"constitucion_6_4",idSector:"constitucion"},constitucion_9_4:{tipo:"linea",puntas:["NW","SE"],x:9,y:4,idCelda:"constitucion_9_4",idSector:"constitucion"},constitucion_0_5:{tipo:"paragolpe",punta:"E",x:0,y:5,idCelda:"constitucion_0_5",idSector:"constitucion"},constitucion_1_5:{tipo:"linea",puntas:["W","E"],x:1,y:5,idCelda:"constitucion_1_5",idSector:"constitucion"},constitucion_2_5:{tipo:"cambio",posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"NE"},x:2,y:5,idCelda:"constitucion_2_5",idSector:"constitucion"},constitucion_3_5:{tipo:"cruce",linea1:{puntas:["NW","SE"]},linea2:{puntas:["W","E"]},x:3,y:5,idCelda:"constitucion_3_5",idSector:"constitucion"},constitucion_4_5:{tipo:"cambio",posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"NE"},x:4,y:5,idCelda:"constitucion_4_5",idSector:"constitucion"},constitucion_5_5:{tipo:"cambio",posicion:"normal",punta:"E",ramas:{normal:"W",desviado:"NW"},x:5,y:5,idCelda:"constitucion_5_5",idSector:"constitucion"},constitucion_6_5:{tipo:"linea",puntas:["W","SE"],x:6,y:5,idCelda:"constitucion_6_5",idSector:"constitucion"},constitucion_7_5:{tipo:"linea",puntas:["NW","SE"],x:7,y:5,idCelda:"constitucion_7_5",idSector:"constitucion"},constitucion_10_5:{tipo:"linea",puntas:["NW","SE"],x:10,y:5,idCelda:"constitucion_10_5",idSector:"constitucion"},cruceDobleCambio_0_0:{tipo:"cambio",x:0,y:0,posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"SE"},idCelda:"cruceDobleCambio_0_0",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0:{tipo:"cambio",x:1,y:0,posicion:"normal",punta:"E",ramas:{normal:"W",desviado:"SW"},idCelda:"cruceDobleCambio_1_0",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1:{tipo:"cambio",x:0,y:1,posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"NE"},idCelda:"cruceDobleCambio_0_1",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1:{tipo:"cambio",x:1,y:1,posicion:"normal",punta:"E",ramas:{normal:"W",desviado:"NW"},idCelda:"cruceDobleCambio_1_1",idSector:"cruceDobleCambio"},dosVias_0_0:{tipo:"paragolpe",x:0,y:0,punta:"E",despachador:["E"],idCelda:"dosVias_0_0",idSector:"dosVias"},dosVias_0_1:{tipo:"paragolpe",x:0,y:1,punta:"E",despachador:["E"],idCelda:"dosVias_0_1",idSector:"dosVias"},dosVias_1_0:{tipo:"cambio",x:1,y:0,punta:"W",ramas:{normal:"E",desviado:"SE"},posicion:"normal",bloque:"Nor-oeste",idCelda:"dosVias_1_0",idSector:"dosVias",idBloque:"dosVias__Nor_oeste"},dosVias_1_1:{tipo:"cambio",x:1,y:1,punta:"W",ramas:{normal:"E",desviado:"NE"},posicion:"normal",bloque:"Sud-oeste",idCelda:"dosVias_1_1",idSector:"dosVias",idBloque:"dosVias__Sud_oeste"},dosVias_2_0:{tipo:"cambio",x:2,y:0,punta:"E",ramas:{normal:"W",desviado:"SW"},posicion:"normal",bloque:"Nor-oeste",idCelda:"dosVias_2_0",idSector:"dosVias",idBloque:"dosVias__Nor_oeste"},dosVias_2_1:{tipo:"cambio",x:2,y:1,punta:"E",ramas:{normal:"W",desviado:"NW"},posicion:"normal",bloque:"Sud-oeste",idCelda:"dosVias_2_1",idSector:"dosVias",idBloque:"dosVias__Sud_oeste"},dosVias_3_0:{tipo:"linea",x:3,y:0,puntas:["E","W"],bloque:"Norte",idCelda:"dosVias_3_0",idSector:"dosVias",idBloque:"dosVias__Norte"},dosVias_3_1:{tipo:"linea",x:3,y:1,puntas:["E","W"],bloque:"Sur",idCelda:"dosVias_3_1",idSector:"dosVias",idBloque:"dosVias__Sur"},dosVias_4_0:{tipo:"linea",x:4,y:0,puntas:["E","W"],bloque:"Norte",idCelda:"dosVias_4_0",idSector:"dosVias",idBloque:"dosVias__Norte"},dosVias_4_1:{tipo:"linea",x:4,y:1,puntas:["E","W"],bloque:"Sur",idCelda:"dosVias_4_1",idSector:"dosVias",idBloque:"dosVias__Sur"},dosVias_5_0:{tipo:"linea",x:5,y:0,puntas:["E","W"],bloque:"Norte",idCelda:"dosVias_5_0",idSector:"dosVias",idBloque:"dosVias__Norte"},dosVias_5_1:{tipo:"linea",x:5,y:1,puntas:["E","W"],bloque:"Sur",idCelda:"dosVias_5_1",idSector:"dosVias",idBloque:"dosVias__Sur"},dosVias_6_0:{tipo:"cambio",x:6,y:0,punta:"W",ramas:{normal:"E",desviado:"SE"},posicion:"normal",bloque:"Nor-este",idCelda:"dosVias_6_0",idSector:"dosVias",idBloque:"dosVias__Nor_este"},dosVias_6_1:{tipo:"cambio",x:6,y:1,punta:"W",ramas:{normal:"E",desviado:"NE"},posicion:"normal",bloque:"Sud-este",idCelda:"dosVias_6_1",idSector:"dosVias",idBloque:"dosVias__Sud_este"},dosVias_7_0:{tipo:"cambio",x:7,y:0,punta:"E",ramas:{normal:"W",desviado:"SW"},posicion:"normal",bloque:"Nor-este",idCelda:"dosVias_7_0",idSector:"dosVias",idBloque:"dosVias__Nor_este"},dosVias_7_1:{tipo:"cambio",x:7,y:1,punta:"E",ramas:{normal:"W",desviado:"NW"},posicion:"normal",bloque:"Sud-este",idCelda:"dosVias_7_1",idSector:"dosVias",idBloque:"dosVias__Sud_este"},dosVias_8_0:{tipo:"paragolpe",x:8,y:0,punta:"W",despachador:["W"],idCelda:"dosVias_8_0",idSector:"dosVias"},dosVias_8_1:{tipo:"paragolpe",x:8,y:1,punta:"W",despachador:["W"],idCelda:"dosVias_8_1",idSector:"dosVias"},senalesEncadenadas_0_0:{tipo:"linea",puntas:["W","E"],x:0,y:0,idCelda:"senalesEncadenadas_0_0",idSector:"senalesEncadenadas"},senalesEncadenadas_1_0:{tipo:"linea",puntas:["W","E"],x:1,y:0,idCelda:"senalesEncadenadas_1_0",idSector:"senalesEncadenadas"},senalesEncadenadas_2_0:{tipo:"linea",puntas:["W","E"],x:2,y:0,idCelda:"senalesEncadenadas_2_0",idSector:"senalesEncadenadas"},senalesEncadenadas_3_0:{tipo:"linea",puntas:["W","E"],x:3,y:0,idCelda:"senalesEncadenadas_3_0",idSector:"senalesEncadenadas"},simpleDesvio_0_0:{tipo:"cambio",x:0,y:0,posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"NE"},idCelda:"simpleDesvio_0_0",idSector:"simpleDesvio"}},c={constitucion_4_4:{x:4,y:4,tipo:"cambio",dependencias:[{x:5,y:5,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:4,y:5,tipo:"cambio",desviado:"normal"}],idEncl:"constitucion_4_4",idSector:"constitucion"},constitucion_4_5:{x:4,y:5,tipo:"cambio",dependencias:[{x:5,y:4,tipo:"cambio",normal:"normal",desviado:"desviado"}],idEncl:"constitucion_4_5",idSector:"constitucion"},constitucion_5_4:{x:5,y:4,tipo:"cambio",dependencias:[{x:4,y:5,tipo:"cambio",normal:"normal",desviado:"desviado"}],idEncl:"constitucion_5_4",idSector:"constitucion"},constitucion_5_5:{x:5,y:5,tipo:"cambio",dependencias:[{x:4,y:4,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:4,y:5,tipo:"cambio",desviado:"normal"}],idEncl:"constitucion_5_5",idSector:"constitucion"},constitucion_2_4_W:{x:2,y:4,dir:"W",tipo:"senal",dependencias:[{x:2,y:4,tipo:"cambio",izq:{centro:3,der:3},centro:{izq:3,der:3},der:{izq:3,centro:3}}],idEncl:"constitucion_2_4_W",idSector:"constitucion"},constitucion_4_4_W:{x:4,y:4,dir:"W",tipo:"senal",dependencias:[{x:4,y:4,tipo:"cambio",normal:{der:3},desviado:{centro:3,der:2}},{x:5,y:4,tipo:"cambio",desviado:{centro:3,der:3}}],idEncl:"constitucion_4_4_W",idSector:"constitucion"},constitucion_8_3_SE:{x:8,y:3,dir:"SE",tipo:"senal",dependencias:[{x:8,y:3,tipo:"cambio",normal:{izq:3},desviado:{izq:2,centro:3}}],idEncl:"constitucion_8_3_SE",idSector:"constitucion"},cruceDobleCambio_0_0:{x:0,y:0,tipo:"cambio",dependencias:[{x:1,y:1,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:0,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"cruceDobleCambio_0_0",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1:{x:0,y:1,tipo:"cambio",dependencias:[{x:1,y:0,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:0,y:0,tipo:"cambio",desviado:"normal"}],idEncl:"cruceDobleCambio_0_1",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0:{x:1,y:0,tipo:"cambio",dependencias:[{x:0,y:1,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:1,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"cruceDobleCambio_1_0",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1:{x:1,y:1,tipo:"cambio",dependencias:[{x:0,y:0,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:0,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"cruceDobleCambio_1_1",idSector:"cruceDobleCambio"},cruceDobleCambio_0_0_W:{x:0,y:0,dir:"W",tipo:"senal",dependencias:[{x:0,y:0,tipo:"cambio",normal:{der:3},desviado:{centro:3,der:2}},{x:1,y:0,tipo:"cambio",desviado:{centro:3,der:3}}],idEncl:"cruceDobleCambio_0_0_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0_E:{x:1,y:0,dir:"E",tipo:"senal",dependencias:[{x:1,y:0,tipo:"cambio",normal:{izq:3},desviado:{centro:3,izq:2}},{x:0,y:0,tipo:"cambio",desviado:{centro:3,izq:3}}],idEncl:"cruceDobleCambio_1_0_E",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1_W:{x:0,y:1,dir:"W",tipo:"senal",dependencias:[{x:0,y:1,tipo:"cambio",normal:{izq:3},desviado:{centro:3,izq:2}},{x:1,y:1,tipo:"cambio",desviado:{centro:3,izq:3}}],idEncl:"cruceDobleCambio_0_1_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1_E:{x:1,y:1,dir:"E",tipo:"senal",dependencias:[{x:1,y:1,tipo:"cambio",normal:{der:3},desviado:{centro:3,der:2}},{x:0,y:1,tipo:"cambio",desviado:{centro:3,der:3}}],idEncl:"cruceDobleCambio_1_1_E",idSector:"cruceDobleCambio"},dosVias_1_0:{x:1,y:0,tipo:"cambio",dependencias:[{x:2,y:1,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:1,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"dosVias_1_0",idSector:"dosVias"},dosVias_1_1:{x:1,y:1,tipo:"cambio",dependencias:[{x:2,y:0,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:1,y:0,tipo:"cambio",desviado:"normal"}],idEncl:"dosVias_1_1",idSector:"dosVias"},dosVias_2_0:{x:2,y:0,tipo:"cambio",dependencias:[{x:1,y:1,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:2,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"dosVias_2_0",idSector:"dosVias"},dosVias_2_1:{x:2,y:1,tipo:"cambio",dependencias:[{x:1,y:0,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:1,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"dosVias_2_1",idSector:"dosVias"},dosVias_6_0:{x:6,y:0,tipo:"cambio",dependencias:[{x:7,y:1,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:6,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"dosVias_6_0",idSector:"dosVias"},dosVias_6_1:{x:6,y:1,tipo:"cambio",dependencias:[{x:7,y:0,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:6,y:0,tipo:"cambio",desviado:"normal"}],idEncl:"dosVias_6_1",idSector:"dosVias"},dosVias_7_0:{x:7,y:0,tipo:"cambio",dependencias:[{x:6,y:1,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:7,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"dosVias_7_0",idSector:"dosVias"},dosVias_7_1:{x:7,y:1,tipo:"cambio",dependencias:[{x:6,y:0,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:6,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"dosVias_7_1",idSector:"dosVias"},dosVias_1_0_W:{x:1,y:0,dir:"W",tipo:"senal",dependencias:[{tipo:"bloque",bloque:"Nor-oeste",luzAfectada:"der"},{tipo:"cambio",x:1,y:0,normal:{der:3},desviado:{der:2}},{x:3,y:1,dir:"W",tipo:"senal",luces:[{cuando:3,luzAfectada:"der",estado:2}]},{tipo:"fijo",luzAfectada:"centro",estado:3}],idEncl:"dosVias_1_0_W",idSector:"dosVias"},dosVias_1_1_W:{x:1,y:1,dir:"W",tipo:"senal",dependencias:[{tipo:"cambio",x:2,y:1,desviado:{centro:3}},{tipo:"bloque",bloque:"Sud-oeste",luzAfectada:"centro"},{x:3,y:1,dir:"W",tipo:"senal",luces:[{cuando:3,luzAfectada:"der",estado:2}]},{tipo:"fijo",luzAfectada:"izq",estado:3}],idEncl:"dosVias_1_1_W",idSector:"dosVias"},dosVias_2_0_E:{x:2,y:0,dir:"E",tipo:"senal",dependencias:[{tipo:"bloque",bloque:"Nor-oeste",luzAfectada:"centro"},{tipo:"cambio",x:2,y:0,normal:{izq:3},desviado:{centro:3,izq:2}},{tipo:"cambio",x:1,y:0,desviado:{centro:3}}],idEncl:"dosVias_2_0_E",idSector:"dosVias"},dosVias_2_1_E:{x:2,y:1,dir:"E",tipo:"senal",dependencias:[{tipo:"fijo",luzAfectada:"der",estado:3},{tipo:"fijo",luzAfectada:"centro",estado:3},{tipo:"cambio",x:2,y:1,normal:{der:3},desviado:{centro:3,der:2}},{tipo:"cambio",x:1,y:1,desviado:{centro:3}}],idEncl:"dosVias_2_1_E",idSector:"dosVias"},dosVias_7_1_E:{x:7,y:1,dir:"E",tipo:"senal",dependencias:[{tipo:"cambio",x:7,y:1,normal:{der:3},desviado:{der:2}},{tipo:"fijo",luzAfectada:"centro",estado:3},{tipo:"bloque",bloque:"Sud-este",luzAfectada:"der"},{x:5,y:0,dir:"E",tipo:"senal",luces:[{cuando:3,luzAfectada:"der",estado:2}]},{tipo:"fijo",luzAfectada:"centro",estado:3}],idEncl:"dosVias_7_1_E",idSector:"dosVias"},dosVias_7_0_E:{x:7,y:0,dir:"E",tipo:"senal",dependencias:[{tipo:"cambio",x:6,y:0,desviado:{centro:3}},{tipo:"bloque",bloque:"Nor-este",luzAfectada:"centro"},{x:5,y:1,dir:"E",tipo:"senal",luces:[{cuando:3,luzAfectada:"izq",estado:2}]},{tipo:"fijo",luzAfectada:"izq",estado:3}],idEncl:"dosVias_7_0_E",idSector:"dosVias"},dosVias_6_1_W:{x:6,y:1,dir:"W",tipo:"senal",dependencias:[{tipo:"bloque",bloque:"Sud-este",luzAfectada:"izq"},{tipo:"bloque",bloque:"Sud-este",luzAfectada:"centro"},{tipo:"cambio",x:7,y:0,normal:{izq:3},desviado:{centro:3,izq:2}},{tipo:"cambio",x:7,y:1,desviado:{centro:3}}],idEncl:"dosVias_6_1_W",idSector:"dosVias"},dosVias_6_0_W:{x:6,y:0,dir:"W",tipo:"senal",dependencias:[{tipo:"bloque",bloque:"Nor-este",luzAfectada:"der"},{tipo:"bloque",bloque:"Nor-este",luzAfectada:"centro"},{tipo:"cambio",x:6,y:0,normal:{der:3},desviado:{centro:3,der:2}},{tipo:"cambio",x:7,y:0,desviado:{centro:3}}],idEncl:"dosVias_6_0_W",idSector:"dosVias"},dosVias_3_1_W:{tipo:"senal",x:3,y:1,dir:"W",dependencias:[{tipo:"bloque",bloque:"Sur",luzAfectada:"centro"},{tipo:"senal",x:6,y:1,dir:"W",luces:[{cuando:3,luzAfectada:"centro",estado:2}]}],idEncl:"dosVias_3_1_W",idSector:"dosVias"},dosVias_5_0_E:{tipo:"senal",x:5,y:0,dir:"E",dependencias:[{tipo:"bloque",bloque:"Norte",luzAfectada:"centro"},{tipo:"senal",x:2,y:0,dir:"E",luces:[{cuando:3,luzAfectada:"centro",estado:2}]}],idEncl:"dosVias_5_0_E",idSector:"dosVias"},dosVias__Nor_este:{tipo:"bloque",bloque:"Nor-este",dependencias:[{tipo:"bloque",bloque:"Sud-este",x:7,y:0,posicion:"desviado"},{tipo:"bloque",bloque:"Sud-este",x:6,y:0,posicion:"desviado"}],idEncl:"dosVias__Nor_este",idSector:"dosVias"},dosVias__Sud_este:{tipo:"bloque",bloque:"Sud-este",dependencias:[{tipo:"bloque",bloque:"Nor-este",x:7,y:1,posicion:"desviado"},{tipo:"bloque",bloque:"Nor-este",x:6,y:1,posicion:"desviado"}],idEncl:"dosVias__Sud_este",idSector:"dosVias"},dosVias__Nor_oeste:{tipo:"bloque",bloque:"Nor-oeste",dependencias:[{tipo:"bloque",bloque:"Sud-oeste",x:2,y:0,posicion:"desviado"},{tipo:"bloque",bloque:"Sud-oeste",x:1,y:0,posicion:"desviado"}],idEncl:"dosVias__Nor_oeste",idSector:"dosVias"},dosVias__Sud_oeste:{tipo:"bloque",bloque:"Sud-oeste",dependencias:[{tipo:"bloque",bloque:"Nor-oeste",x:2,y:1,posicion:"desviado"},{tipo:"bloque",bloque:"Nor-oeste",x:1,y:1,posicion:"desviado"}],idEncl:"dosVias__Sud_oeste",idSector:"dosVias"},senalesEncadenadas_0_0_W:{x:0,y:0,dir:"W",tipo:"senal",dependencias:[{x:3,y:0,dir:"W",tipo:"senal",luces:[{cuando:3,luzAfectada:"centro",estado:2}]}],idEncl:"senalesEncadenadas_0_0_W",idSector:"senalesEncadenadas"},simpleDesvio_0_0_W:{x:0,y:0,dir:"W",tipo:"senal",dependencias:[{x:0,y:0,tipo:"cambio",normal:{izq:3},desviado:{izq:2,centro:3}}],idEncl:"simpleDesvio_0_0_W",idSector:"simpleDesvio"}},r={constitucion_5_3_E:{centro:1,dir:"E",x:5,y:3,idSenal:"constitucion_5_3_E",idSector:"constitucion"},constitucion_8_3_SE:{dir:"SE",centro:1,izq:3,x:8,y:3,idSenal:"constitucion_8_3_SE",idSector:"constitucion"},constitucion_2_4_W:{dir:"W",centro:1,izq:3,der:3,x:2,y:4,idSenal:"constitucion_2_4_W",idSector:"constitucion"},constitucion_4_4_W:{dir:"W",centro:1,der:3,x:4,y:4,idSenal:"constitucion_4_4_W",idSector:"constitucion"},cruceDobleCambio_0_0_W:{dir:"W",centro:1,der:3,x:0,y:0,idSenal:"cruceDobleCambio_0_0_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0_E:{dir:"E",centro:1,izq:3,x:1,y:0,idSenal:"cruceDobleCambio_1_0_E",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1_W:{dir:"W",centro:1,izq:3,x:0,y:1,idSenal:"cruceDobleCambio_0_1_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1_E:{dir:"E",centro:1,der:3,x:1,y:1,idSenal:"cruceDobleCambio_1_1_E",idSector:"cruceDobleCambio"},dosVias_1_0_W:{x:1,y:0,dir:"W",centro:3,der:3,idSenal:"dosVias_1_0_W",idSector:"dosVias"},dosVias_1_1_W:{x:1,y:1,dir:"W",centro:1,izq:3,idSenal:"dosVias_1_1_W",idSector:"dosVias"},dosVias_2_0_E:{x:2,y:0,dir:"E",centro:1,izq:3,idSenal:"dosVias_2_0_E",idSector:"dosVias"},dosVias_2_1_E:{x:2,y:1,dir:"E",centro:3,der:3,idSenal:"dosVias_2_1_E",idSector:"dosVias"},dosVias_3_0_W:{x:3,y:0,dir:"W",centro:3,idSenal:"dosVias_3_0_W",idSector:"dosVias"},dosVias_3_1_W:{x:3,y:1,dir:"W",centro:1,idSenal:"dosVias_3_1_W",idSector:"dosVias"},dosVias_5_0_E:{x:5,y:0,dir:"E",centro:1,idSenal:"dosVias_5_0_E",idSector:"dosVias"},dosVias_5_1_E:{x:5,y:1,dir:"E",centro:3,idSenal:"dosVias_5_1_E",idSector:"dosVias"},dosVias_6_0_W:{x:6,y:0,dir:"W",centro:3,der:3,idSenal:"dosVias_6_0_W",idSector:"dosVias"},dosVias_6_1_W:{x:6,y:1,dir:"W",centro:1,izq:3,idSenal:"dosVias_6_1_W",idSector:"dosVias"},dosVias_7_0_E:{x:7,y:0,dir:"E",centro:1,izq:3,idSenal:"dosVias_7_0_E",idSector:"dosVias"},dosVias_7_1_E:{x:7,y:1,dir:"E",centro:3,der:3,idSenal:"dosVias_7_1_E",idSector:"dosVias"},senalesEncadenadas_0_0_W:{dir:"W",centro:1,x:0,y:0,idSenal:"senalesEncadenadas_0_0_W",idSector:"senalesEncadenadas"},senalesEncadenadas_3_0_W:{dir:"W",centro:1,x:3,y:0,soloManual:!0,idSenal:"senalesEncadenadas_3_0_W",idSector:"senalesEncadenadas"},simpleDesvio_0_0_W:{dir:"W",centro:1,izq:3,x:0,y:0,idSenal:"simpleDesvio_0_0_W",idSector:"simpleDesvio"}},d={dosVias__Nor_oeste:{celdas:["dosVias_1_0","dosVias_2_0"],descr:"Nor-oeste"},dosVias__Sud_oeste:{celdas:["dosVias_1_1","dosVias_2_1"],descr:"Sud-oeste"},dosVias__Norte:{celdas:["dosVias_3_0","dosVias_4_0","dosVias_5_0"],descr:"Norte"},dosVias__Sur:{celdas:["dosVias_3_1","dosVias_4_1","dosVias_5_1"],descr:"Sur"},dosVias__Nor_este:{celdas:["dosVias_6_0","dosVias_7_0"],descr:"Nor-este"},dosVias__Sud_este:{celdas:["dosVias_6_1","dosVias_7_1"],descr:"Sud-este"}}},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(7),o=Object(a.b)("setBloqueOcupado",(function(e,t,n){return{payload:{idBloque:e,idTren:t,vecino:n}}}))},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c}));var a=n(22),o=function(e,t){return e.celdas[t]},i=function(e,t){return!!e.celdas[t].manual},c=Object(a.a)((function(e){return e.celdas}),(function(e,t){return t}),(function(e,t){return Object.values(e).filter((function(e){return e.idSector===t}))}))},46:function(e,t,n){e.exports={info:"styles_info__2eaPP",warning:"styles_warning__Y2zSC",danger:"styles_danger__3Ef8R",fixed:"styles_fixed__3IULb",buttons:"styles_buttons__Of--i"}},47:function(e,t,n){e.exports={senal:"styles_senal__12UIJ",verde:"styles_verde__1oebA",rojo:"styles_rojo__2Q9wl",amarillo:"styles_amarillo__Dx2da",manual:"styles_manual__21pNp"}},49:function(e,t,n){"use strict";n.d(t,"m",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"x",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"r",(function(){return r})),n.d(t,"v",(function(){return d})),n.d(t,"y",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"s",(function(){return u})),n.d(t,"p",(function(){return _})),n.d(t,"h",(function(){return m})),n.d(t,"l",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"g",(function(){return f})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return S})),n.d(t,"i",(function(){return v})),n.d(t,"u",(function(){return A})),n.d(t,"t",(function(){return y})),n.d(t,"w",(function(){return C})),n.d(t,"z",(function(){return O})),n.d(t,"q",(function(){return j})),n.d(t,"b",(function(){return x})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return V})),n.d(t,"A",(function(){return W})),n.d(t,"f",(function(){return g}));var a="linea",o="cambio",i="triple",c="cruce",r="paragolpe",d="senal",s=1,l=2,u=3,_="normal",m="desviado",p="izq",b="centro",f="der",E="N",S="NE",v="E",A="SE",y="S",C="SW",O="W",j="NW",x="bloque",h="fijo",V="info",W="warning",g="danger"},50:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return d})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return _})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p}));var a=n(7),o=n(11),i=n(15),c=n(4),r=Object(a.b)("setCambio",(function(e,t){return{payload:{idCelda:e,posicion:t}}}));function d(e,t){return function(n,a){var d=Object(i.c)(a(),e);if(d.tipo!==c.c&&d.tipo!==c.x)throw new Error("Celda ".concat(e,"  no es un cambio"));return d.posicion!==t&&(!Object(i.h)(a(),e)&&(n(Object(o.setPendiente)(e)),n(r(e,t))))}}function s(e,t){return function(n,a){return n(d(e,t)),Object(i.d)(a(),e)||n(Object(o.setEnclavamientos)(e,c.c)),n(Object(o.clearPendientes)())}}var l=Object(a.b)("setCambioManual",(function(e,t){return{payload:{idCelda:e,manual:t}}})),u=Object(a.b)("removeTrenFromCelda",(function(e,t){return{payload:{idCelda:e,idTren:t}}}));function _(e,t){return function(n,a){n(u(e,t));var c=Object(i.c)(a(),e);c.idBloque&&n(Object(o.setBloqueOcupado)(c.idBloque,!1))}}var m=Object(a.b)("addTrenToCelda",(function(e,t){return{payload:{idCelda:e,idTren:t}}}));function p(e,t){return function(n,a){n(m(e,t));var c=Object(i.c)(a(),e);c.idBloque&&n(Object(o.setBloqueOcupado)(c.idBloque,t))}}},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var a=function(e){return e.alertas.alarma},o=function(e){return e.alertas.avisos}},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var a=n(22),o=function(e,t){return e.bloques[t]},i=Object(a.a)((function(e){return e.bloques}),(function(e,t){return t}),(function(e,t){var n=e[t];return n&&n.idTren}))},53:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(22),o=Object(a.a)((function(e){return e.sectores}),(function(e){return Object.values(e).map((function(e){return{idSector:e.idSector,descr:e.descr,descrCorta:e.descrCorta}})).sort((function(e,t){var n=e.descrCorta.toUpperCase(),a=t.descrCorta.toUpperCase();return n<a?-1:n>a?1:0}))})),i=function(e,t){return e.sectores[t]}},54:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var a=function(e,t){return Object.values(e.trenes).filter((function(e){return!t||e.idSector===t}))},o=function(e,t){return e.trenes[t]}},55:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(7),o=Object(a.b)("setPendiente"),i=Object(a.b)("clearPendientes")},56:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u}));var a=n(7),o=n(11),i=n(15),c=n(33),r=n(4),d=Object(a.b)("setLuzEstado",(function(e,t,n){return{payload:{idSenal:e,luz:t,estado:n}}}));function s(e,t,n){return function(a,o){var c=Object(i.i)(o(),e);if(!c[t])throw new Error("Se\xf1al ".concat(e," no tiene luz ").concat(t));return c[t]!==n&&a(d(e,t,n))}}function l(e,t,n){return function(a,i){return a(s(e,t,n)),Object(c.b)(i(),e)||a(Object(o.setEnclavamientos)(e,r.v)),a(Object(o.clearPendientes)())}}var u=Object(a.b)("setSenalManual",(function(e,t){return{payload:{idSenal:e,manual:t}}}))},58:function(e,t,n){e.exports={flechaDespachador:"styles_flechaDespachador__jpfOH",trenDespachador:"styles_trenDespachador__1G3VE",disabled:"styles_disabled__10sbm",tren:"styles_tren__25vJ9"}},60:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var a=n(22),o=n(4),i=Object(a.a)((function(e){return e.enclavamientos}),(function(e,t){return t}),(function(e,t){return Object.values(e).filter((function(e){return e.idSector===t})).sort((function(e,t){return e.tipo===o.c&&t.tipo===o.v?-1:e.tipo===o.v&&t.tipo===o.c?1:0}))})),c=function(e,t){return e.enclavamientos[t]}},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(77),o=n.n(a),i=n(104),c=n(10),r=n(15),d=n(4),s=n(11);function l(e,t,n){return function(){var a=Object(i.a)(o.a.mark((function a(i,l){var u,_,m,p,b,f,E,S,v;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(f=function(e,t){var n=Object(r.i)(l(),e);if(Object(r.j)(l(),e))return!1;var a={izq:d.y,centro:d.y,der:d.y};return t.forEach((function(t){var n=Object(c.a)({idSector:u,x:t.x,y:t.y,dir:t.dir});switch(t.tipo){case d.c:var o=t[Object(r.c)(l(),n).posicion]||{};Object.keys(o).forEach((function(e){a[e]=Math.max(a[e],o[e])}));break;case d.v:var i=Object(r.i)(l(),n),s=[d.l,d.d,d.g].reduce((function(e,t){return t in i?Math.min(e,i[t]):e}),d.s);t.luces.forEach((function(e){var t=e.cuando,n=e.luzAfectada,o=e.estado;s===t&&(a[n]=Math.max(a[n],o))}));break;case d.b:!!Object(r.b)(l(),Object(c.b)(u,t.bloque))&&(a[t.luzAfectada]=d.s);break;case d.j:a[t.luzAfectada]=Math.max(t.estado,a[t.luzAfectada]);break;default:throw new Error("Dependencia ".concat(t.idSource," de ").concat(e," tiene tipo desconocido: ").concat(t.tipo))}})),Object.keys(a).reduce((function(t,o){return o in n?n[o]===a[o]?t:t.then((function(t){return!!i(Object(s.doSetLuzEstado)(e,o,a[o]))||t})):t}),Promise.resolve(!1))},b=function(e,t){var n=Object(r.c)(l(),e);return t.reduce((function(t,a){var o=Object(c.a)({idSector:u,x:a.x,y:a.y}),d=a[Object(r.c)(l(),o).posicion];return d?d===n.posicion||Object(r.d)(l(),e)?t:t.then((function(t){return!!i(Object(s.doSetCambio)(e,d))||t})):t}),Promise.resolve(!1))},Object(r.g)(l())){a.next=4;break}return a.abrupt("return");case 4:a.t0=t,a.next=a.t0===d.c?7:a.t0===d.v?12:a.t0===d.b?17:20;break;case 7:if(!(_=Object(r.c)(l(),e)).manual){a.next=10;break}return a.abrupt("return");case 10:return u=_.idSector,a.abrupt("break",21);case 12:if(!(m=Object(r.i)(l(),e)).manual){a.next=15;break}return a.abrupt("return");case 15:return u=m.idSector,a.abrupt("break",21);case 17:return p=Object(r.c)(l(),e),u=p.idSector,a.abrupt("break",21);case 20:return a.abrupt("break",21);case 21:E=function(e,t){var n=Object(r.a)(l(),e);t.reduce((function(t,n){switch(n.tipo){case d.b:var a=Object(c.a)({idSector:u,x:n.x,y:n.y});if(Object(r.c)(l(),a).posicion===n.posicion){var o=Object(r.a)(l(),Object(c.b)(u,n.bloque));if(o.idTren&&!o.vecino)return i(Object(s.setBloqueOcupado)(e,o.idTren,!0))}return t;default:throw new Error("Dependencia de  ".concat(e," tiene tipo desconocido: ").concat(n.tipo))}}),n.vecino?i(Object(s.setBloqueOcupado)(e,!1,!1)):Promise.resolve(!1))},S=function(){return Object(r.f)(l(),u).reduce((function(t,a){var o=a.x,i=a.y,r=a.dir,s=a.tipo,l=a.dependencias,_=a.bloque,m=s===d.b?Object(c.b)(u,_):Object(c.a)({idSector:u,x:o,y:i,dir:r});if(!n&&m===e)return t;switch(s){case d.c:return t.then((function(e){return b(m,l)||e}));case d.v:return t.then((function(e){return f(m,l)||e}));case d.b:return t.then((function(e){return E(m,l)||e}));default:throw new Error("Celda ".concat(m," tiene enclavamiento desconocido ").concat(s))}}),Promise.resolve(!1))},v=9;case 24:if(a.t1=v,!a.t1){a.next=29;break}return a.next=28,S();case 28:a.t1=a.sent;case 29:if(!a.t1){a.next=33;break}v--,a.next=24;break;case 33:if(v){a.next=35;break}throw new Error("Enclavamiento en loop por ".concat(e));case 35:return a.abrupt("return",!!v);case 36:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}},80:function(e,t,n){e.exports={alarma:"styles_alarma__1_-OE",close:"styles_close__1Zwow"}},83:function(e,t){}},[[110,1,2]]]);
//# sourceMappingURL=main.c75f472c.chunk.js.map