(this.webpackJsonpreactc2=this.webpackJsonpreactc2||[]).push([[0],{106:function(e,t,o){e.exports={sector:"styles_sector__1v7a1"}},108:function(e,t,o){e.exports={rate:"styles_rate__26o7Y"}},109:function(e,t){e.exports="data:image/gif;base64,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"},11:function(e,t,o){"use strict";var n=o(37);o.d(t,"clearAlarma",(function(){return n.a})),o.d(t,"clearAviso",(function(){return n.b})),o.d(t,"clearAvisos",(function(){return n.c})),o.d(t,"doSetAlarma",(function(){return n.d})),o.d(t,"setAlarma",(function(){return n.e})),o.d(t,"setAviso",(function(){return n.f}));var a=o(46);o.d(t,"setBloqueOcupado",(function(){return a.a}));var c=o(47);o.d(t,"addTrenToCelda",(function(){return c.a})),o.d(t,"doAddTrenToCelda",(function(){return c.b})),o.d(t,"doRemoveTrenFromCelda",(function(){return c.c})),o.d(t,"doSetCambioManual",(function(){return c.d})),o.d(t,"doSetPosicion",(function(){return c.e})),o.d(t,"rawSetPosicion",(function(){return c.f})),o.d(t,"removeTrenFromCelda",(function(){return c.g})),o.d(t,"setRebota",(function(){return c.j}));var i=o(54);o.d(t,"runAutomatizaciones",(function(){return i.b}));var r=o(19);o.d(t,"setPlayRate",(function(){return r.d}));var s=o(55);o.d(t,"clearPendientes",(function(){return s.a})),o.d(t,"setPendiente",(function(){return s.b}));var u=o(84);o.o(u,"doSetAspectoSenal")&&o.d(t,"doSetAspectoSenal",(function(){return u.doSetAspectoSenal})),o.o(u,"doSetModoSemaforo")&&o.d(t,"doSetModoSemaforo",(function(){return u.doSetModoSemaforo})),o.o(u,"plainSetAspectoSenal")&&o.d(t,"plainSetAspectoSenal",(function(){return u.plainSetAspectoSenal}));var d=o(56);o.d(t,"doSetAspectoSenal",(function(){return d.a})),o.d(t,"doSetModoSemaforo",(function(){return d.b})),o.d(t,"plainSetAspectoSenal",(function(){return d.c}));o(28)},110:function(e,t,o){e.exports=o(154)},14:function(e,t,o){"use strict";o.d(t,"d",(function(){return n.a})),o.d(t,"e",(function(){return n.b})),o.d(t,"f",(function(){return a.a})),o.d(t,"g",(function(){return a.b})),o.d(t,"b",(function(){return c.b})),o.d(t,"a",(function(){return c.a})),o.d(t,"c",(function(){return i.a})),o.d(t,"h",(function(){return i.b})),o.d(t,"i",(function(){return r})),o.d(t,"j",(function(){return s.b})),o.d(t,"l",(function(){return u.b})),o.d(t,"k",(function(){return u.a}));o(50);var n=o(51),a=o(42),c=o(62),i=o(26),r=function(e,t){return e.pendientes.includes(t)},s=(o(52),o(33)),u=o(53)},154:function(e,t,o){"use strict";o.r(t);var n,a,c,i,r,s,u=o(1),d=o.n(u),l=o(41),_=o.n(l),m=o(15),p=o(57),f=o(38),b=o(156),E=o(157),A=o(158),O=o(105),S=o(7),y=o(12),C=o(11),j=Object(S.c)({alarma:{},avisos:[]},(n={},Object(y.a)(n,C.doSetAlarma,(function(e,t){e.alarma=t.payload})),Object(y.a)(n,C.clearAlarma,(function(e){e.alarma={}})),Object(y.a)(n,C.setAviso,(function(e,t){e.avisos.unshift(t.payload)})),Object(y.a)(n,C.clearAviso,(function(e,t){var o=e.avisos.findIndex((function(e){return e.fecha===t.payload}));-1!==o&&e.avisos.splice(o,1)})),Object(y.a)(n,C.clearAvisos,(function(e){e.avisos=[]})),n)),x=o(29),v=o(66),h=o(4),V=o(46),q=Object(S.c)(h.F,Object(y.a)({},V.a,(function(e,t){var o=t.payload,n=o.idBloque,a=Object(v.a)(o,["idBloque"]);e[n]=Object(x.a)({},e[n],{},a)}))),g=Object(S.c)(h.G,(a={},Object(y.a)(a,C.doSetPosicion,(function(e,t){var o=t.payload,n=o.idCelda,a=o.posicion;e[n].posicion=a})),Object(y.a)(a,C.doSetCambioManual,(function(e,t){var o=t.payload,n=o.idCelda,a=o.manual;e[n].manual=a})),Object(y.a)(a,C.doRemoveTrenFromCelda,(function(e,t){e[t.payload.idCelda].idTren=void 0})),Object(y.a)(a,C.doAddTrenToCelda,(function(e,t){var o=t.payload,n=o.idCelda,a=o.idTren;e[n].idTren=a})),Object(y.a)(a,C.setRebota,(function(e,t){var o=t.payload,n=o.idCelda,a=o.rebota;e[n].rebota=a})),a)),W=Object(S.c)(h.E,{}),w=o(19),N=Object(S.c)({automatizacionesActive:!0,showCoords:!0,showEstado:{show:!1},playRate:1,showTeletipo:!0},(c={},Object(y.a)(c,w.a,(function(e,t){e.automatizacionesActive=t.payload})),Object(y.a)(c,w.h,(function(e,t){e.showTeletipo=t.payload})),Object(y.a)(c,w.f,(function(e,t){e.showCoords=t.payload})),Object(y.a)(c,w.g,(function(e,t){e.showEstado=Object(x.a)({},t.payload,{show:!0})})),Object(y.a)(c,w.b,(function(e){e.showEstado={show:!1}})),Object(y.a)(c,w.e,(function(e,t){e.showConfig=t.payload})),Object(y.a)(c,w.d,(function(e,t){e.playRate=t.payload})),Object(y.a)(c,w.c,(function(e,t){e.currIdSector=t.payload})),c)),D=o(55),k=Object(S.c)([],(i={},Object(y.a)(i,D.b,(function(e,t){e.push(t.payload)})),Object(y.a)(i,D.a,(function(){return[]})),i)),B=Object(S.c)(h.H,{}),T=Object(S.c)(h.I,(r={},Object(y.a)(r,C.plainSetAspectoSenal,(function(e,t){var o=t.payload,n=o.idSemaforo,a=o.senal,c=o.aspecto;e[n][a]=c})),Object(y.a)(r,C.doSetModoSemaforo,(function(e,t){var o=t.payload,n=o.idSemaforo,a=o.modo;e[n].modo=a})),r)),I=o(28),M=Object(S.c)({},(s={},Object(y.a)(s,I.d,(function(e,t){var o=t.payload;e[o.idTren]=o})),Object(y.a)(s,I.g,(function(e,t){var o=t.payload;e[o.idTren]=Object(x.a)({},e[o.idTren],{},o)})),Object(y.a)(s,I.e,(function(e,t){delete e[t.payload]})),s)),z=o(9),L=o(37),R=o(50),J=o(51),K=function(e){return Object(z.useSelector)((function(t){return Object(J.b)(t,e)}))},U=o(47),P=o(42),Q=function(e){return Object(z.useSelector)((function(t){return Object(P.a)(t,e)}))},F=function(e){var t=Object(z.useDispatch)();return function(o){return t(Object(U.i)(e,o))}},H=o(54),G=o(62),Z=function(){var e=Object(z.useDispatch)();return function(t){return e(Object(H.b)(t))}},Y=o(26),X=function(){var e=Object(z.useSelector)(Y.g),t=Object(z.useDispatch)(),o=Object(u.useCallback)((function(){return t(Object(w.h)(!e))}),[t,e]);return[e,o]},$=function(){var e=Object(z.useSelector)(Y.e),t=Object(z.useDispatch)(),o=Object(u.useCallback)((function(){return t(Object(w.f)(!e))}),[t,e]);return[e,o]},ee=function(){var e=Object(z.useSelector)(Y.d),t=Object(z.useDispatch)(),o=Object(u.useCallback)((function(){return t(Object(w.e)(!e))}),[t,e]);return[e,o]},te=function(){var e=Object(z.useSelector)(Y.f),t=Object(z.useDispatch)();return{estado:e,hideEstado:function(){return t(Object(w.b)())},showEstado:function(e){return t(Object(w.g)(e))}}},oe=o(52),ne=function(e){return Object(z.useSelector)((function(t){return Object(oe.a)(t,e)}))},ae=function(){return Object(z.useSelector)(oe.b)},ce=o(33),ie=o(56),re=function(e){return Object(z.useSelector)((function(t){return Object(ce.b)(t,e)}))},se=function(e){var t=Object(z.useSelector)((function(t){return Object(ce.a)(t,e)})),o=Object(z.useDispatch)();return[t,Object(u.useCallback)((function(t){return o(Object(ie.e)(e,t))}),[e,o])]},ue=o(53),de=Object(S.a)({reducer:{alertas:j,bloques:q,celdas:g,automatizaciones:W,options:N,pendientes:k,sectores:B,semaforos:T,trenes:M}}),le=o(8),_e=o(21),me=o.n(_e),pe=o(71),fe=o(95),be=o(45),Ee=o(96);function Ae(){return d.a.createElement("svg",{viewBox:"0 0 32 32",className:me.a.svg},d.a.createElement("path",{d:"M 16 16 L 32 0",className:me.a.alt}),d.a.createElement("path",{d:"M 16 0 V 16 32",className:me.a.main}))}function Oe(){return d.a.createElement("svg",{viewBox:"0 0 32 32",className:me.a.svg},d.a.createElement("path",{d:"M 16 0 V 16 16",className:me.a.alt}),d.a.createElement("path",{d:"M 16 32 V 16 16 L 32 0",className:me.a.main}))}function Se(){return d.a.createElement("svg",{viewBox:"0 0 32 32",className:me.a.svg},d.a.createElement("path",{d:"M 16 16 V 16 0",className:me.a.alt}),d.a.createElement("path",{d:"M 16 16 L 32 0",className:me.a.alt}),d.a.createElement("path",{d:"M 16 32 V 16 16 L 0 0",className:me.a.main}))}function ye(){return d.a.createElement("svg",{viewBox:"0 0 32 32",className:me.a.svg},d.a.createElement("path",{d:"M 16 16 L 32 0",className:me.a.alt}),d.a.createElement("path",{d:"M 16 16 L 0 0",className:me.a.alt}),d.a.createElement("path",{d:"M 16 32 V 16 0",className:me.a.main}))}function Ce(){return d.a.createElement("svg",{viewBox:"0 0 32 32",className:me.a.svg},d.a.createElement("path",{d:"M 16 16 V 16 0",className:me.a.alt}),d.a.createElement("path",{d:"M 16 16 L 0 0",className:me.a.alt}),d.a.createElement("path",{d:"M 16 32 V 16 16 L 32 0",className:me.a.main}))}var je=o(48),xe=o.n(je);function ve(e){var t=e.nivel,o=e.fecha,n=e.idCelda,a=e.numero,c=e.msg,i=e.clearAviso,r=Q(n);return d.a.createElement("tr",{className:xe.a[t]},d.a.createElement("td",null,new Date(o).toLocaleString()),d.a.createElement("td",null,Object(le.e)(r)),d.a.createElement("td",null,a),d.a.createElement("td",{colSpan:2},c),d.a.createElement("td",null,d.a.createElement(be.b,{onClick:function(e){return Object(le.d)(e)&&i(o)}})))}function he(){var e=function(){var e=Object(z.useDispatch)();return[Object(z.useSelector)(R.b),function(){return e(Object(L.c)())},function(t){return e(Object(L.b)(t))}]}(),t=Object(m.a)(e,3),o=t[0],n=t[1],a=t[2],c=X(),i=Object(m.a)(c,2)[1],r=Object(u.useState)(!1),s=Object(m.a)(r,2),l=s[0],_=s[1];return o.length?d.a.createElement(b.a,{className:xe.a.fixed,size:"sm"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Fecha"),d.a.createElement("th",null,"Celda"),d.a.createElement("th",null,"Tren"),d.a.createElement("th",null,"Mensaje"),d.a.createElement("th",null,d.a.createElement(E.a,null,d.a.createElement(A.a,{type:"checkbox",checked:l,onChange:function(e){return _((function(e){return!e}))}}),"\xa0Ver Info")),d.a.createElement("th",{className:xe.a.buttons},d.a.createElement(O.a,{className:xe.a.close,title:"Borrar todas las notificaciones",onClick:function(e){return Object(le.d)(e)&&n()},size:"sm"},d.a.createElement(be.b,null)),d.a.createElement(O.a,{close:!0,onClick:function(e){return Object(le.d)(e)&&i()},title:"Cerrar Teletipo",size:"sm"})))),d.a.createElement("tbody",null,o.filter((function(e){return!!l||e.nivel!==h.n})).map((function(e){return d.a.createElement(ve,Object.assign({},e,{key:e.fecha,clearAviso:a}))})))):d.a.createElement(b.a,{className:xe.a.fixed,size:"sm"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"No hay mensajes"))))}var Ve=o(6),qe=o.n(Ve),ge={N:50,NE:100,E:100,SE:100,S:50,SW:0,W:0,NW:0},We={N:0,NE:0,E:50,SE:100,S:100,SW:100,W:50,NW:0},we={N:270,NE:315,E:0,SE:45,S:90,SW:135,W:180,NW:225},Ne=["N","NE","E","SE","S","SW","W","NW"],De=o(43),ke=o.n(De),Be=["","verde","amarillo","rojo"];function Te(e){var t,o=e.idSemaforo,n=e.placement,a=re(o),c=se(o),i=Object(m.a)(c,2),r=i[0],s=i[1],u=a||{},l=u.idSector,_=u.x,p=u.y,f=u.dir,b=u.centro,E=u.izq,A=u.der,O=te().showEstado,S=Object(le.f)({onClick:function(){a.soloManiobra?O({tipo:h.A,idCelda:Object(le.a)({idSector:l,x:_,y:p}),idSemaforo:Object(le.a)(a),placement:n}):s(r===h.c?h.e:h.c)},onLongPress:function(e){return O({tipo:h.A,idCelda:Object(le.a)({idSector:l,x:_,y:p}),idSemaforo:Object(le.a)(a),placement:n})}});if(!a)return null;var C=r===h.e&&"rojo";return d.a.createElement("g",Object.assign({className:qe()(ke.a.semaforo,(t={},Object(y.a)(t,ke.a.maniobra,!a.soloManiobra&&r===h.r),Object(y.a)(t,ke.a.blink,!a.soloManiobra&&r===h.e),t)),transform:"rotate(".concat(we[f],", ").concat(50,", ").concat(50,")")},S),d.a.createElement("title",null,Object(le.e)(a)),d.a.createElement("line",{x1:95,y1:38,x2:82,y2:38}),d.a.createElement("line",{x1:95,y1:33,x2:95,y2:43}),d.a.createElement("circle",{className:ke.a[C||Be[b]],cx:E||A?77:85,cy:38,r:5}),E&&d.a.createElement("circle",{className:ke.a[C||Be[E]],cx:85,cy:43,r:5}),A&&d.a.createElement("circle",{className:ke.a[C||Be[A]],cx:85,cy:33,r:5}))}var Ie=o(32),Me=o.n(Ie);function ze(e){var t=e.dir,o=e.estilo,n=void 0===o?"tramo-normal":o;return d.a.createElement("line",{x1:50,y1:50,x2:ge[t],y2:We[t],className:Me.a[n]})}function Le(e){var t=e.idCelda,o=Q(t),n=K(o.idBloque)||o.idTren;return d.a.createElement("g",null,o.puntas.map((function(e,t){return d.a.createElement(ze,{dir:e,key:t,estilo:n?"tramo-ocupado":"tramo-normal"})})))}function Re(e){var t=e.idCelda,o=Q(t),n=K(o.idBloque)||o.idTren;return d.a.createElement("g",null,d.a.createElement(ze,{key:"punta",dir:o.punta,estilo:n?"tramo-ocupado":"tramo-normal"}),o.ramas.map((function(e,t){return d.a.createElement(ze,{key:e,dir:e,estilo:o.posicion===t?n?"tramo-ocupado":"tramo-normal":"tramo-muerto"})})))}function Je(e){var t=e.idCelda,o=Q(t),n=K(o.idBloque)||o.idTren;return d.a.createElement("g",null,d.a.createElement(ze,{dir:o.punta,estilo:n?"tramo-ocupado":"tramo-normal"}),d.a.createElement("circle",{cx:50,cy:50,r:10,fill:n?"yellow":"black"}),o.rebota&&d.a.createElement("line",{x1:50+100/6,y1:40,x2:50+100/6,y2:60,className:Me.a.rebota,transform:"rotate(".concat(we[o.punta]+180,", ").concat(50,", ").concat(50,")")}))}function Ke(e){var t=e.idCelda,o=Q(t),n=K(o.idBloque)||o.idTren;return d.a.createElement("g",null,o.linea1.puntas.map((function(e,t){return d.a.createElement(ze,{dir:e,key:"l1".concat(t),estilo:n?"tramo-ocupado":"tramo-normal"})})),o.linea2.puntas.map((function(e,t){return d.a.createElement(ze,{dir:e,key:"l1".concat(t),estilo:n?"tramo-ocupado":"tramo-normal"})})))}Le.whyDidYouRender=!1,Re.whyDidYouRender=!1;var Ue=o(58),Pe=o.n(Ue);function Qe(e){var t=e.celda,o=function(){var e=Object(z.useDispatch)();return function(t,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e(Object(I.a)(t,o,n))}}(),n=K(t.idBloque),a=function(e){return function(n){if(Object(le.d)(n)){if(t.idTren)return;o(t,e)}}},c=[];if(!t.idTren&&!n)switch(t.tipo){case h.f:t.despachador.forEach((function(e){e===t.punta&&c.push(e),e===t.ramas[t.posicion]&&c.push(e)}));break;default:c=t.despachador}return!t.idTren&&d.a.createElement(d.a.Fragment,null,d.a.createElement("circle",{cx:50,cy:50,r:9,className:Pe.a.trenDespachador}),c.map((function(e){return d.a.createElement("g",Object.assign({className:Pe.a.flechaDespachador,onClick:a(e),key:e,transform:"rotate(".concat(we[e],", ").concat(50,", ").concat(50,")")},le.c),d.a.createElement("path",{d:"M 11,-12 L 29,0 11,12 z",transform:"translate(".concat(50,",").concat(50,")")}))})))}function Fe(e){var t,o=e.celda,n=(t=o.idTren,Object(z.useSelector)((function(e){return Object(ue.a)(e,t)}))),a=n.speed/(n.maxSpeed||1);return d.a.createElement("g",{transform:"translate(".concat(42,", ").concat(42,")")},d.a.createElement("circle",{cx:8,cy:8,r:9,className:Pe.a.tren},d.a.createElement("title",null,"".concat(n.numero,"\nVelocidad: ").concat(n.speed,"\nFalta: ").concat(n.falta))),a&&1!==a?d.a.createElement("path",{d:"M 8 0 A 8 8 90 1 0 8 16 z",fill:"orange"}):null,d.a.createElement(Ee.a,{color:a?"black":"red",size:"16px"}))}function He(e){var t,o=e.idCelda,n=e.cellsAcross,a=e.cellWidth,c=e.padLeft,i=e.padTop,r=Q(o),s=F(o),u=function(e){var t=Object(z.useSelector)((function(t){return Object(P.a)(t,e)})),o=Object(z.useDispatch)();return function(){return o(Object(U.j)(e,!t.rebota))}}(o),l=(t=r.idBloque,Object(z.useSelector)((function(e){return Object(J.a)(e,t)}))),_=$(),p=Object(m.a)(_,1)[0],f=te().showEstado,b=Object(le.f)({onClick:function(e){switch(r.tipo){case h.f:s((r.posicion+1)%r.ramas.length);break;case h.w:u()}},onLongPress:function(e){f({tipo:r.tipo,idCelda:o,placement:E})}});if(!a||!r)return null;var E=r.x>n/2?"left":"right",A=p?"[".concat(r.x,",").concat(r.y,"]"):"",O=[];r.nombre&&O.push("Celda: ".concat(r.nombre)),O.push("Coordenadas: [".concat(r.x,",").concat(r.y,"]")),l&&O.push("Bloque: ".concat(l.nombre)),r.idTren&&O.push("Con tren ".concat(r.idTren));var S={linea:Le,cambio:Re,paragolpe:Je,cruce:Ke}[r.tipo];return d.a.createElement("div",Object.assign({id:o,className:qe()(Me.a.rect,Object(y.a)({},Me.a.manual,r.manual)),style:{left:c+r.x*a,top:r.y*a+i,width:a,height:a},title:O.join("\n")},b),d.a.createElement("svg",{viewBox:"0 0 ".concat(100," ").concat(100),width:a,height:a,className:Me.a.svg},d.a.createElement("text",{x:"0",y:"95",className:Me.a.text},A),r.nombre&&d.a.createElement("text",{textAnchor:"end",x:95,y:95,className:Me.a.text},r.nombre),d.a.createElement(S,{idCelda:o}),Ne.map((function(e){return d.a.createElement(Te,{key:e,idSemaforo:Object(le.a)(Object(x.a)({},r,{dir:e})),placement:E})})),Array.isArray(r.despachador)&&d.a.createElement(Qe,{celda:r}),r.idTren?d.a.createElement(Fe,{celda:r}):null))}He.whyDidYouRender=!1;var Ge=o(106),Ze=o.n(Ge);function Ye(e){var t=e.idSector,o=ne(t),n=function(e){return Object(z.useSelector)((function(t){return Object(P.c)(t,e)}))}(t),a=Object(le.g)(),c=o.ancho,i=o.descrCorta,r=o.alto,s=Math.min(Math.floor(a.width/c),c>8?100:200),l=(a.width-c*s)/2;return Object(u.useEffect)((function(){document.title="CTC - ".concat(i)})),d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:Ze.a.sector},n.map((function(e){return d.a.createElement(He,{key:e.idCelda,idCelda:e.idCelda,cellsAcross:c,cellWidth:s,padLeft:l,padTop:60})}))),d.a.createElement("div",{style:{height:(r+2)*s}}))}var Xe=o(176),$e=o(164),et=o(159),tt=o(165),ot=o(166),nt=o(167),at=o(168),ct=o(169),it=o(160),rt=o(20),st=o.n(rt);function ut(e){var t=e.celda,o=t.posicion,n=t.idCelda,a=F(n),c=function(e){var t=Object(z.useSelector)((function(t){return Object(P.b)(t,e)})),o=Object(z.useDispatch)(),n=Object(u.useCallback)((function(){return o(Object(U.h)(e,!t))}),[e,o,t]);return[t,n]}(n),i=Object(m.a)(c,2),r=i[0],s=i[1],l=function(e){return Object(le.d)(e)&&a(h.u)},_=function(e){return Object(le.d)(e)&&a(h.k)};return d.a.createElement(et.a,null,d.a.createElement(it.a,{className:st.a.cambio},2===t.ramas.length?d.a.createElement(d.a.Fragment,null,d.a.createElement(O.a,{size:"sm",onClick:l,color:o===h.u?"primary":"outline-secondary"},d.a.createElement(Ae,null)),d.a.createElement(O.a,{size:"sm",onClick:_,color:o===h.k?"primary":"outline-secondary"},d.a.createElement(Oe,null))):d.a.createElement(d.a.Fragment,null," ",d.a.createElement(O.a,{size:"sm",onClick:_,color:o===h.k?"primary":"outline-secondary"},d.a.createElement(Se,null)),d.a.createElement(O.a,{size:"sm",onClick:l,color:o===h.u?"primary":"outline-secondary"},d.a.createElement(ye,null)),d.a.createElement(O.a,{size:"sm",onClick:function(e){return Object(le.d)(e)&&a(h.a)},color:o===h.a?"primary":"outline-secondary"},d.a.createElement(Ce,null)))),d.a.createElement(O.a,{className:st.a.manual,size:"sm",color:r?"danger":"outline-info",onClick:function(e){return Object(le.d)(e)&&s()}},r?d.a.createElement(pe.b,null):d.a.createElement(pe.a,null)))}var dt=o(161),lt=o(162),_t=o(163);function mt(e){var t=e.senal,o=e.aspecto,n=e.onSetAspecto;return d.a.createElement(d.a.Fragment,null,d.a.createElement(it.a,{vertical:!0},d.a.createElement(O.a,{size:"sm",color:o===h.b?"danger":"outline-danger",onClick:function(e){return Object(le.d)(e)&&n(t,h.b)}},d.a.createElement(fe.a,null)),d.a.createElement(O.a,{size:"sm",color:o===h.x?"warning":"outline-warning",onClick:function(e){return Object(le.d)(e)&&n(t,h.x)}},d.a.createElement(fe.a,null)),d.a.createElement(O.a,{size:"sm",color:o===h.p?"success":"outline-success",onClick:function(e){return Object(le.d)(e)&&n(t,h.p)}},d.a.createElement(fe.a,null))))}function pt(e){var t=e.semaforo,o=t.izq,n=t.soloManiobra,a=t.centro,c=t.der,i=t.idSemaforo,r=function(){var e=Object(z.useDispatch)();return function(t,o,n){return e(Object(ie.d)(t,o,n))}}(),s=se(i),u=Object(m.a)(s,2),l=u[0],_=u[1],p=Z(),f=function(e,t){(l===h.r||n)&&r(i,e,t),n&&p(i)};return d.a.createElement(et.a,null,d.a.createElement(dt.a,null,d.a.createElement("div",{className:qe()(Object(y.a)({},st.a.disabled,!n&&!l))},d.a.createElement(lt.a,null,d.a.createElement(_t.a,null,d.a.createElement("div",{className:qe()(st.a.pushDown,Object(y.a)({},st.a.hidden,!o))},d.a.createElement(mt,{senal:"izq",aspecto:o,onSetAspecto:f}))),d.a.createElement(_t.a,null,d.a.createElement("div",{className:qe()(Object(y.a)({},st.a.hidden,!a))},d.a.createElement(mt,{senal:"centro",aspecto:a,onSetAspecto:f}))),d.a.createElement(_t.a,null,d.a.createElement("div",{className:qe()(st.a.semaforo,st.a.pushDown,Object(y.a)({},st.a.hidden,!c))},d.a.createElement(mt,{senal:"der",aspecto:c,onSetAspecto:f}))))),!n&&d.a.createElement(lt.a,null,d.a.createElement(O.a,{className:st.a.manual,size:"sm",color:l?"danger":"outline-info",onClick:function(){_(l===h.c?h.r:h.c)}},l?d.a.createElement(pe.b,null):d.a.createElement(pe.a,null)))))}function ft(){var e=te().estado,t=e.show,o=Object(v.a)(e,["show"]);return t&&d.a.createElement(bt,o)}function bt(e){var t,o=e.idCelda,n=e.idSemaforo,a=e.placement,c=Object(u.useState)(),i=Object(m.a)(c,2),r=i[0],s=i[1],l=Q(o),_=re(n),p=ee(),f=Object(m.a)(p,1)[0],b=te().hideEstado,E=(t=n||o,Object(z.useSelector)((function(e){return Object(G.a)(e,t)}))),A=Object(u.useState)(),S=Object(m.a)(A,2),y=S[0],C=S[1],j=_||l.tipo===h.f;r!==o&&(C(j?"Cmd.":n?"Semaforo":"Celda"),s(o));var x=function(e){y!==e&&C(e)},v=function(){return d.a.createElement(d.a.Fragment,null,_&&d.a.createElement(pt,{semaforo:_}),!_&&l.tipo===h.f&&d.a.createElement(ut,{celda:l}))};return d.a.createElement(Xe.a,{isOpen:!(!f&&!j),target:o,placement:a},d.a.createElement($e.a,null,_?"Sem\xe1foro ".concat(Object(le.e)(_)):"Celda ".concat(Object(le.e)(l)),d.a.createElement(O.a,{close:!0,className:st.a.close,onClick:function(e){return Object(le.d)(e)&&b()}})),d.a.createElement(et.a,null,f?d.a.createElement(d.a.Fragment,null,d.a.createElement(tt.a,{pills:!0,className:st.a.solapas},j&&d.a.createElement(ot.a,{title:"Mostrar Comandos"},d.a.createElement(nt.a,{className:qe()(st.a.solapa,{active:"Cmd."===y}),onClick:function(){x("Cmd.")}},"Cmd.")),_&&d.a.createElement(ot.a,{title:"Mostrar COnfiguraci\xf3n Semaforo"},d.a.createElement(nt.a,{className:qe()(st.a.solapa,{active:"Semaforo"===y}),onClick:function(){x("Semaforo")}},"Semaforo")),d.a.createElement(ot.a,{title:"Mostrar Configuraci\xf3n Celda"},d.a.createElement(nt.a,{className:qe()(st.a.solapa,{active:"Celda"===y}),onClick:function(){x("Celda")}},"Celda")),E&&d.a.createElement(ot.a,{title:"Mostrar Configuraci\xf3n Automatizaci\xf3n"},d.a.createElement(nt.a,{className:qe()(st.a.solapa,{active:"Autom."===y}),onClick:function(){x("Autom.")}},"Autom."))," "),d.a.createElement(at.a,{activeTab:y},j&&d.a.createElement(ct.a,{tabId:"Cmd."},d.a.createElement(v,null)),_&&d.a.createElement(ct.a,{tabId:"Semaforo"},d.a.createElement("pre",null,JSON.stringify(_,null,2))),d.a.createElement(ct.a,{tabId:"Celda"},d.a.createElement("pre",null,JSON.stringify(l,null,2))),E&&d.a.createElement(ct.a,{tabId:"Autom."},d.a.createElement("pre",null,JSON.stringify(E,null,2))))):d.a.createElement(v,null)))}var Et=o(81),At=o.n(Et);function Ot(){var e=function(){var e=Object(z.useDispatch)();return[Object(z.useSelector)(R.a),function(){return e(Object(L.a)())}]}(),t=Object(m.a)(e,2),o=t[0],n=o.idCelda,a=o.numero,c=o.msg,i=o.fecha,r=t[1],s=function(){var e=Object(z.useDispatch)();return function(){return e(Object(I.c)())}}(),u=Z();return!!n&&d.a.createElement(Xe.a,{isOpen:!!n,target:n},d.a.createElement($e.a,{className:At.a.alarma},"Tren ",a,d.a.createElement(O.a,{close:!0,className:At.a.close,onClick:function(e){Object(le.d)(e)&&(r(),s(),u())}})),d.a.createElement(et.a,null,d.a.createElement("p",null,new Date(i).toLocaleString()),c))}function St(){var e=Object(f.e)().idSector,t=function(){var e=Object(z.useSelector)(Y.b),t=Object(z.useDispatch)();return[e,function(e){return t(Object(w.c)(e))}]}(),o=Object(m.a)(t,2),n=o[0],a=o[1];return e!==n?(a(e),null):d.a.createElement(d.a.Fragment,null,d.a.createElement(ft,null),d.a.createElement(Ye,{idSector:e}),d.a.createElement(Ot,null))}var yt=o(170),Ct=o(171),jt=o(172),xt=o(173),vt=o(177),ht=o(178),Vt=o(174),qt=o(175),gt=o(108),Wt=o.n(gt);function wt(){var e=function(){var e=Object(z.useDispatch)();return function(){return e(Object(I.f)())}}(),t=function(){var e=Object(z.useSelector)(Y.c),t=Object(z.useDispatch)();return[e,Object(u.useCallback)((function(e){return t(Object(w.d)(e))}),[t])]}(),o=Object(m.a)(t,2),n=o[0],a=o[1],c=Object(u.useState)(),i=Object(m.a)(c,2),r=i[0],s=i[1];return Object(u.useEffect)((function(){return n&&!r&&s(setInterval(e,1e3/n)),function(){r&&(clearInterval(r),s(0))}}),[e,r,n]),d.a.createElement(it.a,{title:"Velocidad de la animaci\xf3n\n(ciclos por segundo)",className:Wt.a.rate},d.a.createElement(O.a,{outline:0!==n,color:n?"secondary":"danger",onClick:function(){return a(0)}},"0"),d.a.createElement(O.a,{outline:.5!==n,onClick:function(){return a(.5)}},"\xbd"),d.a.createElement(O.a,{outline:1!==n,onClick:function(){return a(1)}},"1"),d.a.createElement(O.a,{outline:2!==n,onClick:function(){return a(2)}},"2"),d.a.createElement(O.a,{outline:5!==n,onClick:function(){return a(5)}},"5"))}function Nt(){var e=Object(u.useState)(!1),t=Object(m.a)(e,2),o=t[0],n=t[1],a=Object(f.f)("/sector/:idSector"),c=a&&a.params.idSector,i=ae(),r=ne(c),s=function(){var e=Object(z.useSelector)(Y.a),t=Object(z.useDispatch)(),o=Object(u.useCallback)((function(){return t(Object(w.a)(!e))}),[t,e]);return[e,o]}(),l=Object(m.a)(s,2),_=l[0],b=l[1],E=X(),A=Object(m.a)(E,2),O=A[0],S=A[1],y=$(),C=Object(m.a)(y,2),j=C[0],x=C[1],v=ee(),h=Object(m.a)(v,2),V=h[0],q=h[1],g=te().hideEstado,W=Object(u.useState)(),N=Object(m.a)(W,2),D=N[0],k=N[1],B=function(e){c!==D&&(g(),k(c),n(!1))};return d.a.createElement(yt.a,{color:"light",light:!0,expand:"md",fixed:"top"},d.a.createElement(Ct.a,{color:"default",href:"/reactc2",title:"Volver al inicio"},"CTC"),d.a.createElement(wt,null),d.a.createElement(jt.a,{onClick:function(){return n(!o)}}),d.a.createElement(xt.a,{isOpen:o,navbar:!0},d.a.createElement(tt.a,{className:"mr-auto",navbar:!0},d.a.createElement(vt.a,{nav:!0,inNavbar:!0},d.a.createElement(ht.a,{nav:!0,caret:!0,title:r?r.descr:"Seleccione sector a visualizar"},r?r.descrCorta:"Sectores"),d.a.createElement(Vt.a,null,i.map((function(e){return d.a.createElement(qt.a,{tag:p.b,to:"/sector/".concat(e.idSector),key:e.idSector,title:e.descr,active:c===e.idSector,onClick:B},e.descrCorta)})))),d.a.createElement(vt.a,{nav:!0,inNavbar:!0},d.a.createElement(ht.a,{nav:!0,caret:!0,title:"Opciones de visualizaci\xf3n"},"Opciones"),d.a.createElement(Vt.a,null,d.a.createElement(qt.a,{onClick:function(e){Object(le.d)(e)&&(S(),n(!1))},active:O},"Teletipo"),d.a.createElement(qt.a,{onClick:function(e){Object(le.d)(e)&&(b(),n(!1))},active:_},"Automatizaciones"),d.a.createElement(qt.a,{onClick:function(e){Object(le.d)(e)&&(x(),n(!1))},active:j},"Coordenadas"),d.a.createElement(qt.a,{onClick:function(e){Object(le.d)(e)&&(q(),n(!1))},active:V},"Mostrar Config.")))),d.a.createElement(tt.a,{navbar:!0},d.a.createElement(ot.a,null,d.a.createElement(nt.a,{href:"https://github.com/Satyam/reactc2",title:"Ver c\xf3digo fuente en GitHub",target:"_blank"},d.a.createElement(be.a,null)," Github")))))}var Dt=o(109),kt=o.n(Dt);function Bt(e){e.username,e.sector,e.photoURL;var t=X(),o=Object(m.a)(t,1)[0];return ae().length?d.a.createElement(p.a,{basename:"/reactc2"},d.a.createElement(Nt,null),d.a.createElement(f.a,{path:"/sector/:idSector"},d.a.createElement(St,{idSector:"constitucion"})),o&&d.a.createElement(he,null)):d.a.createElement("img",{alt:"loading...",src:kt.a})}var Tt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function It(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var o=e.installing;null!=o&&(o.onstatechange=function(){"installed"===o.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o(153);_.a.render(d.a.createElement(z.Provider,{store:de},d.a.createElement(Bt,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/reactc2",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/reactc2","/service-worker.js");Tt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(o){var n=o.headers.get("content-type");404===o.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):It(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):It(t,e)}))}}()},19:function(e,t,o){"use strict";o.d(t,"h",(function(){return a})),o.d(t,"a",(function(){return c})),o.d(t,"f",(function(){return i})),o.d(t,"g",(function(){return r})),o.d(t,"b",(function(){return s})),o.d(t,"e",(function(){return u})),o.d(t,"d",(function(){return d})),o.d(t,"c",(function(){return l}));var n=o(7),a=Object(n.b)("showTeletipo"),c=Object(n.b)("automatizacionesActive"),i=Object(n.b)("showCoords"),r=Object(n.b)("showEstado"),s=Object(n.b)("hideEstado"),u=Object(n.b)("showConfig"),d=Object(n.b)("setPlayRate"),l=Object(n.b)("setCurrentSector")},20:function(e,t,o){e.exports={label:"styles_label__3r56c",pushDown:"styles_pushDown__1r8Ml",cambio:"styles_cambio__K-Ynx",manual:"styles_manual__1SN6-",hidden:"styles_hidden__1mPWU",close:"styles_close__1b-CL",disabled:"styles_disabled__3q6v_",solapas:"styles_solapas__1cybr",solapa:"styles_solapa__1ZYE5"}},21:function(e,t,o){e.exports={main:"styles_main__QJA2q",alt:"styles_alt__EQPaw",svg:"styles_svg__6vY_Q",filled:"styles_filled__2ZKFa"}},26:function(e,t,o){"use strict";o.d(t,"g",(function(){return n})),o.d(t,"a",(function(){return a})),o.d(t,"e",(function(){return c})),o.d(t,"f",(function(){return i})),o.d(t,"d",(function(){return r})),o.d(t,"c",(function(){return s})),o.d(t,"b",(function(){return u}));var n=function(e){return e.options.showTeletipo},a=function(e){return e.options.automatizacionesActive},c=function(e){return e.options.showCoords},i=function(e){return e.options.showEstado},r=function(e){return e.options.showConfig},s=function(e){return e.options.playRate},u=function(e){return e.options.currIdSector}},28:function(e,t,o){"use strict";o.d(t,"d",(function(){return d})),o.d(t,"a",(function(){return l})),o.d(t,"e",(function(){return _})),o.d(t,"b",(function(){return m})),o.d(t,"c",(function(){return p})),o.d(t,"g",(function(){return f})),o.d(t,"f",(function(){return E}));var n=o(15),a=o(7),c=o(14),i=o(11),r=o(8),s=o(4),u=100,d=Object(a.b)("addTren",(function(e,t,o,n,a){return{payload:{idCelda:e.idCelda,x:e.x,y:e.y,dir:t,speed:o,maxSpeed:o,idTren:n,idSector:e.idSector,numero:a}}}));function l(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(n){var a=u;u+=2;var c="_tren_".concat(a),l=e.idCelda;n(Object(i.setAviso)(s.n,l,a,"Parte tren ".concat(a," desde ").concat(Object(r.e)(e)))),n(d(e,t,o,c,a)),n(Object(i.addTrenToCelda)(l,c)),n(Object(i.runAutomatizaciones)())}}var _=Object(a.b)("doDelTren");function m(e){return function(t,o){var n=e.idTren,a=e.idCelda,u=e.numero,d=Object(c.f)(o(),a);a&&t(Object(i.removeTrenFromCelda)(a,n)),t(Object(i.setAviso)(s.n,a,u,"Borrado el tren ".concat(u," en ").concat(Object(r.e)(d)))),t(_(e.idTren))}}function p(){return function(e,t){Object(c.l)(t()).forEach((function(t){return e(m(t))}))}}var f=Object(a.b)("setTren");function b(e){return function(t,o){var a=Object(c.k)(o(),e);if(a){if("X"===a.dir)return t(m(a));var u=Object(c.f)(o(),a.idCelda);if(a.falta)t(f({idTren:e,falta:a.speed>a.falta?0:a.falta-a.speed}));else{var d=function(e,t,o){switch(o){case s.s:return[e,t-1,s.y];case s.t:return[e+1,t-1,s.B];case s.l:return[e+1,t,s.C];case s.z:return[e+1,t+1,s.v];case s.y:return[e,t+1,s.s];case s.B:return[e-1,t+1,s.t];case s.C:return[e-1,t,s.l];case s.v:return[e-1,t-1,s.z]}}(a.x,a.y,a.dir),l=Object(n.a)(d,3),_=l[0],p=l[1],b=l[2],E=a.speed;if(u.x!==_||u.y!==p){var A=Object(r.a)({idSector:u.idSector,x:_,y:p}),O=Object(r.a)({idSector:u.idSector,x:_,y:p,dir:b}),S=Object(c.f)(o(),A);if(S){var y=Object(c.j)(o(),O);if(y){var C=[s.o,s.g,s.j].reduce((function(e,t){return t in y?Math.min(e,y[t]):e}),s.b);switch(C){case s.b:return a.speed&&t(Object(i.setAviso)(s.D,a.idCelda,a.numero,"Tren ".concat(a.numero," detenido en ").concat(Object(r.e)(u)))),void t(f({idTren:e,speed:0}));case s.x:if(0===a.speed)return t(Object(i.setAviso)(s.n,a.idCelda,a.numero,"Tren ".concat(a.numero," reanuda la marcha en ").concat(Object(r.e)(u)))),void t(f({idTren:e,speed:a.maxSpeed/2}));E=a.maxSpeed/2;break;case s.p:if(0===a.speed)return t(Object(i.setAviso)(s.n,a.idCelda,a.numero,"Tren ".concat(a.numero," reanuda la marcha en ").concat(Object(r.e)(u)))),void t(f({idTren:e,speed:a.maxSpeed}));E=a.maxSpeed;break;default:throw new Error("Sem\xe1foro ".concat(O," d\xe1 sem\xe1foro imposible ").concat(C))}}if(S.idTren){var j=Object(c.k)(o(),S.idTren);return void t(Object(i.setAlarma)(A,a.numero,"Colisi\xf3n en ".concat(Object(r.e)(S)," entre trenes ").concat(a.numero," y ").concat(j.numero)))}var x=Object(c.e)(o(),S.idBloque);if(x&&x!==e){var v=Object(c.k)(o(),x);return void t(Object(i.setAlarma)(A,a.numero,"Tren ".concat(a.numero," invade el bloque ").concat(S.idBloque," ocupado por el tren ").concat(v.numero)))}var h=function(e,t){function o(t){var o=t.puntas;return o.includes(e)?o[0]===e?o[1]:o[0]:void 0}switch(t.tipo){case s.q:return o(t);case s.f:return t.punta===e?t.ramas[t.posicion]:t.ramas[t.posicion]===e?t.punta:void 0;case s.w:return t.rebota?t.punta:t.punta===e?"X":void 0;case s.h:return o(t.linea1)||o(t.linea2)}}(b,S);if(!h)return void t(Object(i.setAlarma)(S.idCelda,a.numero,"Tren ".concat(a.numero," no encuentra v\xeda correspondiente en celda ").concat(Object(r.e)(S))));t(Object(i.removeTrenFromCelda)(u.idCelda,e)),t(Object(i.addTrenToCelda)(A,e)),t(f({idTren:e,dir:h,x:_,y:p,speed:E,idCelda:A,falta:S.longitud||1}))}else t(m(a))}else t(f(a));t(Object(i.runAutomatizaciones)())}}}}function E(){return function(e,t){var o=Object(c.h)(t());return Promise.all(Object(c.l)(t(),o).map((function(t){return e(b(t.idTren))})))}}},32:function(e,t,o){e.exports={rect:"styles_rect__1zG3J",manual:"styles_manual__139ZI",text:"styles_text__JdA5Q",svg:"styles_svg__rOGuq","tramo-normal":"styles_tramo-normal__JZdRz","tramo-muerto":"styles_tramo-muerto__LXymi","tramo-ocupado":"styles_tramo-ocupado__LrGlb",rebota:"styles_rebota__323Gf"}},33:function(e,t,o){"use strict";o.d(t,"b",(function(){return c})),o.d(t,"a",(function(){return i})),o.d(t,"c",(function(){return r}));var n=o(22),a=o(61),c=function(e,t){return e.semaforos[t]},i=function(e,t){var o=c(e,t);return o&&o.modo||a.c},r=Object(n.a)((function(e){return e.semaforos}),(function(e,t){return t}),(function(e,t){var o=Object.values(e).filter((function(e){return e.idSector===t.idSector&&e.x===t.x&&e.y===t.y}));return o.length?o:null}))},37:function(e,t,o){"use strict";o.d(t,"d",(function(){return i})),o.d(t,"e",(function(){return r})),o.d(t,"a",(function(){return s})),o.d(t,"f",(function(){return u})),o.d(t,"c",(function(){return d})),o.d(t,"b",(function(){return l}));var n=o(7),a=o(11),c=o(4),i=Object(n.b)("doSetAlarma");function r(e,t,o){return function(n){n(u(c.i,e,t,o)),n(i({idCelda:e,numero:t,msg:o,fecha:Date.now()})),n(Object(a.setPlayRate)(0))}}var s=Object(n.b)("clearAlarma"),u=Object(n.b)("setAviso",(function(e,t,o,n){return{payload:{nivel:e,idCelda:t,numero:o,msg:n,fecha:Date.now()}}})),d=Object(n.b)("clearAvisos"),l=Object(n.b)("clearAviso")},4:function(e,t,o){"use strict";o.d(t,"H",(function(){return a})),o.d(t,"G",(function(){return c})),o.d(t,"E",(function(){return i})),o.d(t,"I",(function(){return r})),o.d(t,"F",(function(){return s}));var n=o(61);o.d(t,"a",(function(){return n.a})),o.d(t,"b",(function(){return n.b})),o.d(t,"c",(function(){return n.c})),o.d(t,"d",(function(){return n.d})),o.d(t,"e",(function(){return n.e})),o.d(t,"f",(function(){return n.f})),o.d(t,"g",(function(){return n.g})),o.d(t,"h",(function(){return n.h})),o.d(t,"i",(function(){return n.i})),o.d(t,"j",(function(){return n.j})),o.d(t,"k",(function(){return n.k})),o.d(t,"l",(function(){return n.l})),o.d(t,"m",(function(){return n.m})),o.d(t,"n",(function(){return n.n})),o.d(t,"o",(function(){return n.o})),o.d(t,"p",(function(){return n.p})),o.d(t,"q",(function(){return n.q})),o.d(t,"r",(function(){return n.r})),o.d(t,"s",(function(){return n.s})),o.d(t,"t",(function(){return n.t})),o.d(t,"u",(function(){return n.u})),o.d(t,"v",(function(){return n.v})),o.d(t,"w",(function(){return n.w})),o.d(t,"x",(function(){return n.x})),o.d(t,"y",(function(){return n.y})),o.d(t,"z",(function(){return n.z})),o.d(t,"A",(function(){return n.A})),o.d(t,"B",(function(){return n.B})),o.d(t,"C",(function(){return n.C})),o.d(t,"D",(function(){return n.D}));var a={circulo:{descrCorta:"5- C\xedrculo",descr:"Dando vueltas y vueltas ",ancho:6,alto:5,idSector:"circulo"},constitucion:{descrCorta:"Constituci\xf3n",descr:"Estaci\xf3n Constituci\xf3n, Ciudad de Buenos Aires, Argentina",ancho:11,alto:7,idSector:"constitucion"},cruceDobleCambio:{descrCorta:"2- Doble cambio de v\xedas",descr:"V\xedas paralelas con cambios cruzados y semaforos",ancho:2,alto:2,idSector:"cruceDobleCambio"},dosVias:{descrCorta:"4- Dos v\xedas paralelas",descr:"Dos v\xedas paralelas con despacho de trenes",ancho:9,alto:2,idSector:"dosVias"},semaforosEncadenados:{descrCorta:"3- Sem\xe1foros encadenados",descr:"Sem\xe1foro en PRECAUCION cuando la siguiente est\xe1 en ALTO",ancho:4,alto:1,idSector:"semaforosEncadenados"},simpleDesvio:{descrCorta:"1- Desv\xedo Simple",descr:"Una \xfanica celda con un cambio y semaforo",ancho:1,alto:1,idSector:"simpleDesvio"}},c={circulo_1_0:{tipo:"linea",x:1,y:0,puntas:["SW","E"],despachador:["SW"],idCelda:"circulo_1_0",idSector:"circulo"},circulo_2_0:{tipo:"linea",x:2,y:0,puntas:["W","SE"],despachador:["SE"],idCelda:"circulo_2_0",idSector:"circulo"},circulo_0_1:{tipo:"linea",x:0,y:1,puntas:["NE","S"],idCelda:"circulo_0_1",idSector:"circulo"},circulo_0_3:{tipo:"linea",x:0,y:3,puntas:["N","SE"],idCelda:"circulo_0_3",idSector:"circulo"},circulo_1_4:{tipo:"linea",x:1,y:4,puntas:["NW","E"],idCelda:"circulo_1_4",idSector:"circulo"},circulo_3_1:{tipo:"linea",x:3,y:1,puntas:["NW","S"],idCelda:"circulo_3_1",idSector:"circulo"},circulo_3_3:{tipo:"cambio",x:3,y:3,punta:"N",ramas:["SW","S"],idCelda:"circulo_3_3",idSector:"circulo"},circulo_2_4:{tipo:"cruce",x:2,y:4,linea1:{puntas:["W","NE"]},linea2:{puntas:["NW","SE"]},idCelda:"circulo_2_4",idSector:"circulo"},circulo_0_2:{tipo:"cambio",punta:"N",ramas:["S","SE","SW"],x:0,y:2,idCelda:"circulo_0_2",idSector:"circulo"},circulo_5_1:{tipo:"cambio",punta:"N",ramas:["S","SE","SW"],x:5,y:1,despachador:["N","S","SE","SW"],idCelda:"circulo_5_1",idSector:"circulo"},circulo_5_3:{tipo:"cambio",x:5,y:3,punta:"W",ramas:["E","NE"],despachador:["W","E","NE"],idCelda:"circulo_5_3",idSector:"circulo"},circulo_3_4:{tipo:"paragolpe",x:3,y:4,punta:"N",idCelda:"circulo_3_4",idSector:"circulo"},circulo_3_2:{tipo:"linea",x:3,y:2,puntas:["N","S"],idCelda:"circulo_3_2",idSector:"circulo"},circulo_1_3:{tipo:"linea",x:1,y:3,puntas:["NW","SE"],idCelda:"circulo_1_3",idSector:"circulo"},constitucion_5_0:{tipo:"linea",puntas:["N","S"],x:5,y:0,idCelda:"constitucion_5_0",idSector:"constitucion"},constitucion_6_0:{tipo:"linea",puntas:["N","S"],x:6,y:0,idCelda:"constitucion_6_0",idSector:"constitucion"},constitucion_5_1:{tipo:"linea",puntas:["N","SW"],x:5,y:1,idCelda:"constitucion_5_1",idSector:"constitucion"},constitucion_6_1:{tipo:"linea",puntas:["N","SE"],x:6,y:1,idCelda:"constitucion_6_1",idSector:"constitucion"},constitucion_4_2:{tipo:"linea",puntas:["NE","SW"],x:4,y:2,idCelda:"constitucion_4_2",idSector:"constitucion"},constitucion_7_2:{tipo:"linea",puntas:["NW","SE"],x:7,y:2,idCelda:"constitucion_7_2",idSector:"constitucion"},constitucion_3_3:{tipo:"linea",puntas:["NE","SW"],x:3,y:3,idCelda:"constitucion_3_3",idSector:"constitucion"},constitucion_4_3:{tipo:"linea",puntas:["SW","E"],x:4,y:3,idCelda:"constitucion_4_3",idSector:"constitucion"},constitucion_5_3:{tipo:"linea",puntas:["W","E"],x:5,y:3,idCelda:"constitucion_5_3",idSector:"constitucion"},constitucion_6_3:{tipo:"linea",puntas:["W","E"],x:6,y:3,idCelda:"constitucion_6_3",idSector:"constitucion"},constitucion_7_3:{tipo:"linea",puntas:["W","E"],x:7,y:3,idCelda:"constitucion_7_3",idSector:"constitucion"},constitucion_8_3:{tipo:"cambio",punta:"SE",ramas:["NW","W"],x:8,y:3,idCelda:"constitucion_8_3",idSector:"constitucion"},constitucion_0_4:{tipo:"paragolpe",punta:"E",x:0,y:4,idCelda:"constitucion_0_4",idSector:"constitucion"},constitucion_1_4:{tipo:"linea",puntas:["W","E"],x:1,y:4,idCelda:"constitucion_1_4",idSector:"constitucion"},constitucion_2_4:{tipo:"cambio",punta:"W",ramas:["E","NE","SE"],x:2,y:4,idCelda:"constitucion_2_4",idSector:"constitucion"},constitucion_3_4:{tipo:"cruce",linea1:{puntas:["SW","NE"]},linea2:{puntas:["W","E"]},x:3,y:4,idCelda:"constitucion_3_4",idSector:"constitucion"},constitucion_4_4:{tipo:"cambio",punta:"W",ramas:["E","SE"],x:4,y:4,idCelda:"constitucion_4_4",idSector:"constitucion"},constitucion_5_4:{tipo:"cambio",punta:"E",ramas:["W","SW"],x:5,y:4,idCelda:"constitucion_5_4",idSector:"constitucion"},constitucion_6_4:{tipo:"linea",puntas:["W","SE"],x:6,y:4,idCelda:"constitucion_6_4",idSector:"constitucion"},constitucion_9_4:{tipo:"linea",puntas:["NW","SE"],x:9,y:4,idCelda:"constitucion_9_4",idSector:"constitucion"},constitucion_0_5:{tipo:"paragolpe",punta:"E",x:0,y:5,idCelda:"constitucion_0_5",idSector:"constitucion"},constitucion_1_5:{tipo:"linea",puntas:["W","E"],x:1,y:5,idCelda:"constitucion_1_5",idSector:"constitucion"},constitucion_2_5:{tipo:"cambio",punta:"W",ramas:["E","NE"],x:2,y:5,idCelda:"constitucion_2_5",idSector:"constitucion"},constitucion_3_5:{tipo:"cruce",linea1:{puntas:["NW","SE"]},linea2:{puntas:["W","E"]},x:3,y:5,idCelda:"constitucion_3_5",idSector:"constitucion"},constitucion_4_5:{tipo:"cambio",punta:"W",ramas:["E","NE"],x:4,y:5,idCelda:"constitucion_4_5",idSector:"constitucion"},constitucion_5_5:{tipo:"cambio",punta:"E",ramas:["W","NW"],x:5,y:5,idCelda:"constitucion_5_5",idSector:"constitucion"},constitucion_6_5:{tipo:"linea",puntas:["W","SE"],x:6,y:5,idCelda:"constitucion_6_5",idSector:"constitucion"},constitucion_7_5:{tipo:"linea",puntas:["NW","SE"],x:7,y:5,idCelda:"constitucion_7_5",idSector:"constitucion"},constitucion_10_5:{tipo:"linea",puntas:["NW","SE"],x:10,y:5,idCelda:"constitucion_10_5",idSector:"constitucion"},cruceDobleCambio_0_0:{tipo:"cambio",x:0,y:0,punta:"W",ramas:["E","SE"],idCelda:"cruceDobleCambio_0_0",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0:{tipo:"cambio",x:1,y:0,punta:"E",ramas:["W","SW"],idCelda:"cruceDobleCambio_1_0",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1:{tipo:"cambio",x:0,y:1,punta:"W",ramas:["E","NE"],idCelda:"cruceDobleCambio_0_1",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1:{tipo:"cambio",x:1,y:1,punta:"E",ramas:["W","NW"],idCelda:"cruceDobleCambio_1_1",idSector:"cruceDobleCambio"},dosVias_0_0:{tipo:"paragolpe",x:0,y:0,punta:"E",despachador:["E"],rebota:!0,bloque:"Plat.Oeste-N",idCelda:"dosVias_0_0",idSector:"dosVias",idBloque:"dosVias__Plat_Oeste_N"},dosVias_0_1:{tipo:"paragolpe",x:0,y:1,punta:"E",despachador:["E"],rebota:!0,bloque:"Plat.Oeste-S",idCelda:"dosVias_0_1",idSector:"dosVias",idBloque:"dosVias__Plat_Oeste_S"},dosVias_1_0:{tipo:"cambio",x:1,y:0,punta:"W",ramas:["E","SE"],bloque:"Oeste [1,0]",idCelda:"dosVias_1_0",idSector:"dosVias",idBloque:"dosVias__Oeste__1_0_"},dosVias_1_1:{tipo:"cambio",x:1,y:1,punta:"W",ramas:["E","NE"],bloque:"Oeste [1,1]",idCelda:"dosVias_1_1",idSector:"dosVias",idBloque:"dosVias__Oeste__1_1_"},dosVias_2_0:{tipo:"cambio",x:2,y:0,punta:"E",ramas:["W","SW"],bloque:"Oeste [2,0]",idCelda:"dosVias_2_0",idSector:"dosVias",idBloque:"dosVias__Oeste__2_0_"},dosVias_2_1:{tipo:"cambio",x:2,y:1,punta:"E",ramas:["W","NW"],bloque:"Oeste [2,1]",idCelda:"dosVias_2_1",idSector:"dosVias",idBloque:"dosVias__Oeste__2_1_"},dosVias_3_0:{tipo:"linea",x:3,y:0,puntas:["E","W"],bloque:"Norte",idCelda:"dosVias_3_0",idSector:"dosVias",idBloque:"dosVias__Norte"},dosVias_3_1:{tipo:"linea",x:3,y:1,puntas:["E","W"],bloque:"Sur",idCelda:"dosVias_3_1",idSector:"dosVias",idBloque:"dosVias__Sur"},dosVias_4_0:{tipo:"linea",x:4,y:0,puntas:["E","W"],bloque:"Norte",idCelda:"dosVias_4_0",idSector:"dosVias",idBloque:"dosVias__Norte"},dosVias_4_1:{tipo:"linea",x:4,y:1,puntas:["E","W"],bloque:"Sur",idCelda:"dosVias_4_1",idSector:"dosVias",idBloque:"dosVias__Sur"},dosVias_5_0:{tipo:"linea",x:5,y:0,puntas:["E","W"],bloque:"Norte",idCelda:"dosVias_5_0",idSector:"dosVias",idBloque:"dosVias__Norte"},dosVias_5_1:{tipo:"linea",x:5,y:1,puntas:["E","W"],bloque:"Sur",idCelda:"dosVias_5_1",idSector:"dosVias",idBloque:"dosVias__Sur"},dosVias_6_0:{tipo:"cambio",x:6,y:0,punta:"W",ramas:["E","SE"],bloque:"Oeste [6,0]",idCelda:"dosVias_6_0",idSector:"dosVias",idBloque:"dosVias__Oeste__6_0_"},dosVias_6_1:{tipo:"cambio",x:6,y:1,punta:"W",ramas:["E","NE"],bloque:"Oeste [6,1]",idCelda:"dosVias_6_1",idSector:"dosVias",idBloque:"dosVias__Oeste__6_1_"},dosVias_7_0:{tipo:"cambio",x:7,y:0,punta:"E",ramas:["W","SW"],bloque:"Oeste [7,0]",idCelda:"dosVias_7_0",idSector:"dosVias",idBloque:"dosVias__Oeste__7_0_"},dosVias_7_1:{tipo:"cambio",x:7,y:1,punta:"E",ramas:["W","NW"],bloque:"Oeste [7,1]",idCelda:"dosVias_7_1",idSector:"dosVias",idBloque:"dosVias__Oeste__7_1_"},dosVias_8_0:{tipo:"paragolpe",x:8,y:0,punta:"W",despachador:["W"],rebota:!0,bloque:"Plat.Este-N",idCelda:"dosVias_8_0",idSector:"dosVias",idBloque:"dosVias__Plat_Este_N"},dosVias_8_1:{tipo:"paragolpe",x:8,y:1,punta:"W",despachador:["W"],rebota:!0,bloque:"Plat.Este-S",idCelda:"dosVias_8_1",idSector:"dosVias",idBloque:"dosVias__Plat_Este_S"},semaforosEncadenados_0_0:{tipo:"linea",puntas:["W","E"],x:0,y:0,idCelda:"semaforosEncadenados_0_0",idSector:"semaforosEncadenados"},semaforosEncadenados_1_0:{tipo:"linea",puntas:["W","E"],x:1,y:0,idCelda:"semaforosEncadenados_1_0",idSector:"semaforosEncadenados"},semaforosEncadenados_2_0:{tipo:"linea",puntas:["W","E"],x:2,y:0,idCelda:"semaforosEncadenados_2_0",idSector:"semaforosEncadenados"},semaforosEncadenados_3_0:{tipo:"linea",puntas:["W","E"],x:3,y:0,idCelda:"semaforosEncadenados_3_0",idSector:"semaforosEncadenados"},simpleDesvio_0_0:{tipo:"cambio",x:0,y:0,punta:"W",ramas:["E","NE"],idCelda:"simpleDesvio_0_0",idSector:"simpleDesvio"}},i={constitucion_4_4:{x:4,y:4,tipo:"cambio",deps:[{x:5,y:5,tipo:"cambio",alts:[{cuando:0,posicion:0},{cuando:1,posicion:1}]},{x:4,y:5,tipo:"cambio",alts:[{cuando:1,posicion:0}]}],idAutom:"constitucion_4_4",idSector:"constitucion"},constitucion_4_5:{x:4,y:5,tipo:"cambio",deps:[{x:5,y:4,tipo:"cambio",alts:[{cuando:0,posicion:0},{cuando:1,posicion:1}]}],idAutom:"constitucion_4_5",idSector:"constitucion"},constitucion_5_4:{x:5,y:4,tipo:"cambio",deps:[{x:4,y:5,tipo:"cambio",alts:[{cuando:0,posicion:0},{cuando:1,posicion:1}]}],idAutom:"constitucion_5_4",idSector:"constitucion"},constitucion_5_5:{x:5,y:5,tipo:"cambio",deps:[{x:4,y:4,tipo:"cambio",alts:[{cuando:0,posicion:0},{cuando:1,posicion:1}]},{x:4,y:5,tipo:"cambio",alts:[{cuando:1,posicion:0}]}],idAutom:"constitucion_5_5",idSector:"constitucion"},constitucion_2_4_W:{x:2,y:4,dir:"W",tipo:"semaforo",deps:[{x:2,y:4,tipo:"cambio",alts:[{cuando:2,centro:3,der:3},{cuando:0,izq:3,der:3},{cuando:1,izq:3,centro:3}]}],idAutom:"constitucion_2_4_W",idSector:"constitucion"},constitucion_4_4_W:{x:4,y:4,dir:"W",tipo:"semaforo",deps:[{x:4,y:4,tipo:"cambio",alts:[{cuando:0,der:3},{cuando:1,centro:3,der:2}]},{x:5,y:4,tipo:"cambio",alts:[{cuando:1,centro:3,der:3}]}],idAutom:"constitucion_4_4_W",idSector:"constitucion"},constitucion_8_3_SE:{x:8,y:3,dir:"SE",tipo:"semaforo",deps:[{x:8,y:3,tipo:"cambio",alts:[{cuando:0,izq:3},{cuando:1,izq:2,centro:3}]}],idAutom:"constitucion_8_3_SE",idSector:"constitucion"},cruceDobleCambio_0_0:{x:0,y:0,tipo:"cambio",deps:[{x:1,y:1,tipo:"cambio",alts:[{cuando:0,posicion:0},{cuando:1,posicion:1}]},{x:0,y:1,tipo:"cambio",alts:[{cuando:1,posicion:0}]}],idAutom:"cruceDobleCambio_0_0",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1:{x:0,y:1,tipo:"cambio",deps:[{x:1,y:0,tipo:"cambio",alts:[{cuando:0,posicion:0},{cuando:1,posicion:1}]},{x:0,y:0,tipo:"cambio",alts:[{cuando:1,posicion:0}]}],idAutom:"cruceDobleCambio_0_1",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0:{x:1,y:0,tipo:"cambio",deps:[{x:0,y:1,tipo:"cambio",alts:[{cuando:0,posicion:0},{cuando:1,posicion:1}]},{x:1,y:1,tipo:"cambio",alts:[{cuando:1,posicion:0}]}],idAutom:"cruceDobleCambio_1_0",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1:{x:1,y:1,tipo:"cambio",deps:[{x:0,y:0,tipo:"cambio",alts:[{cuando:0,posicion:0},{cuando:1,posicion:1}]},{x:0,y:1,tipo:"cambio",alts:[{cuando:1,posicion:0}]}],idAutom:"cruceDobleCambio_1_1",idSector:"cruceDobleCambio"},cruceDobleCambio_0_0_W:{x:0,y:0,dir:"W",tipo:"semaforo",deps:[{x:0,y:0,tipo:"cambio",alts:[{cuando:0,der:3},{cuando:1,centro:3,der:2}]},{x:1,y:0,tipo:"cambio",alts:[{cuando:1,centro:3,der:3}]}],idAutom:"cruceDobleCambio_0_0_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0_E:{x:1,y:0,dir:"E",tipo:"semaforo",deps:[{x:1,y:0,tipo:"cambio",alts:[{cuando:0,izq:3},{cuando:1,centro:3,izq:2}]},{x:0,y:0,tipo:"cambio",alts:[{cuando:1,centro:3,izq:3}]}],idAutom:"cruceDobleCambio_1_0_E",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1_W:{x:0,y:1,dir:"W",tipo:"semaforo",deps:[{x:0,y:1,tipo:"cambio",alts:[{cuando:0,izq:3},{cuando:1,centro:3,izq:2}]},{x:1,y:1,tipo:"cambio",alts:[{cuando:1,centro:3,izq:3}]}],idAutom:"cruceDobleCambio_0_1_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1_E:{x:1,y:1,dir:"E",tipo:"semaforo",deps:[{x:1,y:1,tipo:"cambio",alts:[{cuando:0,der:3},{cuando:1,centro:3,der:2}]},{x:0,y:1,tipo:"cambio",alts:[{cuando:1,centro:3,der:3}]}],idAutom:"cruceDobleCambio_1_1_E",idSector:"cruceDobleCambio"},dosVias_1_0:{x:1,y:0,tipo:"cambio",deps:[{x:2,y:1,tipo:"cambio",alts:[{cuando:0,posicion:0},{cuando:1,posicion:1}]},{x:1,y:1,tipo:"cambio",alts:[{cuando:1,posicion:0}]}],idAutom:"dosVias_1_0",idSector:"dosVias"},dosVias_1_1:{x:1,y:1,tipo:"cambio",deps:[{x:2,y:0,tipo:"cambio",alts:[{cuando:0,posicion:0},{cuando:1,posicion:1}]},{x:1,y:0,tipo:"cambio",alts:[{cuando:1,posicion:0}]}],idAutom:"dosVias_1_1",idSector:"dosVias"},dosVias_2_0:{x:2,y:0,tipo:"cambio",deps:[{x:1,y:1,tipo:"cambio",alts:[{cuando:0,posicion:0},{cuando:1,posicion:1}]},{x:2,y:1,tipo:"cambio",alts:[{cuando:1,posicion:0}]}],idAutom:"dosVias_2_0",idSector:"dosVias"},dosVias_2_1:{x:2,y:1,tipo:"cambio",deps:[{x:1,y:0,tipo:"cambio",alts:[{cuando:0,posicion:0},{cuando:1,posicion:1}]},{x:1,y:1,tipo:"cambio",alts:[{cuando:1,posicion:0}]}],idAutom:"dosVias_2_1",idSector:"dosVias"},dosVias_6_0:{x:6,y:0,tipo:"cambio",deps:[{x:7,y:1,tipo:"cambio",alts:[{cuando:0,posicion:0},{cuando:1,posicion:1}]},{x:6,y:1,tipo:"cambio",alts:[{cuando:1,posicion:0}]}],idAutom:"dosVias_6_0",idSector:"dosVias"},dosVias_6_1:{x:6,y:1,tipo:"cambio",deps:[{x:7,y:0,tipo:"cambio",alts:[{cuando:0,posicion:0},{cuando:1,posicion:1}]},{x:6,y:0,tipo:"cambio",alts:[{cuando:1,posicion:0}]}],idAutom:"dosVias_6_1",idSector:"dosVias"},dosVias_7_0:{x:7,y:0,tipo:"cambio",deps:[{x:6,y:1,tipo:"cambio",alts:[{cuando:0,posicion:0},{cuando:1,posicion:1}]},{x:7,y:1,tipo:"cambio",alts:[{cuando:1,posicion:0}]}],idAutom:"dosVias_7_0",idSector:"dosVias"},dosVias_7_1:{x:7,y:1,tipo:"cambio",deps:[{x:6,y:0,tipo:"cambio",alts:[{cuando:0,posicion:0},{cuando:1,posicion:1}]},{x:6,y:1,tipo:"cambio",alts:[{cuando:1,posicion:0}]}],idAutom:"dosVias_7_1",idSector:"dosVias"},dosVias_1_0_W:{x:1,y:0,dir:"W",tipo:"semaforo",deps:[{tipo:"bloque",bloque:"Oeste [1,0]",senalAfectada:"der"},{tipo:"cambio",x:1,y:0,alts:[{cuando:0,der:3},{cuando:1,der:2}]},{x:3,y:1,dir:"W",tipo:"semaforo",senales:[{cuando:3,senalAfectada:"der",aspecto:2}]},{tipo:"fijo",senalAfectada:"centro",aspecto:3}],idAutom:"dosVias_1_0_W",idSector:"dosVias"},dosVias_1_1_W:{x:1,y:1,dir:"W",tipo:"semaforo",deps:[{tipo:"cambio",x:1,y:1,alts:[{cuando:1,centro:3}]},{tipo:"cambio",x:2,y:1,alts:[{cuando:1,centro:3}]},{tipo:"bloque",bloque:"Oeste [1,1]",senalAfectada:"centro"},{x:3,y:1,dir:"W",tipo:"semaforo",senales:[{cuando:3,senalAfectada:"der",aspecto:2}]},{tipo:"fijo",senalAfectada:"izq",aspecto:3}],idAutom:"dosVias_1_1_W",idSector:"dosVias"},dosVias_2_0_E:{x:2,y:0,dir:"E",tipo:"semaforo",deps:[{tipo:"bloque",bloque:"Oeste [2,0]",senalAfectada:"centro"},{tipo:"bloque",bloque:"Oeste [2,0]",senalAfectada:"izq"},{tipo:"bloque",bloque:"Plat.Oeste-N",senalAfectada:"centro"},{tipo:"bloque",bloque:"Plat.Oeste-S",senalAfectada:"izq"},{tipo:"cambio",x:2,y:0,alts:[{cuando:0,izq:3},{cuando:1,centro:3,izq:2}]},{tipo:"cambio",x:1,y:0,alts:[{cuando:1,centro:3}]}],idAutom:"dosVias_2_0_E",idSector:"dosVias"},dosVias_2_1_E:{x:2,y:1,dir:"E",tipo:"semaforo",deps:[{tipo:"fijo",senalAfectada:"der",aspecto:3},{tipo:"fijo",senalAfectada:"centro",aspecto:3},{tipo:"cambio",x:2,y:1,alts:[{cuando:0,der:3},{cuando:1,centro:3,der:2}]},{tipo:"cambio",x:1,y:1,alts:[{cuando:1,centro:3}]}],idAutom:"dosVias_2_1_E",idSector:"dosVias"},dosVias_7_1_E:{x:7,y:1,dir:"E",tipo:"semaforo",deps:[{tipo:"cambio",x:7,y:1,alts:[{cuando:0,der:3},{cuando:1,der:2}]},{tipo:"fijo",senalAfectada:"centro",aspecto:3},{tipo:"bloque",bloque:"Oeste [7,1]",senalAfectada:"der"},{x:5,y:0,dir:"E",tipo:"semaforo",senales:[{cuando:3,senalAfectada:"der",aspecto:2}]},{tipo:"fijo",senalAfectada:"centro",aspecto:3}],idAutom:"dosVias_7_1_E",idSector:"dosVias"},dosVias_7_0_E:{x:7,y:0,dir:"E",tipo:"semaforo",deps:[{tipo:"cambio",x:7,y:0,alts:[{cuando:1,centro:3}]},{tipo:"cambio",x:6,y:0,alts:[{cuando:1,centro:3}]},{tipo:"bloque",bloque:"Oeste [7,0]",senalAfectada:"centro"},{x:5,y:1,dir:"E",tipo:"semaforo",senales:[{cuando:3,senalAfectada:"izq",aspecto:2}]},{tipo:"fijo",senalAfectada:"izq",aspecto:3}],idAutom:"dosVias_7_0_E",idSector:"dosVias"},dosVias_6_1_W:{x:6,y:1,dir:"W",tipo:"semaforo",deps:[{tipo:"bloque",bloque:"Oeste [6,1]",senalAfectada:"izq"},{tipo:"bloque",bloque:"Oeste [6,1]",senalAfectada:"centro"},{tipo:"bloque",bloque:"Plat.Este-S",senalAfectada:"centro"},{tipo:"bloque",bloque:"Plat.Este-N",senalAfectada:"izq"},{tipo:"cambio",x:7,y:0,alts:[{cuando:0,izq:3},{cuando:1,centro:3,izq:2}]},{tipo:"cambio",x:7,y:1,alts:[{cuando:1,centro:3}]}],idAutom:"dosVias_6_1_W",idSector:"dosVias"},dosVias_6_0_W:{x:6,y:0,dir:"W",tipo:"semaforo",deps:[{tipo:"bloque",bloque:"Oeste [6,0]",senalAfectada:"der"},{tipo:"bloque",bloque:"Oeste [6,0]",senalAfectada:"centro"},{tipo:"cambio",x:6,y:0,alts:[{cuando:0,der:3},{cuando:1,centro:3,der:2}]},{tipo:"cambio",x:7,y:0,alts:[{cuando:1,centro:3}]},{tipo:"fijo",senalAfectada:"centro",aspecto:3}],idAutom:"dosVias_6_0_W",idSector:"dosVias"},dosVias_3_1_W:{tipo:"semaforo",x:3,y:1,dir:"W",deps:[{tipo:"bloque",bloque:"Sur",senalAfectada:"centro"},{tipo:"semaforo",x:6,y:1,dir:"W",senales:[{cuando:3,senalAfectada:"centro",aspecto:2}]}],idAutom:"dosVias_3_1_W",idSector:"dosVias"},dosVias_5_0_E:{tipo:"semaforo",x:5,y:0,dir:"E",deps:[{tipo:"bloque",bloque:"Norte",senalAfectada:"centro"},{tipo:"semaforo",x:2,y:0,dir:"E",senales:[{cuando:3,senalAfectada:"centro",aspecto:2}]}],idAutom:"dosVias_5_0_E",idSector:"dosVias"},dosVias__Oeste__1_0_:{tipo:"bloque",bloque:"Oeste [1,0]",deps:[{tipo:"bloque",bloque:"Oeste [2,0]",x:1,y:0,posicion:0},{tipo:"bloque",bloque:"Oeste [2,1]",x:1,y:0,posicion:1}],idAutom:"dosVias__Oeste__1_0_",idSector:"dosVias"},dosVias__Oeste__2_0_:{tipo:"bloque",bloque:"Oeste [2,0]",deps:[{tipo:"bloque",bloque:"Oeste [1,0]",x:2,y:0,posicion:0},{tipo:"bloque",bloque:"Oeste [1,1]",x:1,y:0,posicion:1}],idAutom:"dosVias__Oeste__2_0_",idSector:"dosVias"},dosVias__Oeste__1_1_:{tipo:"bloque",bloque:"Oeste [1,1]",deps:[{tipo:"bloque",bloque:"Oeste [2,1]",x:1,y:1,posicion:0},{tipo:"bloque",bloque:"Oeste [2,0]",x:1,y:1,posicion:1}],idAutom:"dosVias__Oeste__1_1_",idSector:"dosVias"},dosVias__Oeste__2_1_:{tipo:"bloque",bloque:"Oeste [2,1]",deps:[{tipo:"bloque",bloque:"Oeste [1,1]",x:2,y:1,posicion:0},{tipo:"bloque",bloque:"Oeste [1,0]",x:2,y:1,posicion:1}],idAutom:"dosVias__Oeste__2_1_",idSector:"dosVias"},dosVias__Oeste__6_0_:{tipo:"bloque",bloque:"Oeste [6,0]",deps:[{tipo:"bloque",bloque:"Oeste [7,0]",x:6,y:0,posicion:0},{tipo:"bloque",bloque:"Oeste [7,1]",x:6,y:0,posicion:1}],idAutom:"dosVias__Oeste__6_0_",idSector:"dosVias"},dosVias__Oeste__7_0_:{tipo:"bloque",bloque:"Oeste [7,0]",deps:[{tipo:"bloque",bloque:"Oeste [6,0]",x:7,y:0,posicion:0},{tipo:"bloque",bloque:"Oeste [6,1]",x:7,y:0,posicion:1}],idAutom:"dosVias__Oeste__7_0_",idSector:"dosVias"},dosVias__Oeste__6_1_:{tipo:"bloque",bloque:"Oeste [6,1]",deps:[{tipo:"bloque",bloque:"Oeste [7,1]",x:6,y:1,posicion:0},{tipo:"bloque",bloque:"Oeste [7,0]",x:6,y:1,posicion:1}],idAutom:"dosVias__Oeste__6_1_",idSector:"dosVias"},dosVias__Oeste__7_1_:{tipo:"bloque",bloque:"Oeste [7,1]",deps:[{tipo:"bloque",bloque:"Oeste [6,1]",x:7,y:1,posicion:0},{tipo:"bloque",bloque:"Oeste [6,0]",x:7,y:1,posicion:1}],idAutom:"dosVias__Oeste__7_1_",idSector:"dosVias"},semaforosEncadenados_0_0_W:{x:0,y:0,dir:"W",tipo:"semaforo",deps:[{x:3,y:0,dir:"W",tipo:"semaforo",senales:[{cuando:3,senalAfectada:"centro",aspecto:2}]}],idAutom:"semaforosEncadenados_0_0_W",idSector:"semaforosEncadenados"},simpleDesvio_0_0_W:{x:0,y:0,dir:"W",tipo:"semaforo",deps:[{x:0,y:0,tipo:"cambio",alts:[{cuando:0,izq:3},{cuando:1,izq:2,centro:3}]}],idAutom:"simpleDesvio_0_0_W",idSector:"simpleDesvio"}},r={constitucion_5_3_E:{centro:1,dir:"E",x:5,y:3,idSemaforo:"constitucion_5_3_E",idSector:"constitucion"},constitucion_8_3_SE:{dir:"SE",centro:1,izq:3,x:8,y:3,idSemaforo:"constitucion_8_3_SE",idSector:"constitucion"},constitucion_2_4_W:{dir:"W",centro:1,izq:3,der:3,x:2,y:4,idSemaforo:"constitucion_2_4_W",idSector:"constitucion"},constitucion_4_4_W:{dir:"W",centro:1,der:3,x:4,y:4,idSemaforo:"constitucion_4_4_W",idSector:"constitucion"},cruceDobleCambio_0_0_W:{dir:"W",centro:1,der:3,x:0,y:0,idSemaforo:"cruceDobleCambio_0_0_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0_E:{dir:"E",centro:1,izq:3,x:1,y:0,idSemaforo:"cruceDobleCambio_1_0_E",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1_W:{dir:"W",centro:1,izq:3,x:0,y:1,idSemaforo:"cruceDobleCambio_0_1_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1_E:{dir:"E",centro:1,der:3,x:1,y:1,idSemaforo:"cruceDobleCambio_1_1_E",idSector:"cruceDobleCambio"},dosVias_1_0_W:{x:1,y:0,dir:"W",centro:3,der:3,idSemaforo:"dosVias_1_0_W",idSector:"dosVias"},dosVias_1_1_W:{x:1,y:1,dir:"W",centro:1,izq:3,idSemaforo:"dosVias_1_1_W",idSector:"dosVias"},dosVias_2_0_E:{x:2,y:0,dir:"E",centro:1,izq:3,idSemaforo:"dosVias_2_0_E",idSector:"dosVias"},dosVias_2_1_E:{x:2,y:1,dir:"E",centro:3,der:3,idSemaforo:"dosVias_2_1_E",idSector:"dosVias"},dosVias_3_0_W:{x:3,y:0,dir:"W",centro:3,idSemaforo:"dosVias_3_0_W",idSector:"dosVias"},dosVias_3_1_W:{x:3,y:1,dir:"W",centro:1,idSemaforo:"dosVias_3_1_W",idSector:"dosVias"},dosVias_5_0_E:{x:5,y:0,dir:"E",centro:1,idSemaforo:"dosVias_5_0_E",idSector:"dosVias"},dosVias_5_1_E:{x:5,y:1,dir:"E",centro:3,idSemaforo:"dosVias_5_1_E",idSector:"dosVias"},dosVias_6_0_W:{x:6,y:0,dir:"W",centro:3,der:3,idSemaforo:"dosVias_6_0_W",idSector:"dosVias"},dosVias_6_1_W:{x:6,y:1,dir:"W",centro:1,izq:3,idSemaforo:"dosVias_6_1_W",idSector:"dosVias"},dosVias_7_0_E:{x:7,y:0,dir:"E",centro:1,izq:3,idSemaforo:"dosVias_7_0_E",idSector:"dosVias"},dosVias_7_1_E:{x:7,y:1,dir:"E",centro:3,der:3,idSemaforo:"dosVias_7_1_E",idSector:"dosVias"},semaforosEncadenados_0_0_W:{dir:"W",centro:1,x:0,y:0,idSemaforo:"semaforosEncadenados_0_0_W",idSector:"semaforosEncadenados"},semaforosEncadenados_3_0_W:{dir:"W",centro:1,x:3,y:0,soloManiobra:!0,idSemaforo:"semaforosEncadenados_3_0_W",idSector:"semaforosEncadenados"},simpleDesvio_0_0_W:{dir:"W",centro:1,izq:3,x:0,y:0,idSemaforo:"simpleDesvio_0_0_W",idSector:"simpleDesvio"}},s={dosVias__Plat_Oeste_N:{celdas:["dosVias_0_0"],nombre:"Plat.Oeste-N"},dosVias__Plat_Oeste_S:{celdas:["dosVias_0_1"],nombre:"Plat.Oeste-S"},dosVias__Oeste__1_0_:{celdas:["dosVias_1_0"],nombre:"Oeste [1,0]"},dosVias__Oeste__1_1_:{celdas:["dosVias_1_1"],nombre:"Oeste [1,1]"},dosVias__Oeste__2_0_:{celdas:["dosVias_2_0"],nombre:"Oeste [2,0]"},dosVias__Oeste__2_1_:{celdas:["dosVias_2_1"],nombre:"Oeste [2,1]"},dosVias__Norte:{celdas:["dosVias_3_0","dosVias_4_0","dosVias_5_0"],nombre:"Norte"},dosVias__Sur:{celdas:["dosVias_3_1","dosVias_4_1","dosVias_5_1"],nombre:"Sur"},dosVias__Oeste__6_0_:{celdas:["dosVias_6_0"],nombre:"Oeste [6,0]"},dosVias__Oeste__6_1_:{celdas:["dosVias_6_1"],nombre:"Oeste [6,1]"},dosVias__Oeste__7_0_:{celdas:["dosVias_7_0"],nombre:"Oeste [7,0]"},dosVias__Oeste__7_1_:{celdas:["dosVias_7_1"],nombre:"Oeste [7,1]"},dosVias__Plat_Este_N:{celdas:["dosVias_8_0"],nombre:"Plat.Este-N"},dosVias__Plat_Este_S:{celdas:["dosVias_8_1"],nombre:"Plat.Este-S"}}},42:function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return s}));var n=o(29),a=o(22),c=o(4),i=Object(a.a)((function(e){return e.celdas}),(function(e,t){return t}),(function(e,t){if(e[t])return Object(n.a)({posicion:c.u},e[t])})),r=function(e,t){return!!e.celdas[t].manual},s=Object(a.a)((function(e){return e.celdas}),(function(e,t){return t}),(function(e,t){return Object.values(e).filter((function(e){return e.idSector===t}))}))},43:function(e,t,o){e.exports={semaforo:"styles_semaforo__1oD_-",verde:"styles_verde__3jxOB",rojo:"styles_rojo__19OcT",amarillo:"styles_amarillo__EBZgn",maniobra:"styles_maniobra__1WLEL",blink:"styles_blink__1pyu2",blinker:"styles_blinker__2Ms7j"}},46:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var n=o(7),a=Object(n.b)("setBloqueOcupado",(function(e,t,o){return{payload:{idBloque:e,idTren:t,vecino:o}}}))},47:function(e,t,o){"use strict";o.d(t,"e",(function(){return r})),o.d(t,"f",(function(){return s})),o.d(t,"i",(function(){return u})),o.d(t,"d",(function(){return d})),o.d(t,"h",(function(){return l})),o.d(t,"c",(function(){return _})),o.d(t,"g",(function(){return m})),o.d(t,"b",(function(){return p})),o.d(t,"a",(function(){return f})),o.d(t,"j",(function(){return b}));var n=o(7),a=o(11),c=o(14),i=o(4),r=Object(n.b)("setPosicion",(function(e,t){return{payload:{idCelda:e,posicion:t}}}));function s(e,t){return function(o,n){var s=Object(c.f)(n(),e);if(s.tipo!==i.f)throw new Error("Celda ".concat(e,"  no es un cambio"));return s.posicion!==t&&(!Object(c.i)(n(),e)&&(o(Object(a.setPendiente)(e)),o(r(e,t))))}}function u(e,t){return function(o,n){return o(s(e,t)),Object(c.g)(n(),e)||o(Object(a.runAutomatizaciones)(e)),o(Object(a.clearPendientes)())}}var d=Object(n.b)("setCambioManual",(function(e,t){return{payload:{idCelda:e,manual:t}}}));function l(e,t){return function(o,n){o(d(e,t)),Object(c.g)(n(),e)||o(Object(a.runAutomatizaciones)())}}var _=Object(n.b)("removeTrenFromCelda",(function(e,t){return{payload:{idCelda:e,idTren:t}}}));function m(e,t){return function(o,n){o(_(e,t));var i=Object(c.f)(n(),e);i.idBloque&&o(Object(a.setBloqueOcupado)(i.idBloque,!1))}}var p=Object(n.b)("addTrenToCelda",(function(e,t){return{payload:{idCelda:e,idTren:t}}}));function f(e,t){return function(o,n){o(p(e,t));var i=Object(c.f)(n(),e);i.idBloque&&o(Object(a.setBloqueOcupado)(i.idBloque,t))}}var b=Object(n.b)("setRebota",(function(e,t){return{payload:{idCelda:e,rebota:t}}}))},48:function(e,t,o){e.exports={info:"styles_info__2eaPP",warning:"styles_warning__Y2zSC",danger:"styles_danger__3Ef8R",fixed:"styles_fixed__3IULb",buttons:"styles_buttons__Of--i"}},50:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return a}));var n=function(e){return e.alertas.alarma},a=function(e){return e.alertas.avisos}},51:function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return c}));var n=o(22),a=function(e,t){return e.bloques[t]},c=Object(n.a)((function(e){return e.bloques}),(function(e,t){return t}),(function(e,t){var o=e[t];return o&&o.idTren}))},52:function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"a",(function(){return c}));var n=o(22),a=Object(n.a)((function(e){return e.sectores}),(function(e){return Object.values(e).map((function(e){return{idSector:e.idSector,descr:e.descr,descrCorta:e.descrCorta}})).sort((function(e,t){var o=e.descrCorta.toUpperCase(),n=t.descrCorta.toUpperCase();return o<n?-1:o>n?1:0}))})),c=function(e,t){return e.sectores[t]}},53:function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return a}));var n=function(e,t){return Object.values(e.trenes).filter((function(e){return!t||e.idSector===t}))},a=function(e,t){return e.trenes[t]}},54:function(e,t,o){"use strict";o.d(t,"a",(function(){return _})),o.d(t,"b",(function(){return m}));var n=o(59),a=o.n(n),c=o(78),i=o(8),r=o(14),s=o(4),u=o(11);function d(e,t,o,n){var a=n.idSector;switch(n.tipo){case s.f:return function(o,n){var c=Object(r.f)(t(),o);return n.reduce((function(n,s){var d=Object(i.a)({idSector:a,x:s.x,y:s.y}),l=Object(r.f)(t(),d),_=s.alts.find((function(e){return e.cuando===l.posicion}));if(!_)return n;var m=_.posicion;return m===c.posicion||c.manual?n:n.then((function(t){return!!e(Object(u.rawSetPosicion)(o,m))||t}))}),Promise.resolve(!1))}(o,n.deps);case s.A:return function(o,n){var c=Object(r.j)(t(),o);if(c.manual)return!1;var d={izq:s.p,centro:s.p,der:s.p};return n.forEach((function(e){var n=Object(i.a)({idSector:a,x:e.x,y:e.y,dir:e.dir});switch(e.tipo){case s.f:var c=Object(r.f)(t(),n),u=e.alts.find((function(e){return e.cuando===c.posicion}));u&&Object.keys(d).forEach((function(e){u[e]&&(d[e]=Math.max(d[e],u[e]))}));break;case s.A:var l=Object(r.j)(t(),n),_=[s.o,s.g,s.j].reduce((function(e,t){return t in l?Math.min(e,l[t]):e}),s.b);e.senales.forEach((function(e){var t=e.cuando,o=e.senalAfectada,n=e.aspecto;_===t&&(d[o]=Math.max(d[o],n))}));break;case s.d:!!Object(r.e)(t(),Object(i.b)(a,e.bloque))&&(d[e.senalAfectada]=s.b);break;case s.m:d[e.senalAfectada]=Math.max(e.aspecto,d[e.senalAfectada]);break;default:throw new Error("Dependencia ".concat(e.idSource," de ").concat(o," tiene tipo desconocido: ").concat(e.tipo))}})),Object.keys(d).reduce((function(t,n){return n in c?c[n]===d[n]?t:t.then((function(t){return!!e(Object(u.doSetAspectoSenal)(o,n,d[n]))||t})):t}),Promise.resolve(!1))}(o,n.deps);case s.d:return function(o,n){var c=Object(r.d)(t(),o);n.reduce((function(n,c){switch(c.tipo){case s.d:var d=Object(i.a)({idSector:a,x:c.x,y:c.y});if(Object(r.f)(t(),d).posicion===c.posicion){var l=Object(r.d)(t(),Object(i.b)(a,c.bloque));if(l.idTren&&!l.vecino)return e(Object(u.setBloqueOcupado)(o,l.idTren,!0))}return n;default:throw new Error("Dependencia de  ".concat(o," tiene tipo desconocido: ").concat(c.tipo))}}),c.vecino?e(Object(u.setBloqueOcupado)(o,!1,!1)):Promise.resolve(!1))}(o,n.deps);default:throw new Error("Celda ".concat(o," tiene automatizaci\xf3n desconocido ").concat(n.tipo))}}var l=/_\d+_\d+_[NSEW][EW]?$/;function _(e){return function(){var t=Object(c.a)(a.a.mark((function t(o,n){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=Object(r.a)(n(),e),d(o,n,e,c);case 2:case"end":return t.stop()}}),t)})));return function(e,o){return t.apply(this,arguments)}}()}function m(e){return function(){var t=Object(c.a)(a.a.mark((function t(o,n){var c,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(r.c)(n())){t.next=2;break}return t.abrupt("return");case 2:if(!e){t.next=6;break}if(a=n(),_=e,!(l.test(_)?Object(r.j)(a,_):Object(r.f)(a,_)).manual){t.next=6;break}return t.abrupt("return");case 6:c=function(){return Object(r.b)(n()).reduce((function(t,a){var c=a.x,r=a.y,u=a.dir,l=a.tipo,_=a.bloque,m=a.idSector,p=l===s.d?Object(i.b)(m,_):Object(i.a)({idSector:m,x:c,y:r,dir:u});return e&&p===e?t:t.then((function(e){return d(o,n,p,a)||e}))}),Promise.resolve(!1))},u=9;case 8:if(t.t0=u,!t.t0){t.next=13;break}return t.next=12,c();case 12:t.t0=t.sent;case 13:if(!t.t0){t.next=17;break}u--,t.next=8;break;case 17:if(u){t.next=19;break}throw new Error("Automatizaci\xf3n en loop por ".concat(e));case 19:return t.abrupt("return",!!u);case 20:case"end":return t.stop()}var a,_}),t)})));return function(e,o){return t.apply(this,arguments)}}()}},55:function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"a",(function(){return c}));var n=o(7),a=Object(n.b)("setPendiente"),c=Object(n.b)("clearPendientes")},56:function(e,t,o){"use strict";o.d(t,"c",(function(){return s})),o.d(t,"a",(function(){return u})),o.d(t,"d",(function(){return d})),o.d(t,"b",(function(){return l})),o.d(t,"e",(function(){return _}));var n=o(7),a=o(11),c=o(14),i=o(33),r=o(4),s=Object(n.b)("setAspectoSenal",(function(e,t,o){return{payload:{idSemaforo:e,senal:t,aspecto:o}}}));function u(e,t,o){return function(n,a){var i=Object(c.j)(a(),e);if(!i[t])throw new Error("Semaforo ".concat(e," no tiene senal ").concat(t));return i[t]!==o&&n(s(e,t,o))}}function d(e,t,o){return function(n,c){return n(u(e,t,o)),Object(i.a)(c(),e)===r.c&&n(Object(a.runAutomatizaciones)(e)),n(Object(a.clearPendientes)())}}var l=Object(n.b)("setModoSemaforo",(function(e,t){return{payload:{idSemaforo:e,modo:t}}}));function _(e,t){return function(o,n){o(l(e,t)),Object(i.a)(n(),e)===r.c&&o(Object(a.runAutomatizaciones)(e))}}},58:function(e,t,o){e.exports={flechaDespachador:"styles_flechaDespachador__jpfOH",trenDespachador:"styles_trenDespachador__1G3VE",disabled:"styles_disabled__10sbm",tren:"styles_tren__25vJ9"}},61:function(e,t,o){"use strict";o.d(t,"q",(function(){return n})),o.d(t,"f",(function(){return a})),o.d(t,"h",(function(){return c})),o.d(t,"w",(function(){return i})),o.d(t,"A",(function(){return r})),o.d(t,"p",(function(){return s})),o.d(t,"x",(function(){return u})),o.d(t,"b",(function(){return d})),o.d(t,"c",(function(){return l})),o.d(t,"r",(function(){return _})),o.d(t,"e",(function(){return m})),o.d(t,"u",(function(){return p})),o.d(t,"k",(function(){return f})),o.d(t,"a",(function(){return b})),o.d(t,"o",(function(){return E})),o.d(t,"g",(function(){return A})),o.d(t,"j",(function(){return O})),o.d(t,"s",(function(){return S})),o.d(t,"t",(function(){return y})),o.d(t,"l",(function(){return C})),o.d(t,"z",(function(){return j})),o.d(t,"y",(function(){return x})),o.d(t,"B",(function(){return v})),o.d(t,"C",(function(){return h})),o.d(t,"v",(function(){return V})),o.d(t,"d",(function(){return q})),o.d(t,"m",(function(){return g})),o.d(t,"n",(function(){return W})),o.d(t,"D",(function(){return w})),o.d(t,"i",(function(){return N}));var n="linea",a="cambio",c="cruce",i="paragolpe",r="semaforo",s=1,u=2,d=3,l=0,_=1,m=2,p=0,f=1,b=2,E="izq",A="centro",O="der",S="N",y="NE",C="E",j="SE",x="S",v="SW",h="W",V="NW",q="bloque",g="fijo",W="info",w="warning",N="danger"},62:function(e,t,o){"use strict";o.d(t,"b",(function(){return i})),o.d(t,"a",(function(){return r}));var n=o(22),a=o(4),c=o(26),i=Object(n.a)((function(e){return e.automatizaciones}),c.b,(function(e,t){return Object.values(e).filter((function(e){return e.idSector===t})).sort((function(e,t){return e.tipo===a.f&&t.tipo===a.A?-1:e.tipo===a.A&&t.tipo===a.f?1:0}))})),r=function(e,t){return e.automatizaciones[t]}},8:function(e,t,o){"use strict";o.d(t,"f",(function(){return c})),o.d(t,"c",(function(){return r})),o.d(t,"d",(function(){return s})),o.d(t,"a",(function(){return u})),o.d(t,"b",(function(){return d})),o.d(t,"g",(function(){return l})),o.d(t,"e",(function(){return _}));var n=o(15),a=o(1);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClick,o=e.onLongPress,n=e.ms,c=void 0===n?300:n,i=Object(a.useRef)(!1),r=Object(a.useRef)({}),u=Object(a.useCallback)((function(){"function"===typeof o&&o(r.current),r.current={},i.current=!1}),[o]),d=Object(a.useCallback)((function(e){s(e)&&(e.persist(),r.current=e,i.current=setTimeout(u,c))}),[u,c]),l=Object(a.useCallback)((function(e){s(e)&&(e.persist(),r.current=e,i.current&&(clearTimeout(i.current),"function"===typeof t&&t(e),i.current=!1,r.current={}))}),[t]);return Object(a.useMemo)((function(){return{onMouseDown:d,onMouseUp:l,onMouseLeave:l,onTouchStart:d,onTouchEnd:l}}),[d,l])}var i=function(e){return e.stopPropagation()},r={onMouseDown:i,onMouseUp:i,onMouseLeave:i,onTouchStart:i,onTouchEnd:i},s=function(e){return!(e.button||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)&&(e.stopPropagation(),e.preventDefault(),!0)},u=function(e){var t=e.idSector,o=e.x,n=e.y,a=e.dir;return(a?[t,o,n,a].join("_"):[t,o,n].join("_")).replace(/\W/g,"_").replace(/(^\d)/,"_$1")},d=function(e,t){return"".concat(e,"__").concat(t).replace(/\W/g,"_").replace(/(^\d)/,"_$1")};function l(){var e=Object(a.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(n.a)(e,2),o=t[0],c=t[1];return Object(a.useEffect)((function(){var e=function(){return c({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),o}function _(e){return e.nombre||"[".concat(e.x,",").concat(e.y,"]")+(e.dir?"-".concat(e.dir):"")}},81:function(e,t,o){e.exports={alarma:"styles_alarma__1_-OE",close:"styles_close__1Zwow"}},84:function(e,t){}},[[110,1,2]]]);
//# sourceMappingURL=main.acddf788.chunk.js.map