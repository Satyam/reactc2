(this.webpackJsonpreactc2=this.webpackJsonpreactc2||[]).push([[0],{10:function(e,t,n){"use strict";var a=n(35);n.d(t,"clearAlarma",(function(){return a.a})),n.d(t,"clearAviso",(function(){return a.b})),n.d(t,"clearAvisos",(function(){return a.c})),n.d(t,"doSetAlarma",(function(){return a.d})),n.d(t,"setAlarma",(function(){return a.e})),n.d(t,"setAviso",(function(){return a.f}));var c=n(43);n.d(t,"setBloqueOcupado",(function(){return c.a}));var o=n(50);n.d(t,"addTrenToCelda",(function(){return o.a})),n.d(t,"doAddTrenToCelda",(function(){return o.b})),n.d(t,"doRemoveTrenFromCelda",(function(){return o.c})),n.d(t,"doSetCambio",(function(){return o.d})),n.d(t,"plainSetCambio",(function(){return o.e})),n.d(t,"removeTrenFromCelda",(function(){return o.f})),n.d(t,"setCambioManual",(function(){return o.h}));var i=n(61);n.d(t,"setEnclavamientos",(function(){return i.a}));var r=n(21);n.d(t,"setPlayRate",(function(){return r.c}));var s=n(55);n.d(t,"clearPendientes",(function(){return s.a})),n.d(t,"setPendiente",(function(){return s.b}));var d=n(81);n.o(d,"doSetLuzEstado")&&n.d(t,"doSetLuzEstado",(function(){return d.doSetLuzEstado})),n.o(d,"plainSetLuzEstado")&&n.d(t,"plainSetLuzEstado",(function(){return d.plainSetLuzEstado})),n.o(d,"setSenalManual")&&n.d(t,"setSenalManual",(function(){return d.setSenalManual}));var u=n(56);n.d(t,"doSetLuzEstado",(function(){return u.a})),n.d(t,"plainSetLuzEstado",(function(){return u.b})),n.d(t,"setSenalManual",(function(){return u.d}));n(27)},103:function(e,t,n){e.exports={sector:"styles_sector__1v7a1"}},105:function(e,t,n){e.exports={rate:"styles_rate__26o7Y"}},106:function(e,t,n){e.exports={spacer:"styles_spacer__3Ds2B"}},107:function(e,t){e.exports="data:image/gif;base64,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"},109:function(e,t,n){e.exports=n(152)},12:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return s}));var a=n(15),c=n(1),o=function(e){return!(e.button||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)&&(e.stopPropagation(),e.preventDefault(),!0)},i=function(e){var t=e.idSector,n=e.x,a=e.y,c=e.dir;return(c?[t,n,a,c].join("_"):[t,n,a].join("_")).replace(/\W/g,"_").replace(/(^\d)/,"_$1")},r=function(e,t){return"".concat(e,"__").concat(t).replace(/\W/g,"_").replace(/(^\d)/,"_$1")};function s(){var e=Object(c.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(a.a)(e,2),n=t[0],o=t[1];return Object(c.useEffect)((function(){var e=function(){return o({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n}},152:function(e,t,n){"use strict";n.r(t);var a,c,o,i,r,s,d=n(1),u=n.n(d),l=n(41),m=n.n(l),_=n(15),p=n(57),b=n(36),f=n(154),E=n(155),A=n(156),C=n(102),S=n(7),v=n(11),y=n(10),O=Object(S.c)({alarma:{},avisos:[]},(a={},Object(v.a)(a,y.doSetAlarma,(function(e,t){e.alarma=t.payload})),Object(v.a)(a,y.clearAlarma,(function(e){e.alarma={}})),Object(v.a)(a,y.setAviso,(function(e,t){e.avisos.unshift(t.payload)})),Object(v.a)(a,y.clearAviso,(function(e,t){var n=e.avisos.findIndex((function(e){return e.fecha===t.payload}));-1!==n&&e.avisos.splice(n,1)})),Object(v.a)(a,y.clearAvisos,(function(e){e.avisos=[]})),a)),j=n(4),h=n(43),x=Object(S.c)(j.A,Object(v.a)({},h.a,(function(e,t){var n=t.payload,a=n.idBloque,c=n.idTren;e[a].idTren=c}))),g=Object(S.c)(j.B,(c={},Object(v.a)(c,y.plainSetCambio,(function(e,t){var n=t.payload,a=n.idCelda,c=n.posicion;e[a].posicion=c})),Object(v.a)(c,y.setCambioManual,(function(e,t){var n=t.payload,a=n.idCelda,c=n.manual;e[a].manual=c})),Object(v.a)(c,y.doRemoveTrenFromCelda,(function(e,t){e[t.payload.idCelda].idTren=void 0})),Object(v.a)(c,y.doAddTrenToCelda,(function(e,t){var n=t.payload,a=n.idCelda,c=n.idTren;e[a].idTren=c})),c)),W=Object(S.c)(j.C,{}),V=n(45),w=n(21),D=Object(S.c)({enclavamientosActive:!0,showCoords:!0,showEstado:{show:!1},playRate:1,showTeletipo:!0},(o={},Object(v.a)(o,w.a,(function(e,t){e.enclavamientosActive=t.payload})),Object(v.a)(o,w.g,(function(e,t){e.showTeletipo=t.payload})),Object(v.a)(o,w.e,(function(e,t){e.showCoords=t.payload})),Object(v.a)(o,w.f,(function(e,t){e.showEstado=Object(V.a)({},t.payload,{show:!0})})),Object(v.a)(o,w.b,(function(e){e.showEstado={show:!1}})),Object(v.a)(o,w.d,(function(e,t){e.showConfig=t.payload})),Object(v.a)(o,w.c,(function(e,t){e.playRate=t.payload})),o)),N=n(55),q=Object(S.c)([],(i={},Object(v.a)(i,N.b,(function(e,t){e.push(t.payload)})),Object(v.a)(i,N.a,(function(){return[]})),i)),k=Object(S.c)(j.D,{}),B=Object(S.c)(j.E,(r={},Object(v.a)(r,y.plainSetLuzEstado,(function(e,t){var n=t.payload,a=n.idSenal,c=n.luz,o=n.estado;e[a][c]=o})),Object(v.a)(r,y.setSenalManual,(function(e,t){var n=t.payload,a=n.idSenal,c=n.manual;e[a].manual=c})),r)),T=n(27),z=Object(S.c)({},(s={},Object(v.a)(s,T.d,(function(e,t){var n=t.payload;e[n.idTren]=n})),Object(v.a)(s,T.g,(function(e,t){var n=t.payload;e[n.idTren]=Object(V.a)({},e[n.idTren],{},n)})),Object(v.a)(s,T.e,(function(e,t){delete e[t.payload]})),s)),I=n(9),M=n(35),L=n(51),J=n(52),K=function(e){return Object(I.useSelector)((function(t){return Object(J.b)(t,e)}))},Q=n(50),R=n(44),U=function(e){return Object(I.useSelector)((function(t){return Object(R.a)(t,e)}))},F=function(e){var t=Object(I.useSelector)((function(t){return Object(R.b)(t,e)})),n=Object(I.useDispatch)(),a=Object(d.useCallback)((function(){return n(Object(Q.h)(e,!t))}),[e,n,t]);return[t,a]},H=function(e){var t=Object(I.useDispatch)();return function(n){return t(Object(Q.g)(e,n))}},Y=n(61),Z=n(60),G=function(){var e=Object(I.useDispatch)();return function(t,n,a){return e(Object(Y.a)(t,n,a))}},P=n(31),X=function(){var e=Object(I.useSelector)(P.f),t=Object(I.useDispatch)(),n=Object(d.useCallback)((function(){return t(Object(w.g)(!e))}),[t,e]);return[e,n]},$=function(){var e=Object(I.useSelector)(P.d),t=Object(I.useDispatch)(),n=Object(d.useCallback)((function(){return t(Object(w.e)(!e))}),[t,e]);return[e,n]},ee=function(){var e=Object(I.useSelector)(P.c),t=Object(I.useDispatch)(),n=Object(d.useCallback)((function(){return t(Object(w.d)(!e))}),[t,e]);return[e,n]},te=function(){var e=Object(I.useSelector)(P.e),t=Object(I.useDispatch)();return{estado:e,hideEstado:function(){return t(Object(w.b)())},showEstado:function(e){return t(Object(w.f)(e))}}},ne=n(53),ae=function(e){return Object(I.useSelector)((function(t){return Object(ne.a)(t,e)}))},ce=function(){return Object(I.useSelector)(ne.b)},oe=n(33),ie=n(56),re=function(e){return Object(I.useSelector)((function(t){return Object(oe.a)(t,e)}))},se=n(54),de=Object(S.a)({reducer:{alertas:O,bloques:x,celdas:g,enclavamientos:W,options:D,pendientes:q,sectores:k,senales:B,trenes:z}}),ue=n(12),le=n(20),me=n.n(le),_e=n(69),pe=n(92),be=n(42),fe=n(93);function Ee(){return u.a.createElement("svg",{viewBox:"0 0 32 32",className:me.a.svg},u.a.createElement("path",{d:"M 16 16 L 32 0",className:me.a.alt}),u.a.createElement("path",{d:"M 16 0 V 16 32",className:me.a.main}))}function Ae(){return u.a.createElement("svg",{viewBox:"0 0 32 32",className:me.a.svg},u.a.createElement("path",{d:"M 16 0 V 16 16",className:me.a.alt}),u.a.createElement("path",{d:"M 16 32 V 16 16 L 32 0",className:me.a.main}))}function Ce(){return u.a.createElement("svg",{viewBox:"0 0 32 32",className:me.a.svg},u.a.createElement("path",{d:"M 16 16 V 16 0",className:me.a.alt}),u.a.createElement("path",{d:"M 16 16 L 32 0",className:me.a.alt}),u.a.createElement("path",{d:"M 16 32 V 16 16 L 0 0",className:me.a.main}))}function Se(){return u.a.createElement("svg",{viewBox:"0 0 32 32",className:me.a.svg},u.a.createElement("path",{d:"M 16 16 L 32 0",className:me.a.alt}),u.a.createElement("path",{d:"M 16 16 L 0 0",className:me.a.alt}),u.a.createElement("path",{d:"M 16 32 V 16 0",className:me.a.main}))}function ve(){return u.a.createElement("svg",{viewBox:"0 0 32 32",className:me.a.svg},u.a.createElement("path",{d:"M 16 16 V 16 0",className:me.a.alt}),u.a.createElement("path",{d:"M 16 16 L 0 0",className:me.a.alt}),u.a.createElement("path",{d:"M 16 32 V 16 16 L 32 0",className:me.a.main}))}var ye=n(46),Oe=n.n(ye);function je(){var e=function(){var e=Object(I.useDispatch)();return[Object(I.useSelector)(L.b),function(){return e(Object(M.c)())},function(t){return e(Object(M.b)(t))}]}(),t=Object(_.a)(e,3),n=t[0],a=t[1],c=t[2],o=X(),i=Object(_.a)(o,2)[1],r=Object(d.useState)(!1),s=Object(_.a)(r,2),l=s[0],m=s[1];return n.length?u.a.createElement(f.a,{className:Oe.a.fixed,size:"sm"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Fecha"),u.a.createElement("th",null,"Celda"),u.a.createElement("th",null,"Tren"),u.a.createElement("th",null,"Mensaje"),u.a.createElement("th",null,u.a.createElement(E.a,null,u.a.createElement(A.a,{type:"checkbox",checked:l,onChange:function(e){return m((function(e){return!e}))}}),"\xa0Ver Info")),u.a.createElement("th",{className:Oe.a.buttons},u.a.createElement(C.a,{className:Oe.a.close,title:"Borrar todas las notificaciones",onClick:function(e){return Object(ue.c)(e)&&a()},size:"sm"},u.a.createElement(be.b,null)),u.a.createElement(C.a,{close:!0,onClick:function(e){return Object(ue.c)(e)&&i()},title:"Cerrar Teletipo",size:"sm"})))),u.a.createElement("tbody",null,n.filter((function(e){return!!l||e.nivel!==j.j})).map((function(e){return u.a.createElement("tr",{className:Oe.a[e.nivel],key:e.fecha},u.a.createElement("td",null,new Date(e.fecha).toLocaleString()),u.a.createElement("td",null,e.idCelda),u.a.createElement("td",null,e.idTren),u.a.createElement("td",{colSpan:2},e.msg),u.a.createElement("td",null,u.a.createElement(be.b,{onClick:(t=e.fecha,function(e){return Object(ue.c)(e)&&c(t)})})));var t})))):u.a.createElement("p",{className:Oe.a.fixed},"No hay mensajes")}var he=n(6),xe=n.n(he),ge={N:50,NE:100,E:100,SE:100,S:50,SW:0,W:0,NW:0},We={N:0,NE:0,E:50,SE:100,S:100,SW:100,W:50,NW:0},Ve={N:270,NE:315,E:0,SE:45,S:90,SW:135,W:180,NW:225},we=["N","NE","E","SE","S","SW","W","NW"],De=n(47),Ne=n.n(De),qe=["","verde","amarillo","rojo"];function ke(e){var t=e.idSenal,n=e.placement,a=re(t),c=te().showEstado;if(!a)return null;var o=a.dir,i=a.centro,r=a.izq,s=a.der,d=38;return u.a.createElement("g",{className:xe()(Ne.a.senal,Object(v.a)({},Ne.a.manual,!a.soloManual&&a.manual)),transform:"rotate(".concat(Ve[o],", ").concat(50,", ").concat(50,")"),onClick:function(e){return Object(ue.c)(e)&&c({tipo:j.u,idCelda:Object(ue.a)({idSector:a.idSector,x:a.x,y:a.y}),idSenal:Object(ue.a)(a),placement:n})}},u.a.createElement("line",{x1:95,y1:d,x2:82,y2:d}),u.a.createElement("line",{x1:95,y1:33,x2:95,y2:43}),u.a.createElement("circle",{className:Ne.a[qe[i]],cx:r||s?77:85,cy:d,r:5}),r&&u.a.createElement("circle",{className:Ne.a[qe[r]],cx:85,cy:43,r:5}),s&&u.a.createElement("circle",{className:Ne.a[qe[s]],cx:85,cy:33,r:5}))}var Be=n(37),Te=n.n(Be);function ze(e){var t=e.dir,n=e.estilo,a=void 0===n?"tramo-normal":n;return u.a.createElement("line",{x1:50,y1:50,x2:ge[t],y2:We[t],className:Te.a[a]})}function Ie(e){var t=e.idCelda,n=U(t),a=K(n.idBloque)||n.idTren;return u.a.createElement("g",null,n.puntas.map((function(e,t){return u.a.createElement(ze,{dir:e,key:t,estilo:a?"tramo-ocupado":"tramo-normal"})})))}function Me(e){var t=e.idCelda,n=U(t),a=K(n.idBloque)||n.idTren;return u.a.createElement("g",null,u.a.createElement(ze,{key:"punta",dir:n.punta,estilo:a?"tramo-ocupado":"tramo-normal"}),Object.keys(n.ramas).map((function(e){return u.a.createElement(ze,{key:e,dir:n.ramas[e],estilo:n.posicion===e?a?"tramo-ocupado":"tramo-normal":"tramo-muerto"})})))}function Le(e){return u.a.createElement(Me,e)}function Je(e){var t=e.idCelda,n=U(t),a=K(n.idBloque)||n.idTren;return u.a.createElement("g",null,u.a.createElement(ze,{dir:n.punta,estilo:a?"tramo-ocupado":"tramo-normal"}),u.a.createElement("circle",{cx:50,cy:50,r:10,fill:a?"yellow":"black"}))}function Ke(e){var t=e.idCelda,n=U(t),a=K(n.idBloque)||n.idTren;return u.a.createElement("g",null,n.linea1.puntas.map((function(e,t){return u.a.createElement(ze,{dir:e,key:"l1".concat(t),estilo:a?"tramo-ocupado":"tramo-normal"})})),n.linea2.puntas.map((function(e,t){return u.a.createElement(ze,{dir:e,key:"l1".concat(t),estilo:a?"tramo-ocupado":"tramo-normal"})})))}Ie.whyDidYouRender=!1,Me.whyDidYouRender=!1;var Qe=n(58),Re=n.n(Qe);function Ue(e){var t=e.celda,n=function(){var e=Object(I.useDispatch)();return function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e(Object(T.a)(t,n,a))}}(),a=K(t.idBloque),c=function(e){return function(a){if(Object(ue.c)(a)){if(t.idTren)return;n(t,e)}}},o=[];if(!t.idTren&&!a)switch(t.tipo){case j.w:case j.c:t.despachador.forEach((function(e){e===t.punta&&o.push(e),e===t.ramas[t.posicion]&&o.push(e)}));break;default:o=t.despachador}return!t.idTren&&u.a.createElement(u.a.Fragment,null,u.a.createElement("circle",{cx:50,cy:50,r:9,className:Re.a.trenDespachador}),o.map((function(e){return u.a.createElement("g",{className:Re.a.flechaDespachador,onClick:c(e),key:e,transform:"rotate(".concat(Ve[e],", ").concat(50,", ").concat(50,")")},u.a.createElement("path",{d:"M 15,-8 L 23,0 15,8 z",transform:"translate(".concat(50,",").concat(50,")")}))})))}function Fe(e){var t,n=e.celda,a=(t=n.idTren,Object(I.useSelector)((function(e){return Object(se.a)(e,t)}))),c=a.speed/(a.maxSpeed||1);return u.a.createElement("g",{transform:"translate(".concat(42,", ").concat(42,")")},u.a.createElement("circle",{cx:8,cy:8,r:9,className:Re.a.tren},u.a.createElement("title",null,"".concat(n.idTren,"\nVelocidad: ").concat(a.speed,"\nFalta: ").concat(a.falta))),c&&1!==c?u.a.createElement("path",{d:"M 8 0 A 8 8 90 1 0 8 16 z",fill:"orange"}):null,u.a.createElement(fe.a,{color:c?"black":"red",size:"16px"}))}function He(e){var t,n=e.idCelda,a=e.cellsAcross,c=e.cellWidth,o=e.padLeft,i=e.padTop,r=U(n),s=(t=r.idBloque,Object(I.useSelector)((function(e){return Object(J.a)(e,t)}))),d=$(),l=Object(_.a)(d,1)[0],m=te().showEstado;if(!c||!r)return null;var p=r.x>a/2?"left":"right",b=r.desc||(l?"[".concat(r.x,",").concat(r.y,"]"):""),f=[];r.descr&&f.push("Celda: ".concat(r.descr)),f.push("Coordenadas: [".concat(r.x,",").concat(r.y,"]")),s&&f.push("Bloque: ".concat(s.descr)),r.idTren&&f.push("Con tren ".concat(r.idTren));var E,A={linea:Ie,cambio:Me,paragolpe:Je,cruce:Ke,triple:Le}[r.tipo];return u.a.createElement("div",{id:n,className:xe()(Te.a.rect,Object(v.a)({},Te.a.manual,r.manual)),style:{left:o+r.x*c,top:r.y*c+i,width:c,height:c},onClick:(E=r.tipo,function(e){return Object(ue.c)(e)&&m({tipo:E,idCelda:n,placement:p})}),title:f.join("\n")},u.a.createElement("svg",{viewBox:"0 0 ".concat(100," ").concat(100),width:c,height:c,className:Te.a.svg},u.a.createElement("text",{x:"0",y:"95",className:Te.a.text},b),s&&u.a.createElement("text",{textAnchor:"end",x:95,y:95,className:Te.a.text},s.descr),u.a.createElement(A,{idCelda:n}),we.map((function(e){return u.a.createElement(ke,{key:e,idSenal:Object(ue.a)(Object(V.a)({},r,{dir:e})),placement:p})})),Array.isArray(r.despachador)&&u.a.createElement(Ue,{celda:r}),r.idTren?u.a.createElement(Fe,{celda:r}):null))}He.whyDidYouRender=!1;var Ye=n(103),Ze=n.n(Ye);function Ge(e){var t=e.idSector,n=ae(t),a=function(e){return Object(I.useSelector)((function(t){return Object(R.c)(t,e)}))}(t),c=Object(ue.d)(),o=n.ancho,i=n.descrCorta,r=n.alto,s=Math.min(Math.floor(c.width/o),o>8?100:200),l=(c.width-o*s)/2;return Object(d.useEffect)((function(){document.title="CTC - ".concat(i)})),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:Ze.a.sector},a.map((function(e){return u.a.createElement(He,{key:e.idCelda,idCelda:e.idCelda,cellsAcross:o,cellWidth:s,padLeft:l,padTop:48})}))),u.a.createElement("div",{style:{height:(r+2)*s}}))}var Pe=n(108),Xe=n(174),$e=n(162),et=n(157),tt=n(163),nt=n(164),at=n(165),ct=n(166),ot=n(167),it=n(158),rt=n(19),st=n.n(rt);function dt(e){var t=e.celda,n=t.posicion,a=t.idCelda,c=H(a),o=F(a),i=Object(_.a)(o,2),r=i[0],s=i[1];return u.a.createElement(et.a,null,u.a.createElement(it.a,{className:st.a.cambio},u.a.createElement(C.a,{size:"sm",onClick:function(e){return Object(ue.c)(e)&&c(j.o)},color:n===j.o?"primary":"outline-secondary"},u.a.createElement(Ee,null)),u.a.createElement(C.a,{size:"sm",onClick:function(e){return Object(ue.c)(e)&&c(j.h)},color:n===j.h?"primary":"outline-secondary"},u.a.createElement(Ae,null))),u.a.createElement(C.a,{className:st.a.manual,size:"sm",color:r?"danger":"outline-info",onClick:function(e){return Object(ue.c)(e)&&s()}},r?u.a.createElement(_e.b,null):u.a.createElement(_e.a,null)))}function ut(e){var t=e.celda,n=t.posicion,a=t.idCelda,c=H(a),o=F(a),i=Object(_.a)(o,2),r=i[0],s=i[1];return u.a.createElement(et.a,null,u.a.createElement(it.a,null,u.a.createElement(C.a,{size:"sm",onClick:function(e){return Object(ue.c)(e)&&c(j.k)},color:n===j.k?"primary":"outline-secondary"},u.a.createElement(Ce,null)),u.a.createElement(C.a,{size:"sm",onClick:function(e){return Object(ue.c)(e)&&c(j.d)},color:n===j.d?"primary":"outline-secondary"},u.a.createElement(Se,null)),u.a.createElement(C.a,{size:"sm",onClick:function(e){return Object(ue.c)(e)&&c(j.g)},color:n===j.g?"primary":"outline-secondary"},u.a.createElement(ve,null))),u.a.createElement(C.a,{className:st.a.manual,size:"sm",color:r?"danger":"outline-info",onClick:function(e){return Object(ue.c)(e)&&s()}},r?u.a.createElement(_e.b,null):u.a.createElement(_e.a,null)))}var lt=n(159),mt=n(160),_t=n(161);function pt(e){var t=e.luz,n=e.estado,a=e.onSetEstado;return u.a.createElement(u.a.Fragment,null,u.a.createElement(it.a,{vertical:!0},u.a.createElement(C.a,{size:"sm",color:n===j.r?"danger":"outline-danger",onClick:function(e){return Object(ue.c)(e)&&a(t,j.r)}},u.a.createElement(pe.a,null)),u.a.createElement(C.a,{size:"sm",color:n===j.a?"warning":"outline-warning",onClick:function(e){return Object(ue.c)(e)&&a(t,j.a)}},u.a.createElement(pe.a,null)),u.a.createElement(C.a,{size:"sm",color:n===j.x?"success":"outline-success",onClick:function(e){return Object(ue.c)(e)&&a(t,j.x)}},u.a.createElement(pe.a,null))))}function bt(e){var t=e.senal,n=t.izq,a=t.soloManual,c=t.centro,o=t.der,i=t.idSenal,r=function(){var e=Object(I.useDispatch)();return function(t,n,a){return e(Object(ie.c)(t,n,a))}}(),s=function(e){var t=Object(I.useSelector)((function(t){return Object(oe.b)(t,e)})),n=Object(I.useDispatch)(),a=Object(d.useCallback)((function(){return n(Object(ie.d)(e,!t))}),[e,n,t]);return[t,a]}(i),l=Object(_.a)(s,2),m=l[0],p=l[1],b=G(),f=function(e,t){(m||a)&&r(i,e,t),a&&b(i,j.u,!0)};return u.a.createElement(et.a,null,u.a.createElement(lt.a,null,u.a.createElement("div",{className:xe()(Object(v.a)({},st.a.disabled,!a&&!m))},u.a.createElement(mt.a,null,u.a.createElement(_t.a,null,u.a.createElement("div",{className:xe()(st.a.pushDown,Object(v.a)({},st.a.hidden,!n))},u.a.createElement(pt,{luz:"izq",estado:n,onSetEstado:f}))),u.a.createElement(_t.a,null,u.a.createElement("div",{className:xe()(Object(v.a)({},st.a.hidden,!c))},u.a.createElement(pt,{luz:"centro",estado:c,onSetEstado:f}))),u.a.createElement(_t.a,null,u.a.createElement("div",{className:xe()(st.a.senal,st.a.pushDown,Object(v.a)({},st.a.hidden,!o))},u.a.createElement(pt,{luz:"der",estado:o,onSetEstado:f}))))),!a&&u.a.createElement(mt.a,null,u.a.createElement(C.a,{className:st.a.manual,size:"sm",color:m?"danger":"outline-info",onClick:function(){p(),m&&b(i,j.u,!0)}},m?u.a.createElement(_e.b,null):u.a.createElement(_e.a,null)))))}function ft(){var e=te().estado,t=e.show,n=Object(Pe.a)(e,["show"]);return t&&u.a.createElement(Et,n)}function Et(e){var t,n=e.idCelda,a=e.idSenal,c=e.placement,o=Object(d.useState)(),i=Object(_.a)(o,2),r=i[0],s=i[1],l=U(n),m=re(a),p=ee(),b=Object(_.a)(p,1)[0],f=te().hideEstado,E=(t=a||n,Object(I.useSelector)((function(e){return Object(Z.a)(e,t)}))),A=Object(d.useState)(),S=Object(_.a)(A,2),v=S[0],y=S[1],O=m||l.tipo===j.c||l.tipo===j.w;r!==n&&(y(O?"Cmd.":a?"Se\xf1al":"Celda"),s(n));var h=function(e){v!==e&&y(e)},x=function(){return u.a.createElement(u.a.Fragment,null,m&&u.a.createElement(bt,{senal:m}),!m&&l.tipo===j.c&&u.a.createElement(dt,{celda:l}),!m&&l.tipo===j.w&&u.a.createElement(ut,{celda:l}))};return u.a.createElement(Xe.a,{isOpen:!(!b&&!O),target:n,placement:c},u.a.createElement($e.a,null,m?"Se\xf1al":"Celda"," ",l.x," ",l.y," ",m&&m.dir,u.a.createElement(C.a,{close:!0,className:st.a.close,onClick:function(e){return Object(ue.c)(e)&&f()}})),u.a.createElement(et.a,null,b?u.a.createElement(u.a.Fragment,null,u.a.createElement(tt.a,{pills:!0,className:st.a.solapas},O&&u.a.createElement(nt.a,{title:"Mostrar Comandos"},u.a.createElement(at.a,{className:xe()(st.a.solapa,{active:"Cmd."===v}),onClick:function(){h("Cmd.")}},"Cmd.")),m&&u.a.createElement(nt.a,{title:"Mostrar COnfiguraci\xf3n Se\xf1al"},u.a.createElement(at.a,{className:xe()(st.a.solapa,{active:"Se\xf1al"===v}),onClick:function(){h("Se\xf1al")}},"Se\xf1al")),u.a.createElement(nt.a,{title:"Mostrar Configuraci\xf3n Celda"},u.a.createElement(at.a,{className:xe()(st.a.solapa,{active:"Celda"===v}),onClick:function(){h("Celda")}},"Celda")),E&&u.a.createElement(nt.a,{title:"Mostrar Configuraci\xf3n Enclavamientos"},u.a.createElement(at.a,{className:xe()(st.a.solapa,{active:"Encl."===v}),onClick:function(){h("Encl.")}},"Encl."))," "),u.a.createElement(ct.a,{activeTab:v},O&&u.a.createElement(ot.a,{tabId:"Cmd."},u.a.createElement(x,null)),m&&u.a.createElement(ot.a,{tabId:"Se\xf1al"},u.a.createElement("pre",null,JSON.stringify(m,null,2))),u.a.createElement(ot.a,{tabId:"Celda"},u.a.createElement("pre",null,JSON.stringify(l,null,2))),E&&u.a.createElement(ot.a,{tabId:"Encl."},u.a.createElement("pre",null,JSON.stringify(E,null,2))))):u.a.createElement(x,null)))}var At=n(78),Ct=n.n(At);function St(){var e=function(){var e=Object(I.useDispatch)();return[Object(I.useSelector)(L.a),function(){return e(Object(M.a)())}]}(),t=Object(_.a)(e,2),n=t[0],a=n.idCelda,c=n.idTren,o=n.msg,i=n.time,r=t[1],s=function(){var e=Object(I.useDispatch)();return function(){return e(Object(T.c)())}}(),d=G();return!!a&&u.a.createElement(Xe.a,{isOpen:!!a,target:a},u.a.createElement($e.a,{className:Ct.a.alarma},c,u.a.createElement(C.a,{close:!0,className:Ct.a.close,onClick:function(e){Object(ue.c)(e)&&(r(),s(),d(a,j.c))}})),u.a.createElement(et.a,null,u.a.createElement("p",null,new Date(i).toLocaleString()),o))}function vt(){var e=Object(b.e)().idSector;return u.a.createElement(u.a.Fragment,null,u.a.createElement(ft,null),u.a.createElement(Ge,{idSector:e}),u.a.createElement(St,null))}var yt=n(168),Ot=n(169),jt=n(170),ht=n(171),xt=n(175),gt=n(176),Wt=n(172),Vt=n(173),wt=n(105),Dt=n.n(wt);function Nt(){var e=function(){var e=Object(I.useDispatch)();return function(){return e(Object(T.f)())}}(),t=function(){var e=Object(I.useSelector)(P.b),t=Object(I.useDispatch)();return[e,Object(d.useCallback)((function(e){return t(Object(w.c)(e))}),[t])]}(),n=Object(_.a)(t,2),a=n[0],c=n[1],o=Object(d.useState)(),i=Object(_.a)(o,2),r=i[0],s=i[1];return Object(d.useEffect)((function(){return a&&!r&&s(setInterval(e,1e3/a)),function(){r&&(clearInterval(r),s(0))}}),[e,r,a]),u.a.createElement(it.a,{title:"Velocidad de la animaci\xf3n\n(ciclos por segundo)",className:Dt.a.rate},u.a.createElement(C.a,{outline:0!==a,color:a?"secondary":"danger",onClick:function(){return c(0)}},"0"),u.a.createElement(C.a,{outline:.5!==a,onClick:function(){return c(.5)}},"\xbd"),u.a.createElement(C.a,{outline:1!==a,onClick:function(){return c(1)}},"1"),u.a.createElement(C.a,{outline:2!==a,onClick:function(){return c(2)}},"2"),u.a.createElement(C.a,{outline:5!==a,onClick:function(){return c(5)}},"5"))}var qt=n(106),kt=n.n(qt);function Bt(){var e=Object(d.useState)(!1),t=Object(_.a)(e,2),n=t[0],a=t[1],c=Object(b.f)("/sector/:idSector"),o=c&&c.params.idSector,i=ce(),r=ae(o),s=function(){var e=Object(I.useSelector)(P.a),t=Object(I.useDispatch)(),n=Object(d.useCallback)((function(){return t(Object(w.a)(!e))}),[t,e]);return[e,n]}(),l=Object(_.a)(s,2),m=l[0],f=l[1],E=X(),A=Object(_.a)(E,2),C=A[0],S=A[1],v=$(),y=Object(_.a)(v,2),O=y[0],j=y[1],h=ee(),x=Object(_.a)(h,2),g=x[0],W=x[1],V=te().hideEstado,D=Object(d.useState)(),N=Object(_.a)(D,2),q=N[0],k=N[1],B=function(){o!==q&&(V(),k(o))};return u.a.createElement(u.a.Fragment,null,u.a.createElement(yt.a,{color:"light",light:!0,expand:"md",fixed:"top"},u.a.createElement(Ot.a,{color:"default",href:"/CTC",title:"Volver al inicio"},"CTC"),u.a.createElement(jt.a,{onClick:function(){return a(!n)}}),u.a.createElement(ht.a,{isOpen:n,navbar:!0},u.a.createElement(tt.a,{className:"mr-auto",navbar:!0},u.a.createElement(xt.a,{nav:!0,inNavbar:!0},u.a.createElement(gt.a,{nav:!0,caret:!0,title:r?r.descr:"Seleccione sector a visualizar"},r?r.descrCorta:"Sectores"),u.a.createElement(Wt.a,null,i.map((function(e){return u.a.createElement(Vt.a,{tag:p.b,to:"/sector/".concat(e.idSector),key:e.idSector,title:e.descr,active:o===e.idSector,onClick:B},e.descrCorta)})))),u.a.createElement(xt.a,{nav:!0,inNavbar:!0},u.a.createElement(gt.a,{nav:!0,caret:!0,title:"Opciones de visualizaci\xf3n"},"Opciones"),u.a.createElement(Wt.a,null,u.a.createElement(Vt.a,{onClick:S,active:C},"Teletipo"),u.a.createElement(Vt.a,{onClick:f,active:m},"Enclavamientos"),u.a.createElement(Vt.a,{onClick:j,active:O},"Coordenadas"),u.a.createElement(Vt.a,{onClick:W,active:g},"Mostrar Config."))),u.a.createElement(nt.a,null,u.a.createElement(Nt,null)),u.a.createElement(nt.a,null,u.a.createElement(at.a,{href:"https://github.com/Satyam/reactc2",title:"Ver c\xf3digo fuente en GitHub"},u.a.createElement(be.a,null)," Github"))))),u.a.createElement("div",{className:kt.a.spacer}," "))}var Tt=n(107),zt=n.n(Tt);function It(e){e.username,e.sector,e.photoURL;var t=X(),n=Object(_.a)(t,1)[0];return ce().length?u.a.createElement(p.a,{basename:"/CTC"},u.a.createElement(Bt,null),u.a.createElement(b.a,{path:"/sector/:idSector"},u.a.createElement(vt,{idSector:"constitucion"})),n&&u.a.createElement(je,null)):u.a.createElement("img",{alt:"loading...",src:zt.a})}n(151);m.a.render(u.a.createElement(I.Provider,{store:de},u.a.createElement(It,null)),document.getElementById("root"))},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return a.b})),n.d(t,"b",(function(){return c.a})),n.d(t,"c",(function(){return c.b})),n.d(t,"d",(function(){return o.b})),n.d(t,"e",(function(){return i.a})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return s.a})),n.d(t,"h",(function(){return s.b})),n.d(t,"j",(function(){return d.b})),n.d(t,"i",(function(){return d.a}));n(51);var a=n(52),c=n(44),o=n(60),i=n(31),r=function(e,t){return e.pendientes.includes(t)},s=(n(53),n(33)),d=n(54)},19:function(e,t,n){e.exports={label:"styles_label__3r56c",pushDown:"styles_pushDown__1r8Ml",cambio:"styles_cambio__K-Ynx",manual:"styles_manual__1SN6-",hidden:"styles_hidden__1mPWU",close:"styles_close__1b-CL",disabled:"styles_disabled__3q6v_",solapas:"styles_solapas__1cybr",solapa:"styles_solapa__1ZYE5"}},20:function(e,t,n){e.exports={main:"styles_main__QJA2q",alt:"styles_alt__EQPaw",svg:"styles_svg__6vY_Q",filled:"styles_filled__2ZKFa"}},21:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u}));var a=n(7),c=Object(a.b)("showTeletipo"),o=Object(a.b)("enclavamientosActive"),i=Object(a.b)("showCoords"),r=Object(a.b)("showEstado"),s=Object(a.b)("hideEstado"),d=Object(a.b)("showConfig"),u=Object(a.b)("setPlayRate")},27:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return _})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return A}));var a=n(15),c=n(7),o=n(16),i=n(10),r=n(12),s=n(4),d=n(49),u=0,l=Object(c.b)("addTren",(function(e,t,n,a){return{payload:{idCelda:e.idCelda,x:e.x,y:e.y,dir:t,speed:n,maxSpeed:n,idTren:a}}}));function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(a){var c="_tren_".concat(u++),o=e.idCelda;a(Object(i.setAviso)(s.j,o,c,"Parte tren ".concat(c," desde ").concat(o))),a(l(e,t,n,c)),a(Object(i.addTrenToCelda)(o,c)),a(Object(i.setEnclavamientos)(o,d.b))}}var _=Object(c.b)("doDelTren");function p(e){return function(t){var n=e.idTren,a=e.idCelda;a&&t(Object(i.removeTrenFromCelda)(a,n)),t(Object(i.setAviso)(s.j,a,n,"Borrado el tren ".concat(n," en ").concat(a))),t(_(e.idTren))}}function b(){return function(e,t){Object(o.j)(t()).forEach((function(t){return e(p(t))}))}}var f=Object(c.b)("setTren");function E(e){return function(t,n){var c=Object(o.i)(n(),e);if(c){if("X"===c.dir)return t(p(c));var u=Object(o.b)(n(),c.idCelda);if(c.falta)t(f({idTren:e,falta:c.speed>c.falta?0:c.falta-c.speed}));else{var l=function(e,t,n){switch(n){case s.m:return[e,t-1,s.s];case s.n:return[e+1,t-1,s.v];case s.i:return[e+1,t,s.y];case s.t:return[e+1,t+1,s.p];case s.s:return[e,t+1,s.m];case s.v:return[e-1,t+1,s.n];case s.y:return[e-1,t,s.i];case s.p:return[e-1,t-1,s.t]}}(c.x,c.y,c.dir),m=Object(a.a)(l,3),_=m[0],b=m[1],E=m[2],A=c.speed;if(u.x!==_||u.y!==b){var C=Object(r.a)({idSector:u.idSector,x:_,y:b}),S=Object(r.a)({idSector:u.idSector,x:_,y:b,dir:E}),v=Object(o.b)(n(),C);if(v){var y=Object(o.g)(n(),S);if(y){var O=[s.k,s.d,s.g].reduce((function(e,t){return t in y?Math.min(e,y[t]):e}),s.r);switch(O){case s.r:return c.speed&&t(Object(i.setAviso)(s.z,c.idCelda,e,"Tren ".concat(e," detenido en ").concat(c.idCelda))),void t(f({idTren:e,speed:0}));case s.a:if(0===c.speed)return t(Object(i.setAviso)(s.j,c.idCelda,e,"Tren ".concat(e," reanuda la marcha en ").concat(c.idCelda))),void t(f({idTren:e,speed:c.maxSpeed/2}));A=c.maxSpeed/2;break;case s.x:if(0===c.speed)return t(Object(i.setAviso)(s.j,c.idCelda,e,"Tren ".concat(e," reanuda la marcha en ").concat(c.idCelda))),void t(f({idTren:e,speed:c.maxSpeed}));A=c.maxSpeed;break;default:throw new Error("Se\xf1al ".concat(S," d\xe1 se\xf1al imposible ").concat(O))}}if(v.idTren)return void t(Object(i.setAlarma)(C,e,"Colisi\xf3n en ".concat(v.idCelda," entre ").concat(e," y ").concat(v.idTren)));var j=Object(o.a)(n(),v.idBloque);if(j&&j!==e)return void t(Object(i.setAlarma)(C,e,"Tren ".concat(e," invade el bloque ").concat(v.idBloque," ocupado por ").concat(j)));var h=function(e,t){function n(t){var n=t.puntas;return n.includes(e)?n[0]===e?n[1]:n[0]:void 0}switch(t.tipo){case s.l:return n(t);case s.c:case s.w:return t.punta===e?t.ramas[t.posicion]:t.ramas[t.posicion]===e?t.punta:void 0;case s.q:return t.punta===e?"X":void 0;case s.e:return n(t.linea1)||n(t.linea2)}}(E,v);if(!h)return void t(Object(i.setAlarma)(v.idCelda,e,"Tren ".concat(e," no encuentra v\xeda correspondiente en celda ").concat(v.idCelda)));t(Object(i.removeTrenFromCelda)(u.idCelda,e)),t(Object(i.addTrenToCelda)(C,e)),t(f({idTren:e,dir:h,x:_,y:b,speed:A,idCelda:C,falta:v.longitud||1}))}else t(p(c))}else t(f(c));t(Object(i.setEnclavamientos)(c.idCelda,d.b))}}}}function A(){return function(e,t){return Object(o.j)(t()).forEach((function(t){window.requestAnimationFrame((function(){return e(E(t.idTren))}))}))}}},31:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s}));var a=function(e){return e.options.showTeletipo},c=function(e){return e.options.enclavamientosActive},o=function(e){return e.options.showCoords},i=function(e){return e.options.showEstado},r=function(e){return e.options.showConfig},s=function(e){return e.options.playRate}},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var a=n(22),c=function(e,t){return e.senales[t]},o=function(e,t){return e.senales[t].manual},i=Object(a.a)((function(e){return e.senales}),(function(e,t){return t}),(function(e,t){var n=Object.values(e).filter((function(e){return e.idSector===t.idSector&&e.x===t.x&&e.y===t.y}));return n.length?n:null}))},35:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l}));var a=n(7),c=n(10),o=n(4),i=Object(a.b)("doSetAlarma");function r(e,t,n){return function(a){a(d(o.f,e,t,n)),a(i({idCelda:e,idTren:t,msg:n,fecha:Date.now()})),a(Object(c.setPlayRate)(0))}}var s=Object(a.b)("clearAlarma"),d=Object(a.b)("setAviso",(function(e,t,n,a){return{payload:{nivel:e,idCelda:t,idTren:n,msg:a,fecha:Date.now()}}})),u=Object(a.b)("clearAvisos"),l=Object(a.b)("clearAviso")},37:function(e,t,n){e.exports={rect:"styles_rect__1zG3J",manual:"styles_manual__139ZI",text:"styles_text__JdA5Q",svg:"styles_svg__rOGuq","tramo-normal":"styles_tramo-normal__JZdRz","tramo-muerto":"styles_tramo-muerto__LXymi","tramo-ocupado":"styles_tramo-ocupado__LrGlb"}},4:function(e,t,n){"use strict";n.d(t,"D",(function(){return c})),n.d(t,"B",(function(){return o})),n.d(t,"C",(function(){return i})),n.d(t,"E",(function(){return r})),n.d(t,"A",(function(){return s}));var a=n(49);n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.b})),n.d(t,"c",(function(){return a.c})),n.d(t,"d",(function(){return a.d})),n.d(t,"e",(function(){return a.e})),n.d(t,"f",(function(){return a.f})),n.d(t,"g",(function(){return a.g})),n.d(t,"h",(function(){return a.h})),n.d(t,"i",(function(){return a.i})),n.d(t,"j",(function(){return a.j})),n.d(t,"k",(function(){return a.k})),n.d(t,"l",(function(){return a.l})),n.d(t,"m",(function(){return a.m})),n.d(t,"n",(function(){return a.n})),n.d(t,"o",(function(){return a.o})),n.d(t,"p",(function(){return a.p})),n.d(t,"q",(function(){return a.q})),n.d(t,"r",(function(){return a.r})),n.d(t,"s",(function(){return a.s})),n.d(t,"t",(function(){return a.t})),n.d(t,"u",(function(){return a.u})),n.d(t,"v",(function(){return a.v})),n.d(t,"w",(function(){return a.w})),n.d(t,"x",(function(){return a.x})),n.d(t,"y",(function(){return a.y})),n.d(t,"z",(function(){return a.z}));var c={circulo:{descrCorta:"5- C\xedrculo",descr:"Dando vueltas y vueltas ",ancho:6,alto:5,idSector:"circulo"},constitucion:{descrCorta:"Constituci\xf3n",descr:"Estaci\xf3n Constituci\xf3n, Ciudad de Buenos Aires, Argentina",ancho:11,alto:7,idSector:"constitucion"},cruceDobleCambio:{descrCorta:"2- Doble cambio de v\xedas",descr:"V\xedas paralelas con cambios cruzados y se\xf1ales",ancho:2,alto:2,idSector:"cruceDobleCambio"},dosVias:{descrCorta:"4- Dos v\xedas paralelas",descr:"Dos v\xedas paralelas con despacho de trenes",ancho:10,alto:2,idSector:"dosVias"},senalesEncadenadas:{descrCorta:"3- Se\xf1ales encadenadas",descr:"Se\xf1al en amarillo cuando la siguiente est\xe1 en rojo",ancho:4,alto:1,idSector:"senalesEncadenadas"},simpleDesvio:{descrCorta:"1- Desv\xedo Simple",descr:"Una \xfanica celda con un cambio y se\xf1al",ancho:1,alto:1,idSector:"simpleDesvio"}},o={circulo_1_0:{tipo:"linea",x:1,y:0,puntas:["SW","E"],despachador:["SW"],idCelda:"circulo_1_0",idSector:"circulo"},circulo_2_0:{tipo:"linea",x:2,y:0,puntas:["W","SE"],despachador:["SE"],idCelda:"circulo_2_0",idSector:"circulo"},circulo_0_1:{tipo:"linea",x:0,y:1,puntas:["NE","S"],idCelda:"circulo_0_1",idSector:"circulo"},circulo_0_3:{tipo:"linea",x:0,y:3,puntas:["N","SE"],idCelda:"circulo_0_3",idSector:"circulo"},circulo_1_4:{tipo:"linea",x:1,y:4,puntas:["NW","E"],idCelda:"circulo_1_4",idSector:"circulo"},circulo_3_1:{tipo:"linea",x:3,y:1,puntas:["NW","S"],idCelda:"circulo_3_1",idSector:"circulo"},circulo_3_3:{tipo:"cambio",x:3,y:3,punta:"N",ramas:{normal:"SW",desviado:"S"},posicion:"normal",idCelda:"circulo_3_3",idSector:"circulo"},circulo_2_4:{tipo:"cruce",x:2,y:4,linea1:{puntas:["W","NE"]},linea2:{puntas:["NW","SE"]},idCelda:"circulo_2_4",idSector:"circulo"},circulo_0_2:{tipo:"triple",posicion:"centro",punta:"N",ramas:{centro:"S",izq:"SE",der:"SW"},x:0,y:2,idCelda:"circulo_0_2",idSector:"circulo"},circulo_5_1:{tipo:"triple",posicion:"centro",punta:"N",ramas:{centro:"S",izq:"SE",der:"SW"},x:5,y:1,despachador:["N","S","SE","SW"],idCelda:"circulo_5_1",idSector:"circulo"},circulo_5_3:{tipo:"cambio",x:5,y:3,posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"NE"},despachador:["W","E","NE"],idCelda:"circulo_5_3",idSector:"circulo"},circulo_3_4:{tipo:"paragolpe",x:3,y:4,punta:"N",idCelda:"circulo_3_4",idSector:"circulo"},circulo_3_2:{tipo:"linea",x:3,y:2,puntas:["N","S"],idCelda:"circulo_3_2",idSector:"circulo"},circulo_1_3:{tipo:"linea",x:1,y:3,puntas:["NW","SE"],idCelda:"circulo_1_3",idSector:"circulo"},constitucion_5_0:{tipo:"linea",puntas:["N","S"],x:5,y:0,idCelda:"constitucion_5_0",idSector:"constitucion"},constitucion_6_0:{tipo:"linea",puntas:["N","S"],x:6,y:0,idCelda:"constitucion_6_0",idSector:"constitucion"},constitucion_5_1:{tipo:"linea",puntas:["N","SW"],x:5,y:1,idCelda:"constitucion_5_1",idSector:"constitucion"},constitucion_6_1:{tipo:"linea",puntas:["N","SE"],x:6,y:1,idCelda:"constitucion_6_1",idSector:"constitucion"},constitucion_4_2:{tipo:"linea",puntas:["NE","SW"],x:4,y:2,idCelda:"constitucion_4_2",idSector:"constitucion"},constitucion_7_2:{tipo:"linea",puntas:["NW","SE"],x:7,y:2,idCelda:"constitucion_7_2",idSector:"constitucion"},constitucion_3_3:{tipo:"linea",puntas:["NE","SW"],x:3,y:3,idCelda:"constitucion_3_3",idSector:"constitucion"},constitucion_4_3:{tipo:"linea",puntas:["SW","E"],x:4,y:3,idCelda:"constitucion_4_3",idSector:"constitucion"},constitucion_5_3:{tipo:"linea",puntas:["W","E"],x:5,y:3,idCelda:"constitucion_5_3",idSector:"constitucion"},constitucion_6_3:{tipo:"linea",puntas:["W","E"],x:6,y:3,idCelda:"constitucion_6_3",idSector:"constitucion"},constitucion_7_3:{tipo:"linea",puntas:["W","E"],x:7,y:3,idCelda:"constitucion_7_3",idSector:"constitucion"},constitucion_8_3:{tipo:"cambio",posicion:"normal",punta:"SE",ramas:{normal:"NW",desviado:"W"},x:8,y:3,idCelda:"constitucion_8_3",idSector:"constitucion"},constitucion_0_4:{tipo:"paragolpe",punta:"E",x:0,y:4,idCelda:"constitucion_0_4",idSector:"constitucion"},constitucion_1_4:{tipo:"linea",puntas:["W","E"],x:1,y:4,idCelda:"constitucion_1_4",idSector:"constitucion"},constitucion_2_4:{tipo:"triple",posicion:"centro",punta:"W",ramas:{centro:"E",izq:"NE",der:"SE"},x:2,y:4,idCelda:"constitucion_2_4",idSector:"constitucion"},constitucion_3_4:{tipo:"cruce",linea1:{puntas:["SW","NE"]},linea2:{puntas:["W","E"]},x:3,y:4,idCelda:"constitucion_3_4",idSector:"constitucion"},constitucion_4_4:{tipo:"cambio",posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"SE"},x:4,y:4,idCelda:"constitucion_4_4",idSector:"constitucion"},constitucion_5_4:{tipo:"cambio",posicion:"normal",punta:"E",ramas:{normal:"W",desviado:"SW"},x:5,y:4,idCelda:"constitucion_5_4",idSector:"constitucion"},constitucion_6_4:{tipo:"linea",puntas:["W","SE"],x:6,y:4,idCelda:"constitucion_6_4",idSector:"constitucion"},constitucion_9_4:{tipo:"linea",puntas:["NW","SE"],x:9,y:4,idCelda:"constitucion_9_4",idSector:"constitucion"},constitucion_0_5:{tipo:"paragolpe",punta:"E",x:0,y:5,idCelda:"constitucion_0_5",idSector:"constitucion"},constitucion_1_5:{tipo:"linea",puntas:["W","E"],x:1,y:5,idCelda:"constitucion_1_5",idSector:"constitucion"},constitucion_2_5:{tipo:"cambio",posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"NE"},x:2,y:5,idCelda:"constitucion_2_5",idSector:"constitucion"},constitucion_3_5:{tipo:"cruce",linea1:{puntas:["NW","SE"]},linea2:{puntas:["W","E"]},x:3,y:5,idCelda:"constitucion_3_5",idSector:"constitucion"},constitucion_4_5:{tipo:"cambio",posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"NE"},x:4,y:5,idCelda:"constitucion_4_5",idSector:"constitucion"},constitucion_5_5:{tipo:"cambio",posicion:"normal",punta:"E",ramas:{normal:"W",desviado:"NW"},x:5,y:5,idCelda:"constitucion_5_5",idSector:"constitucion"},constitucion_6_5:{tipo:"linea",puntas:["W","SE"],x:6,y:5,idCelda:"constitucion_6_5",idSector:"constitucion"},constitucion_7_5:{tipo:"linea",puntas:["NW","SE"],x:7,y:5,idCelda:"constitucion_7_5",idSector:"constitucion"},constitucion_10_5:{tipo:"linea",puntas:["NW","SE"],x:10,y:5,idCelda:"constitucion_10_5",idSector:"constitucion"},cruceDobleCambio_0_0:{tipo:"cambio",x:0,y:0,posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"SE"},idCelda:"cruceDobleCambio_0_0",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0:{tipo:"cambio",x:1,y:0,posicion:"normal",punta:"E",ramas:{normal:"W",desviado:"SW"},idCelda:"cruceDobleCambio_1_0",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1:{tipo:"cambio",x:0,y:1,posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"NE"},idCelda:"cruceDobleCambio_0_1",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1:{tipo:"cambio",x:1,y:1,posicion:"normal",punta:"E",ramas:{normal:"W",desviado:"NW"},idCelda:"cruceDobleCambio_1_1",idSector:"cruceDobleCambio"},dosVias_0_0:{tipo:"linea",x:0,y:0,puntas:["E","W"],despachador:["E"],bloque:"uno",idCelda:"dosVias_0_0",idSector:"dosVias",idBloque:"dosVias__uno"},dosVias_1_0:{tipo:"linea",x:1,y:0,puntas:["E","W"],bloque:"uno",idCelda:"dosVias_1_0",idSector:"dosVias",idBloque:"dosVias__uno"},dosVias_2_0:{tipo:"linea",x:2,y:0,puntas:["E","W"],bloque:"dos",idCelda:"dosVias_2_0",idSector:"dosVias",idBloque:"dosVias__dos"},dosVias_3_0:{tipo:"linea",x:3,y:0,puntas:["E","W"],bloque:"dos",idCelda:"dosVias_3_0",idSector:"dosVias",idBloque:"dosVias__dos"},dosVias_4_0:{tipo:"linea",x:4,y:0,puntas:["E","W"],bloque:"dos",idCelda:"dosVias_4_0",idSector:"dosVias",idBloque:"dosVias__dos"},dosVias_5_0:{tipo:"linea",x:5,y:0,puntas:["E","W"],bloque:"tres",idCelda:"dosVias_5_0",idSector:"dosVias",idBloque:"dosVias__tres"},dosVias_6_0:{tipo:"linea",x:6,y:0,puntas:["E","W"],bloque:"tres",idCelda:"dosVias_6_0",idSector:"dosVias",idBloque:"dosVias__tres"},dosVias_7_0:{tipo:"linea",x:7,y:0,puntas:["E","W"],bloque:"cuatro",idCelda:"dosVias_7_0",idSector:"dosVias",idBloque:"dosVias__cuatro"},dosVias_8_0:{tipo:"linea",x:8,y:0,puntas:["E","W"],bloque:"cuatro",idCelda:"dosVias_8_0",idSector:"dosVias",idBloque:"dosVias__cuatro"},dosVias_9_0:{tipo:"linea",x:9,y:0,puntas:["E","W"],despachador:["W"],idCelda:"dosVias_9_0",idSector:"dosVias"},dosVias_0_1:{tipo:"linea",x:0,y:1,puntas:["E","W"],despachador:["E"],idCelda:"dosVias_0_1",idSector:"dosVias"},dosVias_1_1:{tipo:"linea",x:1,y:1,puntas:["E","W"],idCelda:"dosVias_1_1",idSector:"dosVias"},dosVias_2_1:{tipo:"linea",x:2,y:1,puntas:["E","W"],idCelda:"dosVias_2_1",idSector:"dosVias"},dosVias_3_1:{tipo:"linea",x:3,y:1,puntas:["E","W"],idCelda:"dosVias_3_1",idSector:"dosVias"},dosVias_4_1:{tipo:"linea",x:4,y:1,puntas:["E","W"],idCelda:"dosVias_4_1",idSector:"dosVias"},dosVias_5_1:{tipo:"linea",x:5,y:1,puntas:["E","W"],idCelda:"dosVias_5_1",idSector:"dosVias"},dosVias_6_1:{tipo:"linea",x:6,y:1,puntas:["E","W"],idCelda:"dosVias_6_1",idSector:"dosVias"},dosVias_7_1:{tipo:"linea",x:7,y:1,puntas:["E","W"],idCelda:"dosVias_7_1",idSector:"dosVias"},dosVias_8_1:{tipo:"linea",x:8,y:1,puntas:["E","W"],idCelda:"dosVias_8_1",idSector:"dosVias"},dosVias_9_1:{tipo:"linea",x:9,y:1,puntas:["E","W"],despachador:["W"],idCelda:"dosVias_9_1",idSector:"dosVias"},senalesEncadenadas_0_0:{tipo:"linea",puntas:["W","E"],x:0,y:0,idCelda:"senalesEncadenadas_0_0",idSector:"senalesEncadenadas"},senalesEncadenadas_1_0:{tipo:"linea",puntas:["W","E"],x:1,y:0,idCelda:"senalesEncadenadas_1_0",idSector:"senalesEncadenadas"},senalesEncadenadas_2_0:{tipo:"linea",puntas:["W","E"],x:2,y:0,idCelda:"senalesEncadenadas_2_0",idSector:"senalesEncadenadas"},senalesEncadenadas_3_0:{tipo:"linea",puntas:["W","E"],x:3,y:0,idCelda:"senalesEncadenadas_3_0",idSector:"senalesEncadenadas"},simpleDesvio_0_0:{tipo:"cambio",x:0,y:0,posicion:"normal",punta:"W",ramas:{normal:"E",desviado:"NE"},idCelda:"simpleDesvio_0_0",idSector:"simpleDesvio"}},i={constitucion_4_4:{x:4,y:4,tipo:"cambio",dependencias:[{x:5,y:5,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:4,y:5,tipo:"cambio",desviado:"normal"}],idEncl:"constitucion_4_4",idSector:"constitucion"},constitucion_4_5:{x:4,y:5,tipo:"cambio",dependencias:[{x:5,y:4,tipo:"cambio",normal:"normal",desviado:"desviado"}],idEncl:"constitucion_4_5",idSector:"constitucion"},constitucion_5_4:{x:5,y:4,tipo:"cambio",dependencias:[{x:4,y:5,tipo:"cambio",normal:"normal",desviado:"desviado"}],idEncl:"constitucion_5_4",idSector:"constitucion"},constitucion_5_5:{x:5,y:5,tipo:"cambio",dependencias:[{x:4,y:4,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:4,y:5,tipo:"cambio",desviado:"normal"}],idEncl:"constitucion_5_5",idSector:"constitucion"},constitucion_2_4_W:{x:2,y:4,dir:"W",tipo:"senal",dependencias:[{x:2,y:4,tipo:"cambio",izq:{centro:3,der:3},centro:{izq:3,der:3},der:{izq:3,centro:3}}],idEncl:"constitucion_2_4_W",idSector:"constitucion"},constitucion_4_4_W:{x:4,y:4,dir:"W",tipo:"senal",dependencias:[{x:4,y:4,tipo:"cambio",normal:{der:3},desviado:{centro:3,der:2}},{x:5,y:4,tipo:"cambio",desviado:{centro:3,der:3}}],idEncl:"constitucion_4_4_W",idSector:"constitucion"},constitucion_8_3_SE:{x:8,y:3,dir:"SE",tipo:"senal",dependencias:[{x:8,y:3,tipo:"cambio",normal:{izq:3},desviado:{izq:2,centro:3}}],idEncl:"constitucion_8_3_SE",idSector:"constitucion"},cruceDobleCambio_0_0:{x:0,y:0,tipo:"cambio",dependencias:[{x:1,y:1,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:0,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"cruceDobleCambio_0_0",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1:{x:0,y:1,tipo:"cambio",dependencias:[{x:1,y:0,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:0,y:0,tipo:"cambio",desviado:"normal"}],idEncl:"cruceDobleCambio_0_1",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0:{x:1,y:0,tipo:"cambio",dependencias:[{x:0,y:1,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:1,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"cruceDobleCambio_1_0",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1:{x:1,y:1,tipo:"cambio",dependencias:[{x:0,y:0,tipo:"cambio",normal:"normal",desviado:"desviado"},{x:0,y:1,tipo:"cambio",desviado:"normal"}],idEncl:"cruceDobleCambio_1_1",idSector:"cruceDobleCambio"},cruceDobleCambio_0_0_W:{x:0,y:0,dir:"W",tipo:"senal",dependencias:[{x:0,y:0,tipo:"cambio",normal:{der:3},desviado:{centro:3,der:2}},{x:1,y:0,tipo:"cambio",desviado:{centro:3,der:3}}],idEncl:"cruceDobleCambio_0_0_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0_E:{x:1,y:0,dir:"E",tipo:"senal",dependencias:[{x:1,y:0,tipo:"cambio",normal:{izq:3},desviado:{centro:3,izq:2}},{x:0,y:0,tipo:"cambio",desviado:{centro:3,izq:3}}],idEncl:"cruceDobleCambio_1_0_E",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1_W:{x:0,y:1,dir:"W",tipo:"senal",dependencias:[{x:0,y:1,tipo:"cambio",normal:{izq:3},desviado:{centro:3,izq:2}},{x:1,y:1,tipo:"cambio",desviado:{centro:3,izq:3}}],idEncl:"cruceDobleCambio_0_1_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1_E:{x:1,y:1,dir:"E",tipo:"senal",dependencias:[{x:1,y:1,tipo:"cambio",normal:{der:3},desviado:{centro:3,der:2}},{x:0,y:1,tipo:"cambio",desviado:{centro:3,der:3}}],idEncl:"cruceDobleCambio_1_1_E",idSector:"cruceDobleCambio"},dosVias_2_0_W:{x:2,y:0,dir:"W",tipo:"senal",dependencias:[{tipo:"bloque",bloque:"dos",luzAfectada:"centro"},{x:5,y:0,dir:"W",tipo:"senal",luces:[{luzOrigen:"centro",cuando:3,luzAfectada:"centro",estado:2}]}],idEncl:"dosVias_2_0_W",idSector:"dosVias"},dosVias_5_0_W:{x:5,y:0,dir:"W",tipo:"senal",dependencias:[{tipo:"bloque",bloque:"tres",luzAfectada:"centro"},{x:7,y:0,dir:"W",tipo:"senal",luces:[{luzOrigen:"centro",cuando:3,luzAfectada:"centro",estado:2}]}],idEncl:"dosVias_5_0_W",idSector:"dosVias"},dosVias_7_0_W:{x:7,y:0,dir:"W",tipo:"senal",dependencias:[{tipo:"bloque",bloque:"cuatro",luzAfectada:"centro"}],idEncl:"dosVias_7_0_W",idSector:"dosVias"},dosVias_1_0_E:{x:1,y:0,dir:"E",tipo:"senal",dependencias:[{tipo:"bloque",bloque:"uno",luzAfectada:"centro"}],idEncl:"dosVias_1_0_E",idSector:"dosVias"},dosVias_4_0_E:{x:4,y:0,dir:"E",tipo:"senal",dependencias:[{tipo:"bloque",bloque:"dos",luzAfectada:"centro"},{x:1,y:0,dir:"E",tipo:"senal",luces:[{luzOrigen:"centro",cuando:3,luzAfectada:"centro",estado:2}]}],idEncl:"dosVias_4_0_E",idSector:"dosVias"},dosVias_6_0_E:{x:6,y:0,dir:"E",tipo:"senal",dependencias:[{tipo:"bloque",bloque:"tres",luzAfectada:"centro"},{x:4,y:0,dir:"E",tipo:"senal",luces:[{luzOrigen:"centro",cuando:3,luzAfectada:"centro",estado:2}]}],idEncl:"dosVias_6_0_E",idSector:"dosVias"},dosVias_8_0_E:{x:8,y:0,dir:"E",tipo:"senal",dependencias:[{tipo:"bloque",bloque:"cuatro",luzAfectada:"centro"},{x:6,y:0,dir:"E",tipo:"senal",luces:[{luzOrigen:"centro",cuando:3,luzAfectada:"centro",estado:2}]}],idEncl:"dosVias_8_0_E",idSector:"dosVias"},senalesEncadenadas_0_0_W:{x:0,y:0,dir:"W",tipo:"senal",dependencias:[{x:3,y:0,dir:"W",tipo:"senal",luces:[{luzOrigen:"centro",cuando:3,luzAfectada:"centro",estado:2}]}],idEncl:"senalesEncadenadas_0_0_W",idSector:"senalesEncadenadas"},simpleDesvio_0_0_W:{x:0,y:0,dir:"W",tipo:"senal",dependencias:[{x:0,y:0,tipo:"cambio",normal:{izq:3},desviado:{izq:2,centro:3}}],idEncl:"simpleDesvio_0_0_W",idSector:"simpleDesvio"}},r={constitucion_5_3_E:{centro:1,dir:"E",x:5,y:3,idSenal:"constitucion_5_3_E",idSector:"constitucion"},constitucion_8_3_SE:{dir:"SE",centro:1,izq:3,x:8,y:3,idSenal:"constitucion_8_3_SE",idSector:"constitucion"},constitucion_2_4_W:{dir:"W",centro:1,izq:3,der:3,x:2,y:4,idSenal:"constitucion_2_4_W",idSector:"constitucion"},constitucion_4_4_W:{dir:"W",centro:1,der:3,x:4,y:4,idSenal:"constitucion_4_4_W",idSector:"constitucion"},cruceDobleCambio_0_0_W:{dir:"W",centro:1,der:3,x:0,y:0,idSenal:"cruceDobleCambio_0_0_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0_E:{dir:"E",centro:1,izq:3,x:1,y:0,idSenal:"cruceDobleCambio_1_0_E",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1_W:{dir:"W",centro:1,izq:3,x:0,y:1,idSenal:"cruceDobleCambio_0_1_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1_E:{dir:"E",centro:1,der:3,x:1,y:1,idSenal:"cruceDobleCambio_1_1_E",idSector:"cruceDobleCambio"},dosVias_2_0_W:{dir:"W",centro:1,x:2,y:0,idSenal:"dosVias_2_0_W",idSector:"dosVias"},dosVias_5_0_W:{dir:"W",centro:1,x:5,y:0,idSenal:"dosVias_5_0_W",idSector:"dosVias"},dosVias_7_0_W:{dir:"W",centro:1,x:7,y:0,idSenal:"dosVias_7_0_W",idSector:"dosVias"},dosVias_1_0_E:{dir:"E",centro:1,x:1,y:0,idSenal:"dosVias_1_0_E",idSector:"dosVias"},dosVias_4_0_E:{dir:"E",centro:1,x:4,y:0,idSenal:"dosVias_4_0_E",idSector:"dosVias"},dosVias_6_0_E:{dir:"E",centro:1,x:6,y:0,idSenal:"dosVias_6_0_E",idSector:"dosVias"},dosVias_8_0_E:{dir:"E",centro:1,x:8,y:0,idSenal:"dosVias_8_0_E",idSector:"dosVias"},senalesEncadenadas_0_0_W:{dir:"W",centro:1,x:0,y:0,idSenal:"senalesEncadenadas_0_0_W",idSector:"senalesEncadenadas"},senalesEncadenadas_3_0_W:{dir:"W",centro:1,x:3,y:0,soloManual:!0,idSenal:"senalesEncadenadas_3_0_W",idSector:"senalesEncadenadas"},simpleDesvio_0_0_W:{dir:"W",centro:1,izq:3,x:0,y:0,idSenal:"simpleDesvio_0_0_W",idSector:"simpleDesvio"}},s={dosVias__uno:{celdas:["dosVias_0_0","dosVias_1_0"],descr:"uno"},dosVias__dos:{celdas:["dosVias_2_0","dosVias_3_0","dosVias_4_0"],descr:"dos"},dosVias__tres:{celdas:["dosVias_5_0","dosVias_6_0"],descr:"tres"},dosVias__cuatro:{celdas:["dosVias_7_0","dosVias_8_0"],descr:"cuatro"}}},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(7),c=Object(a.b)("setBloqueOcupado",(function(e,t){return{payload:{idBloque:e,idTren:t}}}))},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var a=n(22),c=function(e,t){return e.celdas[t]},o=function(e,t){return!!e.celdas[t].manual},i=Object(a.a)((function(e){return e.celdas}),(function(e,t){return t}),(function(e,t){return Object.values(e).filter((function(e){return e.idSector===t}))}))},46:function(e,t,n){e.exports={info:"styles_info__2eaPP",warning:"styles_warning__Y2zSC",danger:"styles_danger__3Ef8R",fixed:"styles_fixed__3IULb",buttons:"styles_buttons__Of--i"}},47:function(e,t,n){e.exports={senal:"styles_senal__12UIJ",verde:"styles_verde__1oebA",rojo:"styles_rojo__2Q9wl",amarillo:"styles_amarillo__Dx2da",manual:"styles_manual__21pNp"}},49:function(e,t,n){"use strict";n.d(t,"l",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"w",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"q",(function(){return r})),n.d(t,"u",(function(){return s})),n.d(t,"x",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"r",(function(){return l})),n.d(t,"o",(function(){return m})),n.d(t,"h",(function(){return _})),n.d(t,"k",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"g",(function(){return f})),n.d(t,"m",(function(){return E})),n.d(t,"n",(function(){return A})),n.d(t,"i",(function(){return C})),n.d(t,"t",(function(){return S})),n.d(t,"s",(function(){return v})),n.d(t,"v",(function(){return y})),n.d(t,"y",(function(){return O})),n.d(t,"p",(function(){return j})),n.d(t,"b",(function(){return h})),n.d(t,"j",(function(){return x})),n.d(t,"z",(function(){return g})),n.d(t,"f",(function(){return W}));var a="linea",c="cambio",o="triple",i="cruce",r="paragolpe",s="senal",d=1,u=2,l=3,m="normal",_="desviado",p="izq",b="centro",f="der",E="N",A="NE",C="E",S="SE",v="S",y="SW",O="W",j="NW",h="bloque",x="info",g="warning",W="danger"},50:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return m})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return p}));var a=n(7),c=n(10),o=n(16),i=n(4),r=Object(a.b)("setCambio",(function(e,t){return{payload:{idCelda:e,posicion:t}}}));function s(e,t){return function(n,a){var s=Object(o.b)(a(),e);if(s.tipo!==i.c&&s.tipo!==i.w)throw new Error("Celda ".concat(e,"  no es un cambio"));return s.posicion!==t&&(!Object(o.f)(a(),e)&&(n(Object(c.setPendiente)(e)),n(r(e,t))))}}function d(e,t){return function(n,a){return n(s(e,t)),Object(o.c)(a(),e)||n(Object(c.setEnclavamientos)(e,i.c)),n(Object(c.clearPendientes)())}}var u=Object(a.b)("setCambioManual",(function(e,t){return{payload:{idCelda:e,manual:t}}})),l=Object(a.b)("removeTrenFromCelda",(function(e,t){return{payload:{idCelda:e,idTren:t}}}));function m(e,t){return function(n,a){n(l(e,t));var i=Object(o.b)(a(),e);i.idBloque&&n(Object(c.setBloqueOcupado)(i.idBloque,!1))}}var _=Object(a.b)("addTrenToCelda",(function(e,t){return{payload:{idCelda:e,idTren:t}}}));function p(e,t){return function(n,a){n(_(e,t));var i=Object(o.b)(a(),e);i.idBloque&&n(Object(c.setBloqueOcupado)(i.idBloque,t))}}},51:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var a=function(e){return e.alertas.alarma},c=function(e){return e.alertas.avisos}},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var a=n(22),c=function(e,t){return e.bloques[t]},o=Object(a.a)((function(e){return e.bloques}),(function(e,t){return t}),(function(e,t){var n=e[t];return n&&n.idTren}))},53:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var a=n(22),c=Object(a.a)((function(e){return e.sectores}),(function(e){return Object.values(e).map((function(e){return{idSector:e.idSector,descr:e.descr,descrCorta:e.descrCorta}})).sort((function(e,t){var n=e.descrCorta.toUpperCase(),a=t.descrCorta.toUpperCase();return n<a?-1:n>a?1:0}))})),o=function(e,t){return e.sectores[t]}},54:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var a=function(e){return Object.values(e.trenes)},c=function(e,t){return e.trenes[t]}},55:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var a=n(7),c=Object(a.b)("setPendiente"),o=Object(a.b)("clearPendientes")},56:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l}));var a=n(7),c=n(10),o=n(16),i=n(33),r=n(4),s=Object(a.b)("setLuzEstado",(function(e,t,n){return{payload:{idSenal:e,luz:t,estado:n}}}));function d(e,t,n){return function(a,c){var i=Object(o.g)(c(),e);if(!i[t])throw new Error("Se\xf1al ".concat(e," no tiene luz ").concat(t));return i[t]!==n&&a(s(e,t,n))}}function u(e,t,n){return function(a,o){return a(d(e,t,n)),Object(i.b)(o(),e)||a(Object(c.setEnclavamientos)(e,r.u)),a(Object(c.clearPendientes)())}}var l=Object(a.b)("setSenalManual",(function(e,t){return{payload:{idSenal:e,manual:t}}}))},58:function(e,t,n){e.exports={flechaDespachador:"styles_flechaDespachador__jpfOH",trenDespachador:"styles_trenDespachador__1G3VE",disabled:"styles_disabled__10sbm",tren:"styles_tren__25vJ9"}},60:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(22),c=n(4),o=Object(a.a)((function(e){return e.enclavamientos}),(function(e,t){return t}),(function(e,t){return Object.values(e).filter((function(e){return e.idSector===t})).sort((function(e,t){return e.tipo===c.c&&t.tipo===c.u?-1:e.tipo===c.u&&t.tipo===c.c?1:0}))})),i=function(e,t){return e.enclavamientos[t]}},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(12),c=n(16),o=n(4),i=n(10);function r(e,t,n){return function(r,s){if(Object(c.e)(s())){var d;switch(t){case o.c:var u=Object(c.b)(s(),e);if(u.manual)return;d=u.idSector;break;case o.u:var l=Object(c.g)(s(),e);if(l.manual)return;d=l.idSector;break;case o.b:var m=Object(c.b)(s(),e);d=m.idSector}for(var _=function(){return Object(c.d)(s(),d).reduce((function(t,u){var l=u.x,m=u.y,_=u.dir,p=u.tipo,b=u.dependencias,f=Object(a.a)({idSector:d,x:l,y:m,dir:_});if(!n&&f===e)return t;switch(p){case o.c:return function(e,t){var n=Object(c.b)(s(),e);return t.reduce((function(t,u){var l=Object(a.a)({idSector:d,x:u.x,y:u.y}),m=u[Object(c.b)(s(),l).posicion]||(n.tipo===o.c?o.o:o.d);return m===n.posicion||Object(c.c)(s(),e)?t:!!r(Object(i.doSetCambio)(e,m))||t}),!1)}(f,b)||t;case o.u:return function(e,t){var n=Object(c.g)(s(),e);if(Object(c.h)(s(),e))return!1;var u={izq:o.x,centro:o.x,der:o.x};return t.forEach((function(t){var n=Object(a.a)({idSector:d,x:t.x,y:t.y,dir:t.dir});switch(t.tipo){case o.c:var i=t[Object(c.b)(s(),n).posicion]||{};Object.keys(i).forEach((function(e){u[e]=Math.max(u[e],i[e])}));break;case o.u:var r=Object(c.g)(s(),n);t.luces.forEach((function(e){var t=e.luzOrigen,n=e.cuando,a=e.luzAfectada,c=e.estado;r[t]===n&&(u[a]=Math.max(u[a],c))}));break;case o.b:!!Object(c.a)(s(),Object(a.b)(d,t.bloque))&&(u[t.luzAfectada]=o.r);break;default:throw new Error("Dependencia ".concat(t.idSource," de ").concat(e," tiene tipo desconocido: ").concat(t.tipo))}})),Object.keys(u).reduce((function(t,a){return a in n?n[a]===u[a]?t:!!r(Object(i.doSetLuzEstado)(e,a,u[a]))||t:t}),!1)}(f,b)||t;default:throw new Error("Celda ".concat(f," tiene enclavamiento desconocido ").concat(p))}}),!1)},p=9;p&&_();)p--;if(!p)throw new Error("Enclavamiento en loop por ".concat(e));return!!p}}}},78:function(e,t,n){e.exports={alarma:"styles_alarma__1_-OE",close:"styles_close__1Zwow"}},81:function(e,t){}},[[109,1,2]]]);
//# sourceMappingURL=main.8e62c202.chunk.js.map