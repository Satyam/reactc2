(this.webpackJsonpreactc2=this.webpackJsonpreactc2||[]).push([[0],{106:function(e,t,o){e.exports={sector:"styles_sector__1v7a1"}},108:function(e,t,o){e.exports={rate:"styles_rate__26o7Y"}},109:function(e,t){e.exports="data:image/gif;base64,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"},11:function(e,t,o){"use strict";var a=o(37);o.d(t,"clearAlarma",(function(){return a.a})),o.d(t,"clearAviso",(function(){return a.b})),o.d(t,"clearAvisos",(function(){return a.c})),o.d(t,"doSetAlarma",(function(){return a.d})),o.d(t,"setAlarma",(function(){return a.e})),o.d(t,"setAviso",(function(){return a.f}));var n=o(45);o.d(t,"setBloqueOcupado",(function(){return n.a}));var c=o(46);o.d(t,"addTrenToCelda",(function(){return c.a})),o.d(t,"doAddTrenToCelda",(function(){return c.b})),o.d(t,"doRemoveTrenFromCelda",(function(){return c.c})),o.d(t,"doSetCambio",(function(){return c.d})),o.d(t,"plainSetCambio",(function(){return c.e})),o.d(t,"removeTrenFromCelda",(function(){return c.f})),o.d(t,"setCambioManual",(function(){return c.g})),o.d(t,"setRebota",(function(){return c.i}));var i=o(61);o.d(t,"setAutomatizaciones",(function(){return i.a}));var r=o(19);o.d(t,"setPlayRate",(function(){return r.d}));var s=o(55);o.d(t,"clearPendientes",(function(){return s.a})),o.d(t,"setPendiente",(function(){return s.b}));var u=o(83);o.o(u,"doSetSenalEstado")&&o.d(t,"doSetSenalEstado",(function(){return u.doSetSenalEstado})),o.o(u,"plainSetSenalEstado")&&o.d(t,"plainSetSenalEstado",(function(){return u.plainSetSenalEstado})),o.o(u,"setSemaforoManual")&&o.d(t,"setSemaforoManual",(function(){return u.setSemaforoManual}));var d=o(56);o.d(t,"doSetSenalEstado",(function(){return d.a})),o.d(t,"plainSetSenalEstado",(function(){return d.b})),o.d(t,"setSemaforoManual",(function(){return d.c}));o(27)},110:function(e,t,o){e.exports=o(154)},14:function(e,t,o){"use strict";o.d(t,"c",(function(){return a.a})),o.d(t,"d",(function(){return a.b})),o.d(t,"e",(function(){return n.a})),o.d(t,"f",(function(){return n.b})),o.d(t,"a",(function(){return c.b})),o.d(t,"b",(function(){return i.a})),o.d(t,"g",(function(){return i.b})),o.d(t,"h",(function(){return r})),o.d(t,"i",(function(){return s.a})),o.d(t,"j",(function(){return s.b})),o.d(t,"l",(function(){return u.b})),o.d(t,"k",(function(){return u.a}));o(51);var a=o(52),n=o(42),c=o(60),i=o(31),r=function(e,t){return e.pendientes.includes(t)},s=(o(53),o(35)),u=o(54)},154:function(e,t,o){"use strict";o.r(t);var a,n,c,i,r,s,u=o(1),d=o.n(u),l=o(41),_=o.n(l),m=o(16),b=o(57),f=o(38),p=o(156),E=o(157),A=o(158),O=o(105),S=o(7),y=o(12),C=o(11),j=Object(S.c)({alarma:{},avisos:[]},(a={},Object(y.a)(a,C.doSetAlarma,(function(e,t){e.alarma=t.payload})),Object(y.a)(a,C.clearAlarma,(function(e){e.alarma={}})),Object(y.a)(a,C.setAviso,(function(e,t){e.avisos.unshift(t.payload)})),Object(y.a)(a,C.clearAviso,(function(e,t){var o=e.avisos.findIndex((function(e){return e.fecha===t.payload}));-1!==o&&e.avisos.splice(o,1)})),Object(y.a)(a,C.clearAvisos,(function(e){e.avisos=[]})),a)),x=o(28),v=o(65),h=o(4),V=o(45),q=Object(S.c)(h.C,Object(y.a)({},V.a,(function(e,t){var o=t.payload,a=o.idBloque,n=Object(v.a)(o,["idBloque"]);e[a]=Object(x.a)({},e[a],{},n)}))),g=Object(S.c)(h.D,(n={},Object(y.a)(n,C.plainSetCambio,(function(e,t){var o=t.payload,a=o.idCelda,n=o.posicion;e[a].posicion=n})),Object(y.a)(n,C.setCambioManual,(function(e,t){var o=t.payload,a=o.idCelda,n=o.manual;e[a].manual=n})),Object(y.a)(n,C.doRemoveTrenFromCelda,(function(e,t){e[t.payload.idCelda].idTren=void 0})),Object(y.a)(n,C.doAddTrenToCelda,(function(e,t){var o=t.payload,a=o.idCelda,n=o.idTren;e[a].idTren=n})),Object(y.a)(n,C.setRebota,(function(e,t){var o=t.payload,a=o.idCelda,n=o.rebota;e[a].rebota=n})),n)),W=Object(S.c)(h.B,{}),w=o(19),N=Object(S.c)({automatizacionesActive:!0,showCoords:!0,showEstado:{show:!1},playRate:1,showTeletipo:!0},(c={},Object(y.a)(c,w.a,(function(e,t){e.automatizacionesActive=t.payload})),Object(y.a)(c,w.h,(function(e,t){e.showTeletipo=t.payload})),Object(y.a)(c,w.f,(function(e,t){e.showCoords=t.payload})),Object(y.a)(c,w.g,(function(e,t){e.showEstado=Object(x.a)({},t.payload,{show:!0})})),Object(y.a)(c,w.b,(function(e){e.showEstado={show:!1}})),Object(y.a)(c,w.e,(function(e,t){e.showConfig=t.payload})),Object(y.a)(c,w.d,(function(e,t){e.playRate=t.payload})),Object(y.a)(c,w.c,(function(e,t){e.currIdSector=t.payload})),c)),D=o(55),k=Object(S.c)([],(i={},Object(y.a)(i,D.b,(function(e,t){e.push(t.payload)})),Object(y.a)(i,D.a,(function(){return[]})),i)),B=Object(S.c)(h.E,{}),T=Object(S.c)(h.F,(r={},Object(y.a)(r,C.plainSetSenalEstado,(function(e,t){var o=t.payload,a=o.idSemaforo,n=o.senal,c=o.estado;e[a][n]=c})),Object(y.a)(r,C.setSemaforoManual,(function(e,t){var o=t.payload,a=o.idSemaforo,n=o.manual;e[a].manual=n})),r)),I=o(27),M=Object(S.c)({},(s={},Object(y.a)(s,I.d,(function(e,t){var o=t.payload;e[o.idTren]=o})),Object(y.a)(s,I.g,(function(e,t){var o=t.payload;e[o.idTren]=Object(x.a)({},e[o.idTren],{},o)})),Object(y.a)(s,I.e,(function(e,t){delete e[t.payload]})),s)),z=o(10),L=o(37),R=o(51),J=o(52),K=function(e){return Object(z.useSelector)((function(t){return Object(J.b)(t,e)}))},U=o(46),Q=o(42),P=function(e){return Object(z.useSelector)((function(t){return Object(Q.a)(t,e)}))},F=function(e){var t=Object(z.useDispatch)();return function(o){return t(Object(U.h)(e,o))}},H=o(61),Z=o(60),G=function(){var e=Object(z.useDispatch)();return function(t,o,a){return e(Object(H.a)(t,o,a))}},Y=o(31),X=function(){var e=Object(z.useSelector)(Y.g),t=Object(z.useDispatch)(),o=Object(u.useCallback)((function(){return t(Object(w.h)(!e))}),[t,e]);return[e,o]},$=function(){var e=Object(z.useSelector)(Y.e),t=Object(z.useDispatch)(),o=Object(u.useCallback)((function(){return t(Object(w.f)(!e))}),[t,e]);return[e,o]},ee=function(){var e=Object(z.useSelector)(Y.d),t=Object(z.useDispatch)(),o=Object(u.useCallback)((function(){return t(Object(w.e)(!e))}),[t,e]);return[e,o]},te=function(){var e=Object(z.useSelector)(Y.f),t=Object(z.useDispatch)();return{estado:e,hideEstado:function(){return t(Object(w.b)())},showEstado:function(e){return t(Object(w.g)(e))}}},oe=o(53),ae=function(e){return Object(z.useSelector)((function(t){return Object(oe.a)(t,e)}))},ne=function(){return Object(z.useSelector)(oe.b)},ce=o(35),ie=o(56),re=function(e){return Object(z.useSelector)((function(t){return Object(ce.a)(t,e)}))},se=o(54),ue=Object(S.a)({reducer:{alertas:j,bloques:q,celdas:g,automatizaciones:W,options:N,pendientes:k,sectores:B,semaforos:T,trenes:M}}),de=o(9),le=o(21),_e=o.n(le),me=o(70),be=o(94),fe=o(44),pe=o(95);function Ee(){return d.a.createElement("svg",{viewBox:"0 0 32 32",className:_e.a.svg},d.a.createElement("path",{d:"M 16 16 L 32 0",className:_e.a.alt}),d.a.createElement("path",{d:"M 16 0 V 16 32",className:_e.a.main}))}function Ae(){return d.a.createElement("svg",{viewBox:"0 0 32 32",className:_e.a.svg},d.a.createElement("path",{d:"M 16 0 V 16 16",className:_e.a.alt}),d.a.createElement("path",{d:"M 16 32 V 16 16 L 32 0",className:_e.a.main}))}function Oe(){return d.a.createElement("svg",{viewBox:"0 0 32 32",className:_e.a.svg},d.a.createElement("path",{d:"M 16 16 V 16 0",className:_e.a.alt}),d.a.createElement("path",{d:"M 16 16 L 32 0",className:_e.a.alt}),d.a.createElement("path",{d:"M 16 32 V 16 16 L 0 0",className:_e.a.main}))}function Se(){return d.a.createElement("svg",{viewBox:"0 0 32 32",className:_e.a.svg},d.a.createElement("path",{d:"M 16 16 L 32 0",className:_e.a.alt}),d.a.createElement("path",{d:"M 16 16 L 0 0",className:_e.a.alt}),d.a.createElement("path",{d:"M 16 32 V 16 0",className:_e.a.main}))}function ye(){return d.a.createElement("svg",{viewBox:"0 0 32 32",className:_e.a.svg},d.a.createElement("path",{d:"M 16 16 V 16 0",className:_e.a.alt}),d.a.createElement("path",{d:"M 16 16 L 0 0",className:_e.a.alt}),d.a.createElement("path",{d:"M 16 32 V 16 16 L 32 0",className:_e.a.main}))}var Ce=o(47),je=o.n(Ce);function xe(){var e=function(){var e=Object(z.useDispatch)();return[Object(z.useSelector)(R.b),function(){return e(Object(L.c)())},function(t){return e(Object(L.b)(t))}]}(),t=Object(m.a)(e,3),o=t[0],a=t[1],n=t[2],c=X(),i=Object(m.a)(c,2)[1],r=Object(u.useState)(!1),s=Object(m.a)(r,2),l=s[0],_=s[1];return o.length?d.a.createElement(p.a,{className:je.a.fixed,size:"sm"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Fecha"),d.a.createElement("th",null,"Celda"),d.a.createElement("th",null,"Tren"),d.a.createElement("th",null,"Mensaje"),d.a.createElement("th",null,d.a.createElement(E.a,null,d.a.createElement(A.a,{type:"checkbox",checked:l,onChange:function(e){return _((function(e){return!e}))}}),"\xa0Ver Info")),d.a.createElement("th",{className:je.a.buttons},d.a.createElement(O.a,{className:je.a.close,title:"Borrar todas las notificaciones",onClick:function(e){return Object(de.d)(e)&&a()},size:"sm"},d.a.createElement(fe.b,null)),d.a.createElement(O.a,{close:!0,onClick:function(e){return Object(de.d)(e)&&i()},title:"Cerrar Teletipo",size:"sm"})))),d.a.createElement("tbody",null,o.filter((function(e){return!!l||e.nivel!==h.l})).map((function(e){return d.a.createElement("tr",{className:je.a[e.nivel],key:e.fecha},d.a.createElement("td",null,new Date(e.fecha).toLocaleString()),d.a.createElement("td",null,e.idCelda),d.a.createElement("td",null,e.numero),d.a.createElement("td",{colSpan:2},e.msg),d.a.createElement("td",null,d.a.createElement(fe.b,{onClick:(t=e.fecha,function(e){return Object(de.d)(e)&&n(t)})})));var t})))):d.a.createElement("p",{className:je.a.fixed},"No hay mensajes")}var ve=o(6),he=o.n(ve),Ve={N:50,NE:100,E:100,SE:100,S:50,SW:0,W:0,NW:0},qe={N:0,NE:0,E:50,SE:100,S:100,SW:100,W:50,NW:0},ge={N:270,NE:315,E:0,SE:45,S:90,SW:135,W:180,NW:225},We=["N","NE","E","SE","S","SW","W","NW"],we=o(48),Ne=o.n(we),De=["","verde","amarillo","rojo"];function ke(e){var t=e.idSemaforo,o=e.placement,a=re(t),n=a||{},c=n.idSector,i=n.x,r=n.y,s=n.dir,u=n.centro,l=n.izq,_=n.der,m=te().showEstado,b=Object(de.f)({onClick:function(){window.alert("not implemented yet")},onLongPress:function(e){return m({tipo:h.x,idCelda:Object(de.a)({idSector:c,x:i,y:r}),idSemaforo:Object(de.a)(a),placement:o})}});if(!a)return null;return d.a.createElement("g",Object.assign({className:he()(Ne.a.semaforo,Object(y.a)({},Ne.a.manual,!a.soloManual&&a.manual)),transform:"rotate(".concat(ge[s],", ").concat(50,", ").concat(50,")")},b),d.a.createElement("title",null,Object(de.e)(a)),d.a.createElement("line",{x1:95,y1:38,x2:82,y2:38}),d.a.createElement("line",{x1:95,y1:33,x2:95,y2:43}),d.a.createElement("circle",{className:Ne.a[De[u]],cx:l||_?77:85,cy:38,r:5}),l&&d.a.createElement("circle",{className:Ne.a[De[l]],cx:85,cy:43,r:5}),_&&d.a.createElement("circle",{className:Ne.a[De[_]],cx:85,cy:33,r:5}))}var Be=o(32),Te=o.n(Be);function Ie(e){var t=e.dir,o=e.estilo,a=void 0===o?"tramo-normal":o;return d.a.createElement("line",{x1:50,y1:50,x2:Ve[t],y2:qe[t],className:Te.a[a]})}function Me(e){var t=e.idCelda,o=P(t),a=K(o.idBloque)||o.idTren;return d.a.createElement("g",null,o.puntas.map((function(e,t){return d.a.createElement(Ie,{dir:e,key:t,estilo:a?"tramo-ocupado":"tramo-normal"})})))}function ze(e){var t=e.idCelda,o=P(t),a=K(o.idBloque)||o.idTren;return d.a.createElement("g",null,d.a.createElement(Ie,{key:"punta",dir:o.punta,estilo:a?"tramo-ocupado":"tramo-normal"}),o.ramas.map((function(e,t){return d.a.createElement(Ie,{key:e,dir:e,estilo:o.posicion===t?a?"tramo-ocupado":"tramo-normal":"tramo-muerto"})})))}function Le(e){var t=e.idCelda,o=P(t),a=K(o.idBloque)||o.idTren;return d.a.createElement("g",null,d.a.createElement(Ie,{dir:o.punta,estilo:a?"tramo-ocupado":"tramo-normal"}),d.a.createElement("circle",{cx:50,cy:50,r:10,fill:a?"yellow":"black"}),o.rebota&&d.a.createElement("line",{x1:50+100/6,y1:40,x2:50+100/6,y2:60,className:Te.a.rebota,transform:"rotate(".concat(ge[o.punta]+180,", ").concat(50,", ").concat(50,")")}))}function Re(e){var t=e.idCelda,o=P(t),a=K(o.idBloque)||o.idTren;return d.a.createElement("g",null,o.linea1.puntas.map((function(e,t){return d.a.createElement(Ie,{dir:e,key:"l1".concat(t),estilo:a?"tramo-ocupado":"tramo-normal"})})),o.linea2.puntas.map((function(e,t){return d.a.createElement(Ie,{dir:e,key:"l1".concat(t),estilo:a?"tramo-ocupado":"tramo-normal"})})))}Me.whyDidYouRender=!1,ze.whyDidYouRender=!1;var Je=o(58),Ke=o.n(Je);function Ue(e){var t=e.celda,o=function(){var e=Object(z.useDispatch)();return function(t,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e(Object(I.a)(t,o,a))}}(),a=K(t.idBloque),n=function(e){return function(a){if(Object(de.d)(a)){if(t.idTren)return;o(t,e)}}},c=[];if(!t.idTren&&!a)switch(t.tipo){case h.d:t.despachador.forEach((function(e){e===t.punta&&c.push(e),e===t.ramas[t.posicion]&&c.push(e)}));break;default:c=t.despachador}return!t.idTren&&d.a.createElement(d.a.Fragment,null,d.a.createElement("circle",{cx:50,cy:50,r:9,className:Ke.a.trenDespachador}),c.map((function(e){return d.a.createElement("g",Object.assign({className:Ke.a.flechaDespachador,onClick:n(e),key:e,transform:"rotate(".concat(ge[e],", ").concat(50,", ").concat(50,")")},de.c),d.a.createElement("path",{d:"M 11,-12 L 29,0 11,12 z",transform:"translate(".concat(50,",").concat(50,")")}))})))}function Qe(e){var t,o=e.celda,a=(t=o.idTren,Object(z.useSelector)((function(e){return Object(se.a)(e,t)}))),n=a.speed/(a.maxSpeed||1);return d.a.createElement("g",{transform:"translate(".concat(42,", ").concat(42,")")},d.a.createElement("circle",{cx:8,cy:8,r:9,className:Ke.a.tren},d.a.createElement("title",null,"".concat(a.numero,"\nVelocidad: ").concat(a.speed,"\nFalta: ").concat(a.falta))),n&&1!==n?d.a.createElement("path",{d:"M 8 0 A 8 8 90 1 0 8 16 z",fill:"orange"}):null,d.a.createElement(pe.a,{color:n?"black":"red",size:"16px"}))}function Pe(e){var t,o=e.idCelda,a=e.cellsAcross,n=e.cellWidth,c=e.padLeft,i=e.padTop,r=P(o),s=F(o),u=function(e){var t=Object(z.useSelector)((function(t){return Object(Q.a)(t,e)})),o=Object(z.useDispatch)();return function(){return o(Object(U.i)(e,!t.rebota))}}(o),l=(t=r.idBloque,Object(z.useSelector)((function(e){return Object(J.a)(e,t)}))),_=$(),b=Object(m.a)(_,1)[0],f=te().showEstado,p=Object(de.f)({onClick:function(e){switch(r.tipo){case h.d:s((r.posicion+1)%r.ramas.length);break;case h.t:u()}},onLongPress:function(e){f({tipo:r.tipo,idCelda:o,placement:E})}});if(!n||!r)return null;var E=r.x>a/2?"left":"right",A=b?"[".concat(r.x,",").concat(r.y,"]"):"",O=[];r.nombre&&O.push("Celda: ".concat(r.nombre)),O.push("Coordenadas: [".concat(r.x,",").concat(r.y,"]")),l&&O.push("Bloque: ".concat(l.nombre)),r.idTren&&O.push("Con tren ".concat(r.idTren));var S={linea:Me,cambio:ze,paragolpe:Le,cruce:Re}[r.tipo];return d.a.createElement("div",Object.assign({id:o,className:he()(Te.a.rect,Object(y.a)({},Te.a.manual,r.manual)),style:{left:c+r.x*n,top:r.y*n+i,width:n,height:n},title:O.join("\n")},p),d.a.createElement("svg",{viewBox:"0 0 ".concat(100," ").concat(100),width:n,height:n,className:Te.a.svg},d.a.createElement("text",{x:"0",y:"95",className:Te.a.text},A),r.nombre&&d.a.createElement("text",{textAnchor:"end",x:95,y:95,className:Te.a.text},r.nombre),d.a.createElement(S,{idCelda:o}),We.map((function(e){return d.a.createElement(ke,{key:e,idSemaforo:Object(de.a)(Object(x.a)({},r,{dir:e})),placement:E})})),Array.isArray(r.despachador)&&d.a.createElement(Ue,{celda:r}),r.idTren?d.a.createElement(Qe,{celda:r}):null))}Pe.whyDidYouRender=!1;var Fe=o(106),He=o.n(Fe);function Ze(e){var t=e.idSector,o=ae(t),a=function(e){return Object(z.useSelector)((function(t){return Object(Q.c)(t,e)}))}(t),n=Object(de.g)(),c=o.ancho,i=o.descrCorta,r=o.alto,s=Math.min(Math.floor(n.width/c),c>8?100:200),l=(n.width-c*s)/2;return Object(u.useEffect)((function(){document.title="CTC - ".concat(i)})),d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:He.a.sector},a.map((function(e){return d.a.createElement(Pe,{key:e.idCelda,idCelda:e.idCelda,cellsAcross:c,cellWidth:s,padLeft:l,padTop:60})}))),d.a.createElement("div",{style:{height:(r+2)*s}}))}var Ge=o(176),Ye=o(164),Xe=o(159),$e=o(165),et=o(166),tt=o(167),ot=o(168),at=o(169),nt=o(160),ct=o(20),it=o.n(ct);function rt(e){var t=e.celda,o=t.posicion,a=t.idCelda,n=F(a),c=function(e){var t=Object(z.useSelector)((function(t){return Object(Q.b)(t,e)})),o=Object(z.useDispatch)(),a=Object(u.useCallback)((function(){return o(Object(U.g)(e,!t))}),[e,o,t]);return[t,a]}(a),i=Object(m.a)(c,2),r=i[0],s=i[1],l=function(e){return Object(de.d)(e)&&n(h.r)},_=function(e){return Object(de.d)(e)&&n(h.i)};return d.a.createElement(Xe.a,null,d.a.createElement(nt.a,{className:it.a.cambio},2===t.ramas.length?d.a.createElement(d.a.Fragment,null,d.a.createElement(O.a,{size:"sm",onClick:l,color:o===h.r?"primary":"outline-secondary"},d.a.createElement(Ee,null)),d.a.createElement(O.a,{size:"sm",onClick:_,color:o===h.i?"primary":"outline-secondary"},d.a.createElement(Ae,null))):d.a.createElement(d.a.Fragment,null," ",d.a.createElement(O.a,{size:"sm",onClick:_,color:o===h.i?"primary":"outline-secondary"},d.a.createElement(Oe,null)),d.a.createElement(O.a,{size:"sm",onClick:l,color:o===h.r?"primary":"outline-secondary"},d.a.createElement(Se,null)),d.a.createElement(O.a,{size:"sm",onClick:function(e){return Object(de.d)(e)&&n(h.a)},color:o===h.a?"primary":"outline-secondary"},d.a.createElement(ye,null)))),d.a.createElement(O.a,{className:it.a.manual,size:"sm",color:r?"danger":"outline-info",onClick:function(e){return Object(de.d)(e)&&s()}},r?d.a.createElement(me.b,null):d.a.createElement(me.a,null)))}var st=o(161),ut=o(162),dt=o(163);function lt(e){var t=e.senal,o=e.estado,a=e.onSetEstado;return d.a.createElement(d.a.Fragment,null,d.a.createElement(nt.a,{vertical:!0},d.a.createElement(O.a,{size:"sm",color:o===h.b?"danger":"outline-danger",onClick:function(e){return Object(de.d)(e)&&a(t,h.b)}},d.a.createElement(be.a,null)),d.a.createElement(O.a,{size:"sm",color:o===h.u?"warning":"outline-warning",onClick:function(e){return Object(de.d)(e)&&a(t,h.u)}},d.a.createElement(be.a,null)),d.a.createElement(O.a,{size:"sm",color:o===h.n?"success":"outline-success",onClick:function(e){return Object(de.d)(e)&&a(t,h.n)}},d.a.createElement(be.a,null))))}function _t(e){var t=e.semaforo,o=t.izq,a=t.soloManual,n=t.centro,c=t.der,i=t.idSemaforo,r=function(){var e=Object(z.useDispatch)();return function(t,o,a){return e(Object(ie.d)(t,o,a))}}(),s=function(e){var t=Object(z.useSelector)((function(t){return Object(ce.b)(t,e)})),o=Object(z.useDispatch)(),a=Object(u.useCallback)((function(){return o(Object(ie.c)(e,!t))}),[e,o,t]);return[t,a]}(i),l=Object(m.a)(s,2),_=l[0],b=l[1],f=G(),p=function(e,t){(_||a)&&r(i,e,t),a&&f(i,h.x,!0)};return d.a.createElement(Xe.a,null,d.a.createElement(st.a,null,d.a.createElement("div",{className:he()(Object(y.a)({},it.a.disabled,!a&&!_))},d.a.createElement(ut.a,null,d.a.createElement(dt.a,null,d.a.createElement("div",{className:he()(it.a.pushDown,Object(y.a)({},it.a.hidden,!o))},d.a.createElement(lt,{senal:"izq",estado:o,onSetEstado:p}))),d.a.createElement(dt.a,null,d.a.createElement("div",{className:he()(Object(y.a)({},it.a.hidden,!n))},d.a.createElement(lt,{senal:"centro",estado:n,onSetEstado:p}))),d.a.createElement(dt.a,null,d.a.createElement("div",{className:he()(it.a.semaforo,it.a.pushDown,Object(y.a)({},it.a.hidden,!c))},d.a.createElement(lt,{senal:"der",estado:c,onSetEstado:p}))))),!a&&d.a.createElement(ut.a,null,d.a.createElement(O.a,{className:it.a.manual,size:"sm",color:_?"danger":"outline-info",onClick:function(){b(),_&&f(i,h.x,!0)}},_?d.a.createElement(me.b,null):d.a.createElement(me.a,null)))))}function mt(){var e=te().estado,t=e.show,o=Object(v.a)(e,["show"]);return t&&d.a.createElement(bt,o)}function bt(e){var t,o=e.idCelda,a=e.idSemaforo,n=e.placement,c=Object(u.useState)(),i=Object(m.a)(c,2),r=i[0],s=i[1],l=P(o),_=re(a),b=ee(),f=Object(m.a)(b,1)[0],p=te().hideEstado,E=(t=a||o,Object(z.useSelector)((function(e){return Object(Z.a)(e,t)}))),A=Object(u.useState)(),S=Object(m.a)(A,2),y=S[0],C=S[1],j=_||l.tipo===h.d;r!==o&&(C(j?"Cmd.":a?"Semaforo":"Celda"),s(o));var x=function(e){y!==e&&C(e)},v=function(){return d.a.createElement(d.a.Fragment,null,_&&d.a.createElement(_t,{semaforo:_}),!_&&l.tipo===h.d&&d.a.createElement(rt,{celda:l}))};return d.a.createElement(Ge.a,{isOpen:!(!f&&!j),target:o,placement:n},d.a.createElement(Ye.a,null,_?"Sem\xe1foro ".concat(Object(de.e)(_)):"Celda ".concat(Object(de.e)(l)),d.a.createElement(O.a,{close:!0,className:it.a.close,onClick:function(e){return Object(de.d)(e)&&p()}})),d.a.createElement(Xe.a,null,f?d.a.createElement(d.a.Fragment,null,d.a.createElement($e.a,{pills:!0,className:it.a.solapas},j&&d.a.createElement(et.a,{title:"Mostrar Comandos"},d.a.createElement(tt.a,{className:he()(it.a.solapa,{active:"Cmd."===y}),onClick:function(){x("Cmd.")}},"Cmd.")),_&&d.a.createElement(et.a,{title:"Mostrar COnfiguraci\xf3n Semaforo"},d.a.createElement(tt.a,{className:he()(it.a.solapa,{active:"Semaforo"===y}),onClick:function(){x("Semaforo")}},"Semaforo")),d.a.createElement(et.a,{title:"Mostrar Configuraci\xf3n Celda"},d.a.createElement(tt.a,{className:he()(it.a.solapa,{active:"Celda"===y}),onClick:function(){x("Celda")}},"Celda")),E&&d.a.createElement(et.a,{title:"Mostrar Configuraci\xf3n Automatizaci\xf3n"},d.a.createElement(tt.a,{className:he()(it.a.solapa,{active:"Autom."===y}),onClick:function(){x("Autom.")}},"Autom."))," "),d.a.createElement(ot.a,{activeTab:y},j&&d.a.createElement(at.a,{tabId:"Cmd."},d.a.createElement(v,null)),_&&d.a.createElement(at.a,{tabId:"Semaforo"},d.a.createElement("pre",null,JSON.stringify(_,null,2))),d.a.createElement(at.a,{tabId:"Celda"},d.a.createElement("pre",null,JSON.stringify(l,null,2))),E&&d.a.createElement(at.a,{tabId:"Autom."},d.a.createElement("pre",null,JSON.stringify(E,null,2))))):d.a.createElement(v,null)))}var ft=o(80),pt=o.n(ft);function Et(){var e=function(){var e=Object(z.useDispatch)();return[Object(z.useSelector)(R.a),function(){return e(Object(L.a)())}]}(),t=Object(m.a)(e,2),o=t[0],a=o.idCelda,n=o.numero,c=o.msg,i=o.fecha,r=t[1],s=function(){var e=Object(z.useDispatch)();return function(){return e(Object(I.c)())}}(),u=G();return!!a&&d.a.createElement(Ge.a,{isOpen:!!a,target:a},d.a.createElement(Ye.a,{className:pt.a.alarma},"Tren ",n,d.a.createElement(O.a,{close:!0,className:pt.a.close,onClick:function(e){Object(de.d)(e)&&(r(),s(),u(a,h.d))}})),d.a.createElement(Xe.a,null,d.a.createElement("p",null,new Date(i).toLocaleString()),c))}function At(){var e=Object(f.e)().idSector,t=function(){var e=Object(z.useSelector)(Y.b),t=Object(z.useDispatch)();return[e,function(e){return t(Object(w.c)(e))}]}(),o=Object(m.a)(t,2),a=o[0],n=o[1];return e!==a?(n(e),null):d.a.createElement(d.a.Fragment,null,d.a.createElement(mt,null),d.a.createElement(Ze,{idSector:e}),d.a.createElement(Et,null))}var Ot=o(170),St=o(171),yt=o(172),Ct=o(173),jt=o(177),xt=o(178),vt=o(174),ht=o(175),Vt=o(108),qt=o.n(Vt);function gt(){var e=function(){var e=Object(z.useDispatch)();return function(){return e(Object(I.f)())}}(),t=function(){var e=Object(z.useSelector)(Y.c),t=Object(z.useDispatch)();return[e,Object(u.useCallback)((function(e){return t(Object(w.d)(e))}),[t])]}(),o=Object(m.a)(t,2),a=o[0],n=o[1],c=Object(u.useState)(),i=Object(m.a)(c,2),r=i[0],s=i[1];return Object(u.useEffect)((function(){return a&&!r&&s(setInterval(e,1e3/a)),function(){r&&(clearInterval(r),s(0))}}),[e,r,a]),d.a.createElement(nt.a,{title:"Velocidad de la animaci\xf3n\n(ciclos por segundo)",className:qt.a.rate},d.a.createElement(O.a,{outline:0!==a,color:a?"secondary":"danger",onClick:function(){return n(0)}},"0"),d.a.createElement(O.a,{outline:.5!==a,onClick:function(){return n(.5)}},"\xbd"),d.a.createElement(O.a,{outline:1!==a,onClick:function(){return n(1)}},"1"),d.a.createElement(O.a,{outline:2!==a,onClick:function(){return n(2)}},"2"),d.a.createElement(O.a,{outline:5!==a,onClick:function(){return n(5)}},"5"))}function Wt(){var e=Object(u.useState)(!1),t=Object(m.a)(e,2),o=t[0],a=t[1],n=Object(f.f)("/sector/:idSector"),c=n&&n.params.idSector,i=ne(),r=ae(c),s=function(){var e=Object(z.useSelector)(Y.a),t=Object(z.useDispatch)(),o=Object(u.useCallback)((function(){return t(Object(w.a)(!e))}),[t,e]);return[e,o]}(),l=Object(m.a)(s,2),_=l[0],p=l[1],E=X(),A=Object(m.a)(E,2),O=A[0],S=A[1],y=$(),C=Object(m.a)(y,2),j=C[0],x=C[1],v=ee(),h=Object(m.a)(v,2),V=h[0],q=h[1],g=te().hideEstado,W=Object(u.useState)(),N=Object(m.a)(W,2),D=N[0],k=N[1],B=function(e){c!==D&&(g(),k(c),a(!1))};return d.a.createElement(Ot.a,{color:"light",light:!0,expand:"md",fixed:"top"},d.a.createElement(St.a,{color:"default",href:"/reactc2",title:"Volver al inicio"},"CTC"),d.a.createElement(gt,null),d.a.createElement(yt.a,{onClick:function(){return a(!o)}}),d.a.createElement(Ct.a,{isOpen:o,navbar:!0},d.a.createElement($e.a,{className:"mr-auto",navbar:!0},d.a.createElement(jt.a,{nav:!0,inNavbar:!0},d.a.createElement(xt.a,{nav:!0,caret:!0,title:r?r.descr:"Seleccione sector a visualizar"},r?r.descrCorta:"Sectores"),d.a.createElement(vt.a,null,i.map((function(e){return d.a.createElement(ht.a,{tag:b.b,to:"/sector/".concat(e.idSector),key:e.idSector,title:e.descr,active:c===e.idSector,onClick:B},e.descrCorta)})))),d.a.createElement(jt.a,{nav:!0,inNavbar:!0},d.a.createElement(xt.a,{nav:!0,caret:!0,title:"Opciones de visualizaci\xf3n"},"Opciones"),d.a.createElement(vt.a,null,d.a.createElement(ht.a,{onClick:function(e){Object(de.d)(e)&&(S(),a(!1))},active:O},"Teletipo"),d.a.createElement(ht.a,{onClick:function(e){Object(de.d)(e)&&(p(),a(!1))},active:_},"Automatizaciones"),d.a.createElement(ht.a,{onClick:function(e){Object(de.d)(e)&&(x(),a(!1))},active:j},"Coordenadas"),d.a.createElement(ht.a,{onClick:function(e){Object(de.d)(e)&&(q(),a(!1))},active:V},"Mostrar Config.")))),d.a.createElement($e.a,{navbar:!0},d.a.createElement(et.a,null,d.a.createElement(tt.a,{href:"https://github.com/Satyam/reactc2",title:"Ver c\xf3digo fuente en GitHub",target:"_blank"},d.a.createElement(fe.a,null)," Github")))))}var wt=o(109),Nt=o.n(wt);function Dt(e){e.username,e.sector,e.photoURL;var t=X(),o=Object(m.a)(t,1)[0];return ne().length?d.a.createElement(b.a,{basename:"/reactc2"},d.a.createElement(Wt,null),d.a.createElement(f.a,{path:"/sector/:idSector"},d.a.createElement(At,{idSector:"constitucion"})),o&&d.a.createElement(xe,null)):d.a.createElement("img",{alt:"loading...",src:Nt.a})}var kt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Bt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var o=e.installing;null!=o&&(o.onstatechange=function(){"installed"===o.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o(153);_.a.render(d.a.createElement(z.Provider,{store:ue},d.a.createElement(Dt,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/reactc2",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/reactc2","/service-worker.js");kt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(o){var a=o.headers.get("content-type");404===o.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Bt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Bt(t,e)}))}}()},19:function(e,t,o){"use strict";o.d(t,"h",(function(){return n})),o.d(t,"a",(function(){return c})),o.d(t,"f",(function(){return i})),o.d(t,"g",(function(){return r})),o.d(t,"b",(function(){return s})),o.d(t,"e",(function(){return u})),o.d(t,"d",(function(){return d})),o.d(t,"c",(function(){return l}));var a=o(7),n=Object(a.b)("showTeletipo"),c=Object(a.b)("automatizacionesActive"),i=Object(a.b)("showCoords"),r=Object(a.b)("showEstado"),s=Object(a.b)("hideEstado"),u=Object(a.b)("showConfig"),d=Object(a.b)("setPlayRate"),l=Object(a.b)("setCurrentSector")},20:function(e,t,o){e.exports={label:"styles_label__3r56c",pushDown:"styles_pushDown__1r8Ml",cambio:"styles_cambio__K-Ynx",manual:"styles_manual__1SN6-",hidden:"styles_hidden__1mPWU",close:"styles_close__1b-CL",disabled:"styles_disabled__3q6v_",solapas:"styles_solapas__1cybr",solapa:"styles_solapa__1ZYE5"}},21:function(e,t,o){e.exports={main:"styles_main__QJA2q",alt:"styles_alt__EQPaw",svg:"styles_svg__6vY_Q",filled:"styles_filled__2ZKFa"}},27:function(e,t,o){"use strict";o.d(t,"d",(function(){return l})),o.d(t,"a",(function(){return _})),o.d(t,"e",(function(){return m})),o.d(t,"b",(function(){return b})),o.d(t,"c",(function(){return f})),o.d(t,"g",(function(){return p})),o.d(t,"f",(function(){return A}));var a=o(16),n=o(7),c=o(14),i=o(11),r=o(9),s=o(4),u=o(50),d=100,l=Object(n.b)("addTren",(function(e,t,o,a,n){return{payload:{idCelda:e.idCelda,x:e.x,y:e.y,dir:t,speed:o,maxSpeed:o,idTren:a,idSector:e.idSector,numero:n}}}));function _(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(a){var n=d;d+=2;var c="_tren_".concat(n),_=e.idCelda;a(Object(i.setAviso)(s.l,_,n,"Parte tren ".concat(n," desde ").concat(Object(r.e)(e)))),a(l(e,t,o,c,n)),a(Object(i.addTrenToCelda)(_,c)),a(Object(i.setAutomatizaciones)(_,u.c))}}var m=Object(n.b)("doDelTren");function b(e){return function(t,o){var a=e.idTren,n=e.idCelda,u=e.numero,d=Object(c.e)(o(),n);n&&t(Object(i.removeTrenFromCelda)(n,a)),t(Object(i.setAviso)(s.l,n,u,"Borrado el tren ".concat(u," en ").concat(Object(r.e)(d)))),t(m(e.idTren))}}function f(){return function(e,t){Object(c.l)(t()).forEach((function(t){return e(b(t))}))}}var p=Object(n.b)("setTren");function E(e){return function(t,o){var n=Object(c.k)(o(),e);if(n){if("X"===n.dir)return t(b(n));var d=Object(c.e)(o(),n.idCelda);if(n.falta)t(p({idTren:e,falta:n.speed>n.falta?0:n.falta-n.speed}));else{var l=function(e,t,o){switch(o){case s.p:return[e,t-1,s.v];case s.q:return[e+1,t-1,s.y];case s.j:return[e+1,t,s.z];case s.w:return[e+1,t+1,s.s];case s.v:return[e,t+1,s.p];case s.y:return[e-1,t+1,s.q];case s.z:return[e-1,t,s.j];case s.s:return[e-1,t-1,s.w]}}(n.x,n.y,n.dir),_=Object(a.a)(l,3),m=_[0],f=_[1],E=_[2],A=n.speed;if(d.x!==m||d.y!==f){var O=Object(r.a)({idSector:d.idSector,x:m,y:f}),S=Object(r.a)({idSector:d.idSector,x:m,y:f,dir:E}),y=Object(c.e)(o(),O);if(y){var C=Object(c.i)(o(),S);if(C){var j=[s.m,s.e,s.h].reduce((function(e,t){return t in C?Math.min(e,C[t]):e}),s.b);switch(j){case s.b:return n.speed&&t(Object(i.setAviso)(s.A,n.idCelda,n.numero,"Tren ".concat(n.numero," detenido en ").concat(Object(r.e)(d)))),void t(p({idTren:e,speed:0}));case s.u:if(0===n.speed)return t(Object(i.setAviso)(s.l,n.idCelda,n.numero,"Tren ".concat(n.numero," reanuda la marcha en ").concat(Object(r.e)(d)))),void t(p({idTren:e,speed:n.maxSpeed/2}));A=n.maxSpeed/2;break;case s.n:if(0===n.speed)return t(Object(i.setAviso)(s.l,n.idCelda,n.numero,"Tren ".concat(n.numero," reanuda la marcha en ").concat(Object(r.e)(d)))),void t(p({idTren:e,speed:n.maxSpeed}));A=n.maxSpeed;break;default:throw new Error("Sem\xe1foro ".concat(S," d\xe1 sem\xe1foro imposible ").concat(j))}}if(y.idTren){var x=Object(c.k)(o(),y.idTren);return void t(Object(i.setAlarma)(O,n.numero,"Colisi\xf3n en ".concat(Object(r.e)(y)," entre trenes ").concat(n.numero," y ").concat(x.numero)))}var v=Object(c.d)(o(),y.idBloque);if(v&&v!==e){var h=Object(c.k)(o(),v);return void t(Object(i.setAlarma)(O,n.numero,"Tren ".concat(n.numero," invade el bloque ").concat(y.idBloque," ocupado por el tren ").concat(h.numero)))}var V=function(e,t){function o(t){var o=t.puntas;return o.includes(e)?o[0]===e?o[1]:o[0]:void 0}switch(t.tipo){case s.o:return o(t);case s.d:return t.punta===e?t.ramas[t.posicion]:t.ramas[t.posicion]===e?t.punta:void 0;case s.t:return t.rebota?t.punta:t.punta===e?"X":void 0;case s.f:return o(t.linea1)||o(t.linea2)}}(E,y);if(!V)return void t(Object(i.setAlarma)(y.idCelda,n.numero,"Tren ".concat(n.numero," no encuentra v\xeda correspondiente en celda ").concat(Object(r.e)(y))));t(Object(i.removeTrenFromCelda)(d.idCelda,e)),t(Object(i.addTrenToCelda)(O,e)),t(p({idTren:e,dir:V,x:m,y:f,speed:A,idCelda:O,falta:y.longitud||1}))}else t(b(n))}else t(p(n));t(Object(i.setAutomatizaciones)(n.idCelda,u.c))}}}}function A(){return function(e,t){var o=Object(c.g)(t());return Promise.all(Object(c.l)(t(),o).map((function(t){return e(E(t.idTren))})))}}},31:function(e,t,o){"use strict";o.d(t,"g",(function(){return a})),o.d(t,"a",(function(){return n})),o.d(t,"e",(function(){return c})),o.d(t,"f",(function(){return i})),o.d(t,"d",(function(){return r})),o.d(t,"c",(function(){return s})),o.d(t,"b",(function(){return u}));var a=function(e){return e.options.showTeletipo},n=function(e){return e.options.automatizacionesActive},c=function(e){return e.options.showCoords},i=function(e){return e.options.showEstado},r=function(e){return e.options.showConfig},s=function(e){return e.options.playRate},u=function(e){return e.options.currIdSector}},32:function(e,t,o){e.exports={rect:"styles_rect__1zG3J",manual:"styles_manual__139ZI",text:"styles_text__JdA5Q",svg:"styles_svg__rOGuq","tramo-normal":"styles_tramo-normal__JZdRz","tramo-muerto":"styles_tramo-muerto__LXymi","tramo-ocupado":"styles_tramo-ocupado__LrGlb",rebota:"styles_rebota__323Gf"}},35:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return c})),o.d(t,"c",(function(){return i}));var a=o(22),n=function(e,t){return e.semaforos[t]},c=function(e,t){return e.semaforos[t].manual},i=Object(a.a)((function(e){return e.semaforos}),(function(e,t){return t}),(function(e,t){var o=Object.values(e).filter((function(e){return e.idSector===t.idSector&&e.x===t.x&&e.y===t.y}));return o.length?o:null}))},37:function(e,t,o){"use strict";o.d(t,"d",(function(){return i})),o.d(t,"e",(function(){return r})),o.d(t,"a",(function(){return s})),o.d(t,"f",(function(){return u})),o.d(t,"c",(function(){return d})),o.d(t,"b",(function(){return l}));var a=o(7),n=o(11),c=o(4),i=Object(a.b)("doSetAlarma");function r(e,t,o){return function(a){a(u(c.g,e,t,o)),a(i({idCelda:e,numero:t,msg:o,fecha:Date.now()})),a(Object(n.setPlayRate)(0))}}var s=Object(a.b)("clearAlarma"),u=Object(a.b)("setAviso",(function(e,t,o,a){return{payload:{nivel:e,idCelda:t,numero:o,msg:a,fecha:Date.now()}}})),d=Object(a.b)("clearAvisos"),l=Object(a.b)("clearAviso")},4:function(e,t,o){"use strict";o.d(t,"E",(function(){return n})),o.d(t,"D",(function(){return c})),o.d(t,"B",(function(){return i})),o.d(t,"F",(function(){return r})),o.d(t,"C",(function(){return s}));var a=o(50);o.d(t,"a",(function(){return a.a})),o.d(t,"b",(function(){return a.b})),o.d(t,"c",(function(){return a.c})),o.d(t,"d",(function(){return a.d})),o.d(t,"e",(function(){return a.e})),o.d(t,"f",(function(){return a.f})),o.d(t,"g",(function(){return a.g})),o.d(t,"h",(function(){return a.h})),o.d(t,"i",(function(){return a.i})),o.d(t,"j",(function(){return a.j})),o.d(t,"k",(function(){return a.k})),o.d(t,"l",(function(){return a.l})),o.d(t,"m",(function(){return a.m})),o.d(t,"n",(function(){return a.n})),o.d(t,"o",(function(){return a.o})),o.d(t,"p",(function(){return a.p})),o.d(t,"q",(function(){return a.q})),o.d(t,"r",(function(){return a.r})),o.d(t,"s",(function(){return a.s})),o.d(t,"t",(function(){return a.t})),o.d(t,"u",(function(){return a.u})),o.d(t,"v",(function(){return a.v})),o.d(t,"w",(function(){return a.w})),o.d(t,"x",(function(){return a.x})),o.d(t,"y",(function(){return a.y})),o.d(t,"z",(function(){return a.z})),o.d(t,"A",(function(){return a.A}));var n={circulo:{descrCorta:"5- C\xedrculo",descr:"Dando vueltas y vueltas ",ancho:6,alto:5,idSector:"circulo"},constitucion:{descrCorta:"Constituci\xf3n",descr:"Estaci\xf3n Constituci\xf3n, Ciudad de Buenos Aires, Argentina",ancho:11,alto:7,idSector:"constitucion"},cruceDobleCambio:{descrCorta:"2- Doble cambio de v\xedas",descr:"V\xedas paralelas con cambios cruzados y semaforos",ancho:2,alto:2,idSector:"cruceDobleCambio"},dosVias:{descrCorta:"4- Dos v\xedas paralelas",descr:"Dos v\xedas paralelas con despacho de trenes",ancho:9,alto:2,idSector:"dosVias"},semaforosEncadenados:{descrCorta:"3- Sem\xe1foros encadenados",descr:"Sem\xe1foro en PRECAUCION cuando la siguiente est\xe1 en ALTO",ancho:4,alto:1,idSector:"semaforosEncadenados"},simpleDesvio:{descrCorta:"1- Desv\xedo Simple",descr:"Una \xfanica celda con un cambio y semaforo",ancho:1,alto:1,idSector:"simpleDesvio"}},c={circulo_1_0:{tipo:"linea",x:1,y:0,puntas:["SW","E"],despachador:["SW"],idCelda:"circulo_1_0",idSector:"circulo"},circulo_2_0:{tipo:"linea",x:2,y:0,puntas:["W","SE"],despachador:["SE"],idCelda:"circulo_2_0",idSector:"circulo"},circulo_0_1:{tipo:"linea",x:0,y:1,puntas:["NE","S"],idCelda:"circulo_0_1",idSector:"circulo"},circulo_0_3:{tipo:"linea",x:0,y:3,puntas:["N","SE"],idCelda:"circulo_0_3",idSector:"circulo"},circulo_1_4:{tipo:"linea",x:1,y:4,puntas:["NW","E"],idCelda:"circulo_1_4",idSector:"circulo"},circulo_3_1:{tipo:"linea",x:3,y:1,puntas:["NW","S"],idCelda:"circulo_3_1",idSector:"circulo"},circulo_3_3:{tipo:"cambio",x:3,y:3,punta:"N",ramas:["SW","S"],idCelda:"circulo_3_3",idSector:"circulo"},circulo_2_4:{tipo:"cruce",x:2,y:4,linea1:{puntas:["W","NE"]},linea2:{puntas:["NW","SE"]},idCelda:"circulo_2_4",idSector:"circulo"},circulo_0_2:{tipo:"cambio",punta:"N",ramas:["S","SE","SW"],x:0,y:2,idCelda:"circulo_0_2",idSector:"circulo"},circulo_5_1:{tipo:"cambio",punta:"N",ramas:["S","SE","SW"],x:5,y:1,despachador:["N","S","SE","SW"],idCelda:"circulo_5_1",idSector:"circulo"},circulo_5_3:{tipo:"cambio",x:5,y:3,punta:"W",ramas:["E","NE"],despachador:["W","E","NE"],idCelda:"circulo_5_3",idSector:"circulo"},circulo_3_4:{tipo:"paragolpe",x:3,y:4,punta:"N",idCelda:"circulo_3_4",idSector:"circulo"},circulo_3_2:{tipo:"linea",x:3,y:2,puntas:["N","S"],idCelda:"circulo_3_2",idSector:"circulo"},circulo_1_3:{tipo:"linea",x:1,y:3,puntas:["NW","SE"],idCelda:"circulo_1_3",idSector:"circulo"},constitucion_5_0:{tipo:"linea",puntas:["N","S"],x:5,y:0,idCelda:"constitucion_5_0",idSector:"constitucion"},constitucion_6_0:{tipo:"linea",puntas:["N","S"],x:6,y:0,idCelda:"constitucion_6_0",idSector:"constitucion"},constitucion_5_1:{tipo:"linea",puntas:["N","SW"],x:5,y:1,idCelda:"constitucion_5_1",idSector:"constitucion"},constitucion_6_1:{tipo:"linea",puntas:["N","SE"],x:6,y:1,idCelda:"constitucion_6_1",idSector:"constitucion"},constitucion_4_2:{tipo:"linea",puntas:["NE","SW"],x:4,y:2,idCelda:"constitucion_4_2",idSector:"constitucion"},constitucion_7_2:{tipo:"linea",puntas:["NW","SE"],x:7,y:2,idCelda:"constitucion_7_2",idSector:"constitucion"},constitucion_3_3:{tipo:"linea",puntas:["NE","SW"],x:3,y:3,idCelda:"constitucion_3_3",idSector:"constitucion"},constitucion_4_3:{tipo:"linea",puntas:["SW","E"],x:4,y:3,idCelda:"constitucion_4_3",idSector:"constitucion"},constitucion_5_3:{tipo:"linea",puntas:["W","E"],x:5,y:3,idCelda:"constitucion_5_3",idSector:"constitucion"},constitucion_6_3:{tipo:"linea",puntas:["W","E"],x:6,y:3,idCelda:"constitucion_6_3",idSector:"constitucion"},constitucion_7_3:{tipo:"linea",puntas:["W","E"],x:7,y:3,idCelda:"constitucion_7_3",idSector:"constitucion"},constitucion_8_3:{tipo:"cambio",punta:"SE",ramas:["NW","W"],x:8,y:3,idCelda:"constitucion_8_3",idSector:"constitucion"},constitucion_0_4:{tipo:"paragolpe",punta:"E",x:0,y:4,idCelda:"constitucion_0_4",idSector:"constitucion"},constitucion_1_4:{tipo:"linea",puntas:["W","E"],x:1,y:4,idCelda:"constitucion_1_4",idSector:"constitucion"},constitucion_2_4:{tipo:"cambio",punta:"W",ramas:["E","NE","SE"],x:2,y:4,idCelda:"constitucion_2_4",idSector:"constitucion"},constitucion_3_4:{tipo:"cruce",linea1:{puntas:["SW","NE"]},linea2:{puntas:["W","E"]},x:3,y:4,idCelda:"constitucion_3_4",idSector:"constitucion"},constitucion_4_4:{tipo:"cambio",punta:"W",ramas:["E","SE"],x:4,y:4,idCelda:"constitucion_4_4",idSector:"constitucion"},constitucion_5_4:{tipo:"cambio",punta:"E",ramas:["W","SW"],x:5,y:4,idCelda:"constitucion_5_4",idSector:"constitucion"},constitucion_6_4:{tipo:"linea",puntas:["W","SE"],x:6,y:4,idCelda:"constitucion_6_4",idSector:"constitucion"},constitucion_9_4:{tipo:"linea",puntas:["NW","SE"],x:9,y:4,idCelda:"constitucion_9_4",idSector:"constitucion"},constitucion_0_5:{tipo:"paragolpe",punta:"E",x:0,y:5,idCelda:"constitucion_0_5",idSector:"constitucion"},constitucion_1_5:{tipo:"linea",puntas:["W","E"],x:1,y:5,idCelda:"constitucion_1_5",idSector:"constitucion"},constitucion_2_5:{tipo:"cambio",punta:"W",ramas:["E","NE"],x:2,y:5,idCelda:"constitucion_2_5",idSector:"constitucion"},constitucion_3_5:{tipo:"cruce",linea1:{puntas:["NW","SE"]},linea2:{puntas:["W","E"]},x:3,y:5,idCelda:"constitucion_3_5",idSector:"constitucion"},constitucion_4_5:{tipo:"cambio",punta:"W",ramas:["E","NE"],x:4,y:5,idCelda:"constitucion_4_5",idSector:"constitucion"},constitucion_5_5:{tipo:"cambio",punta:"E",ramas:["W","NW"],x:5,y:5,idCelda:"constitucion_5_5",idSector:"constitucion"},constitucion_6_5:{tipo:"linea",puntas:["W","SE"],x:6,y:5,idCelda:"constitucion_6_5",idSector:"constitucion"},constitucion_7_5:{tipo:"linea",puntas:["NW","SE"],x:7,y:5,idCelda:"constitucion_7_5",idSector:"constitucion"},constitucion_10_5:{tipo:"linea",puntas:["NW","SE"],x:10,y:5,idCelda:"constitucion_10_5",idSector:"constitucion"},cruceDobleCambio_0_0:{tipo:"cambio",x:0,y:0,punta:"W",ramas:["E","SE"],idCelda:"cruceDobleCambio_0_0",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0:{tipo:"cambio",x:1,y:0,punta:"E",ramas:["W","SW"],idCelda:"cruceDobleCambio_1_0",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1:{tipo:"cambio",x:0,y:1,punta:"W",ramas:["E","NE"],idCelda:"cruceDobleCambio_0_1",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1:{tipo:"cambio",x:1,y:1,punta:"E",ramas:["W","NW"],idCelda:"cruceDobleCambio_1_1",idSector:"cruceDobleCambio"},dosVias_0_0:{tipo:"paragolpe",x:0,y:0,punta:"E",despachador:["E"],rebota:!0,bloque:"Plat.Oeste-N",idCelda:"dosVias_0_0",idSector:"dosVias",idBloque:"dosVias__Plat_Oeste_N"},dosVias_0_1:{tipo:"paragolpe",x:0,y:1,punta:"E",despachador:["E"],rebota:!0,bloque:"Plat.Oeste-S",idCelda:"dosVias_0_1",idSector:"dosVias",idBloque:"dosVias__Plat_Oeste_S"},dosVias_1_0:{tipo:"cambio",x:1,y:0,punta:"W",ramas:["E","SE"],bloque:"Oeste [1,0]",idCelda:"dosVias_1_0",idSector:"dosVias",idBloque:"dosVias__Oeste__1_0_"},dosVias_1_1:{tipo:"cambio",x:1,y:1,punta:"W",ramas:["E","NE"],bloque:"Oeste [1,1]",idCelda:"dosVias_1_1",idSector:"dosVias",idBloque:"dosVias__Oeste__1_1_"},dosVias_2_0:{tipo:"cambio",x:2,y:0,punta:"E",ramas:["W","SW"],bloque:"Oeste [2,0]",idCelda:"dosVias_2_0",idSector:"dosVias",idBloque:"dosVias__Oeste__2_0_"},dosVias_2_1:{tipo:"cambio",x:2,y:1,punta:"E",ramas:["W","NW"],bloque:"Oeste [2,1]",idCelda:"dosVias_2_1",idSector:"dosVias",idBloque:"dosVias__Oeste__2_1_"},dosVias_3_0:{tipo:"linea",x:3,y:0,puntas:["E","W"],bloque:"Norte",idCelda:"dosVias_3_0",idSector:"dosVias",idBloque:"dosVias__Norte"},dosVias_3_1:{tipo:"linea",x:3,y:1,puntas:["E","W"],bloque:"Sur",idCelda:"dosVias_3_1",idSector:"dosVias",idBloque:"dosVias__Sur"},dosVias_4_0:{tipo:"linea",x:4,y:0,puntas:["E","W"],bloque:"Norte",idCelda:"dosVias_4_0",idSector:"dosVias",idBloque:"dosVias__Norte"},dosVias_4_1:{tipo:"linea",x:4,y:1,puntas:["E","W"],bloque:"Sur",idCelda:"dosVias_4_1",idSector:"dosVias",idBloque:"dosVias__Sur"},dosVias_5_0:{tipo:"linea",x:5,y:0,puntas:["E","W"],bloque:"Norte",idCelda:"dosVias_5_0",idSector:"dosVias",idBloque:"dosVias__Norte"},dosVias_5_1:{tipo:"linea",x:5,y:1,puntas:["E","W"],bloque:"Sur",idCelda:"dosVias_5_1",idSector:"dosVias",idBloque:"dosVias__Sur"},dosVias_6_0:{tipo:"cambio",x:6,y:0,punta:"W",ramas:["E","SE"],bloque:"Oeste [6,0]",idCelda:"dosVias_6_0",idSector:"dosVias",idBloque:"dosVias__Oeste__6_0_"},dosVias_6_1:{tipo:"cambio",x:6,y:1,punta:"W",ramas:["E","NE"],bloque:"Oeste [6,1]",idCelda:"dosVias_6_1",idSector:"dosVias",idBloque:"dosVias__Oeste__6_1_"},dosVias_7_0:{tipo:"cambio",x:7,y:0,punta:"E",ramas:["W","SW"],bloque:"Oeste [7,0]",idCelda:"dosVias_7_0",idSector:"dosVias",idBloque:"dosVias__Oeste__7_0_"},dosVias_7_1:{tipo:"cambio",x:7,y:1,punta:"E",ramas:["W","NW"],bloque:"Oeste [7,1]",idCelda:"dosVias_7_1",idSector:"dosVias",idBloque:"dosVias__Oeste__7_1_"},dosVias_8_0:{tipo:"paragolpe",x:8,y:0,punta:"W",despachador:["W"],rebota:!0,bloque:"Plat.Este-N",idCelda:"dosVias_8_0",idSector:"dosVias",idBloque:"dosVias__Plat_Este_N"},dosVias_8_1:{tipo:"paragolpe",x:8,y:1,punta:"W",despachador:["W"],rebota:!0,bloque:"Plat.Este-S",idCelda:"dosVias_8_1",idSector:"dosVias",idBloque:"dosVias__Plat_Este_S"},semaforosEncadenados_0_0:{tipo:"linea",puntas:["W","E"],x:0,y:0,idCelda:"semaforosEncadenados_0_0",idSector:"semaforosEncadenados"},semaforosEncadenados_1_0:{tipo:"linea",puntas:["W","E"],x:1,y:0,idCelda:"semaforosEncadenados_1_0",idSector:"semaforosEncadenados"},semaforosEncadenados_2_0:{tipo:"linea",puntas:["W","E"],x:2,y:0,idCelda:"semaforosEncadenados_2_0",idSector:"semaforosEncadenados"},semaforosEncadenados_3_0:{tipo:"linea",puntas:["W","E"],x:3,y:0,idCelda:"semaforosEncadenados_3_0",idSector:"semaforosEncadenados"},simpleDesvio_0_0:{tipo:"cambio",x:0,y:0,punta:"W",ramas:["E","NE"],idCelda:"simpleDesvio_0_0",idSector:"simpleDesvio"}},i={constitucion_4_4:{x:4,y:4,tipo:"cambio",deps:[{x:5,y:5,tipo:"cambio",alts:[{cuando:0,estado:0},{cuando:1,estado:1}]},{x:4,y:5,tipo:"cambio",alts:[{cuando:1,estado:0}]}],idAutom:"constitucion_4_4",idSector:"constitucion"},constitucion_4_5:{x:4,y:5,tipo:"cambio",deps:[{x:5,y:4,tipo:"cambio",alts:[{cuando:0,estado:0},{cuando:1,estado:1}]}],idAutom:"constitucion_4_5",idSector:"constitucion"},constitucion_5_4:{x:5,y:4,tipo:"cambio",deps:[{x:4,y:5,tipo:"cambio",alts:[{cuando:0,estado:0},{cuando:1,estado:1}]}],idAutom:"constitucion_5_4",idSector:"constitucion"},constitucion_5_5:{x:5,y:5,tipo:"cambio",deps:[{x:4,y:4,tipo:"cambio",alts:[{cuando:0,estado:0},{cuando:1,estado:1}]},{x:4,y:5,tipo:"cambio",alts:[{cuando:1,estado:0}]}],idAutom:"constitucion_5_5",idSector:"constitucion"},constitucion_2_4_W:{x:2,y:4,dir:"W",tipo:"semaforo",deps:[{x:2,y:4,tipo:"cambio",alts:[{cuando:2,centro:3,der:3},{cuando:0,izq:3,der:3},{cuando:1,izq:3,centro:3}]}],idAutom:"constitucion_2_4_W",idSector:"constitucion"},constitucion_4_4_W:{x:4,y:4,dir:"W",tipo:"semaforo",deps:[{x:4,y:4,tipo:"cambio",alts:[{cuando:0,der:3},{cuando:1,centro:3,der:2}]},{x:5,y:4,tipo:"cambio",alts:[{cuando:1,centro:3,der:3}]}],idAutom:"constitucion_4_4_W",idSector:"constitucion"},constitucion_8_3_SE:{x:8,y:3,dir:"SE",tipo:"semaforo",deps:[{x:8,y:3,tipo:"cambio",alts:[{cuando:0,izq:3},{cuando:1,izq:2,centro:3}]}],idAutom:"constitucion_8_3_SE",idSector:"constitucion"},cruceDobleCambio_0_0:{x:0,y:0,tipo:"cambio",deps:[{x:1,y:1,tipo:"cambio",alts:[{cuando:0,estado:0},{cuando:1,estado:1}]},{x:0,y:1,tipo:"cambio",alts:[{cuando:1,estado:0}]}],idAutom:"cruceDobleCambio_0_0",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1:{x:0,y:1,tipo:"cambio",deps:[{x:1,y:0,tipo:"cambio",alts:[{cuando:0,estado:0},{cuando:1,estado:1}]},{x:0,y:0,tipo:"cambio",alts:[{cuando:1,estado:0}]}],idAutom:"cruceDobleCambio_0_1",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0:{x:1,y:0,tipo:"cambio",deps:[{x:0,y:1,tipo:"cambio",alts:[{cuando:0,estado:0},{cuando:1,estado:1}]},{x:1,y:1,tipo:"cambio",alts:[{cuando:1,estado:0}]}],idAutom:"cruceDobleCambio_1_0",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1:{x:1,y:1,tipo:"cambio",deps:[{x:0,y:0,tipo:"cambio",alts:[{cuando:0,estado:0},{cuando:1,estado:1}]},{x:0,y:1,tipo:"cambio",alts:[{cuando:1,estado:0}]}],idAutom:"cruceDobleCambio_1_1",idSector:"cruceDobleCambio"},cruceDobleCambio_0_0_W:{x:0,y:0,dir:"W",tipo:"semaforo",deps:[{x:0,y:0,tipo:"cambio",alts:[{cuando:0,der:3},{cuando:1,centro:3,der:2}]},{x:1,y:0,tipo:"cambio",alts:[{cuando:1,centro:3,der:3}]}],idAutom:"cruceDobleCambio_0_0_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0_E:{x:1,y:0,dir:"E",tipo:"semaforo",deps:[{x:1,y:0,tipo:"cambio",alts:[{cuando:0,izq:3},{cuando:1,centro:3,izq:2}]},{x:0,y:0,tipo:"cambio",alts:[{cuando:1,centro:3,izq:3}]}],idAutom:"cruceDobleCambio_1_0_E",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1_W:{x:0,y:1,dir:"W",tipo:"semaforo",deps:[{x:0,y:1,tipo:"cambio",alts:[{cuando:0,izq:3},{cuando:1,centro:3,izq:2}]},{x:1,y:1,tipo:"cambio",alts:[{cuando:1,centro:3,izq:3}]}],idAutom:"cruceDobleCambio_0_1_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1_E:{x:1,y:1,dir:"E",tipo:"semaforo",deps:[{x:1,y:1,tipo:"cambio",alts:[{cuando:0,der:3},{cuando:1,centro:3,der:2}]},{x:0,y:1,tipo:"cambio",alts:[{cuando:1,centro:3,der:3}]}],idAutom:"cruceDobleCambio_1_1_E",idSector:"cruceDobleCambio"},dosVias_1_0:{x:1,y:0,tipo:"cambio",deps:[{x:2,y:1,tipo:"cambio",alts:[{cuando:0,estado:0},{cuando:1,estado:1}]},{x:1,y:1,tipo:"cambio",alts:[{cuando:1,estado:0}]}],idAutom:"dosVias_1_0",idSector:"dosVias"},dosVias_1_1:{x:1,y:1,tipo:"cambio",deps:[{x:2,y:0,tipo:"cambio",alts:[{cuando:0,estado:0},{cuando:1,estado:1}]},{x:1,y:0,tipo:"cambio",alts:[{cuando:1,estado:0}]}],idAutom:"dosVias_1_1",idSector:"dosVias"},dosVias_2_0:{x:2,y:0,tipo:"cambio",deps:[{x:1,y:1,tipo:"cambio",alts:[{cuando:0,estado:0},{cuando:1,estado:1}]},{x:2,y:1,tipo:"cambio",alts:[{cuando:1,estado:0}]}],idAutom:"dosVias_2_0",idSector:"dosVias"},dosVias_2_1:{x:2,y:1,tipo:"cambio",deps:[{x:1,y:0,tipo:"cambio",alts:[{cuando:0,estado:0},{cuando:1,estado:1}]},{x:1,y:1,tipo:"cambio",alts:[{cuando:1,estado:0}]}],idAutom:"dosVias_2_1",idSector:"dosVias"},dosVias_6_0:{x:6,y:0,tipo:"cambio",deps:[{x:7,y:1,tipo:"cambio",alts:[{cuando:0,estado:0},{cuando:1,estado:1}]},{x:6,y:1,tipo:"cambio",alts:[{cuando:1,estado:0}]}],idAutom:"dosVias_6_0",idSector:"dosVias"},dosVias_6_1:{x:6,y:1,tipo:"cambio",deps:[{x:7,y:0,tipo:"cambio",alts:[{cuando:0,estado:0},{cuando:1,estado:1}]},{x:6,y:0,tipo:"cambio",alts:[{cuando:1,estado:0}]}],idAutom:"dosVias_6_1",idSector:"dosVias"},dosVias_7_0:{x:7,y:0,tipo:"cambio",deps:[{x:6,y:1,tipo:"cambio",alts:[{cuando:0,estado:0},{cuando:1,estado:1}]},{x:7,y:1,tipo:"cambio",alts:[{cuando:1,estado:0}]}],idAutom:"dosVias_7_0",idSector:"dosVias"},dosVias_7_1:{x:7,y:1,tipo:"cambio",deps:[{x:6,y:0,tipo:"cambio",alts:[{cuando:0,estado:0},{cuando:1,estado:1}]},{x:6,y:1,tipo:"cambio",alts:[{cuando:1,estado:0}]}],idAutom:"dosVias_7_1",idSector:"dosVias"},dosVias_1_0_W:{x:1,y:0,dir:"W",tipo:"semaforo",deps:[{tipo:"bloque",bloque:"Oeste [1,0]",senalAfectada:"der"},{tipo:"cambio",x:1,y:0,alts:[{cuando:0,der:3},{cuando:1,der:2}]},{x:3,y:1,dir:"W",tipo:"semaforo",senales:[{cuando:3,senalAfectada:"der",estado:2}]},{tipo:"fijo",senalAfectada:"centro",estado:3}],idAutom:"dosVias_1_0_W",idSector:"dosVias"},dosVias_1_1_W:{x:1,y:1,dir:"W",tipo:"semaforo",deps:[{tipo:"cambio",x:1,y:1,alts:[{cuando:1,centro:3}]},{tipo:"cambio",x:2,y:1,alts:[{cuando:1,centro:3}]},{tipo:"bloque",bloque:"Oeste [1,1]",senalAfectada:"centro"},{x:3,y:1,dir:"W",tipo:"semaforo",senales:[{cuando:3,senalAfectada:"der",estado:2}]},{tipo:"fijo",senalAfectada:"izq",estado:3}],idAutom:"dosVias_1_1_W",idSector:"dosVias"},dosVias_2_0_E:{x:2,y:0,dir:"E",tipo:"semaforo",deps:[{tipo:"bloque",bloque:"Oeste [2,0]",senalAfectada:"centro"},{tipo:"bloque",bloque:"Oeste [2,0]",senalAfectada:"izq"},{tipo:"bloque",bloque:"Plat.Oeste-N",senalAfectada:"centro"},{tipo:"bloque",bloque:"Plat.Oeste-S",senalAfectada:"izq"},{tipo:"cambio",x:2,y:0,alts:[{cuando:0,izq:3},{cuando:1,centro:3,izq:2}]},{tipo:"cambio",x:1,y:0,alts:[{cuando:1,centro:3}]}],idAutom:"dosVias_2_0_E",idSector:"dosVias"},dosVias_2_1_E:{x:2,y:1,dir:"E",tipo:"semaforo",deps:[{tipo:"fijo",senalAfectada:"der",estado:3},{tipo:"fijo",senalAfectada:"centro",estado:3},{tipo:"cambio",x:2,y:1,alts:[{cuando:0,der:3},{cuando:1,centro:3,der:2}]},{tipo:"cambio",x:1,y:1,alts:[{cuando:1,centro:3}]}],idAutom:"dosVias_2_1_E",idSector:"dosVias"},dosVias_7_1_E:{x:7,y:1,dir:"E",tipo:"semaforo",deps:[{tipo:"cambio",x:7,y:1,alts:[{cuando:0,der:3},{cuando:1,der:2}]},{tipo:"fijo",senalAfectada:"centro",estado:3},{tipo:"bloque",bloque:"Oeste [7,1]",senalAfectada:"der"},{x:5,y:0,dir:"E",tipo:"semaforo",senales:[{cuando:3,senalAfectada:"der",estado:2}]},{tipo:"fijo",senalAfectada:"centro",estado:3}],idAutom:"dosVias_7_1_E",idSector:"dosVias"},dosVias_7_0_E:{x:7,y:0,dir:"E",tipo:"semaforo",deps:[{tipo:"cambio",x:7,y:0,alts:[{cuando:1,centro:3}]},{tipo:"cambio",x:6,y:0,alts:[{cuando:1,centro:3}]},{tipo:"bloque",bloque:"Oeste [7,0]",senalAfectada:"centro"},{x:5,y:1,dir:"E",tipo:"semaforo",senales:[{cuando:3,senalAfectada:"izq",estado:2}]},{tipo:"fijo",senalAfectada:"izq",estado:3}],idAutom:"dosVias_7_0_E",idSector:"dosVias"},dosVias_6_1_W:{x:6,y:1,dir:"W",tipo:"semaforo",deps:[{tipo:"bloque",bloque:"Oeste [6,1]",senalAfectada:"izq"},{tipo:"bloque",bloque:"Oeste [6,1]",senalAfectada:"centro"},{tipo:"bloque",bloque:"Plat.Este-S",senalAfectada:"centro"},{tipo:"bloque",bloque:"Plat.Este-N",senalAfectada:"izq"},{tipo:"cambio",x:7,y:0,alts:[{cuando:0,izq:3},{cuando:1,centro:3,izq:2}]},{tipo:"cambio",x:7,y:1,alts:[{cuando:1,centro:3}]}],idAutom:"dosVias_6_1_W",idSector:"dosVias"},dosVias_6_0_W:{x:6,y:0,dir:"W",tipo:"semaforo",deps:[{tipo:"bloque",bloque:"Oeste [6,0]",senalAfectada:"der"},{tipo:"bloque",bloque:"Oeste [6,0]",senalAfectada:"centro"},{tipo:"cambio",x:6,y:0,alts:[{cuando:0,der:3},{cuando:1,centro:3,der:2}]},{tipo:"cambio",x:7,y:0,alts:[{cuando:1,centro:3}]},{tipo:"fijo",senalAfectada:"centro",estado:3}],idAutom:"dosVias_6_0_W",idSector:"dosVias"},dosVias_3_1_W:{tipo:"semaforo",x:3,y:1,dir:"W",deps:[{tipo:"bloque",bloque:"Sur",senalAfectada:"centro"},{tipo:"semaforo",x:6,y:1,dir:"W",senales:[{cuando:3,senalAfectada:"centro",estado:2}]}],idAutom:"dosVias_3_1_W",idSector:"dosVias"},dosVias_5_0_E:{tipo:"semaforo",x:5,y:0,dir:"E",deps:[{tipo:"bloque",bloque:"Norte",senalAfectada:"centro"},{tipo:"semaforo",x:2,y:0,dir:"E",senales:[{cuando:3,senalAfectada:"centro",estado:2}]}],idAutom:"dosVias_5_0_E",idSector:"dosVias"},dosVias__Oeste__1_0_:{tipo:"bloque",bloque:"Oeste [1,0]",deps:[{tipo:"bloque",bloque:"Oeste [2,0]",x:1,y:0,posicion:0},{tipo:"bloque",bloque:"Oeste [2,1]",x:1,y:0,posicion:1}],idAutom:"dosVias__Oeste__1_0_",idSector:"dosVias"},dosVias__Oeste__2_0_:{tipo:"bloque",bloque:"Oeste [2,0]",deps:[{tipo:"bloque",bloque:"Oeste [1,0]",x:2,y:0,posicion:0},{tipo:"bloque",bloque:"Oeste [1,1]",x:1,y:0,posicion:1}],idAutom:"dosVias__Oeste__2_0_",idSector:"dosVias"},dosVias__Oeste__1_1_:{tipo:"bloque",bloque:"Oeste [1,1]",deps:[{tipo:"bloque",bloque:"Oeste [2,1]",x:1,y:1,posicion:0},{tipo:"bloque",bloque:"Oeste [2,0]",x:1,y:1,posicion:1}],idAutom:"dosVias__Oeste__1_1_",idSector:"dosVias"},dosVias__Oeste__2_1_:{tipo:"bloque",bloque:"Oeste [2,1]",deps:[{tipo:"bloque",bloque:"Oeste [1,1]",x:2,y:1,posicion:0},{tipo:"bloque",bloque:"Oeste [1,0]",x:2,y:1,posicion:1}],idAutom:"dosVias__Oeste__2_1_",idSector:"dosVias"},dosVias__Oeste__6_0_:{tipo:"bloque",bloque:"Oeste [6,0]",deps:[{tipo:"bloque",bloque:"Oeste [7,0]",x:6,y:0,posicion:0},{tipo:"bloque",bloque:"Oeste [7,1]",x:6,y:0,posicion:1}],idAutom:"dosVias__Oeste__6_0_",idSector:"dosVias"},dosVias__Oeste__7_0_:{tipo:"bloque",bloque:"Oeste [7,0]",deps:[{tipo:"bloque",bloque:"Oeste [6,0]",x:7,y:0,posicion:0},{tipo:"bloque",bloque:"Oeste [6,1]",x:7,y:0,posicion:1}],idAutom:"dosVias__Oeste__7_0_",idSector:"dosVias"},dosVias__Oeste__6_1_:{tipo:"bloque",bloque:"Oeste [6,1]",deps:[{tipo:"bloque",bloque:"Oeste [7,1]",x:6,y:1,posicion:0},{tipo:"bloque",bloque:"Oeste [7,0]",x:6,y:1,posicion:1}],idAutom:"dosVias__Oeste__6_1_",idSector:"dosVias"},dosVias__Oeste__7_1_:{tipo:"bloque",bloque:"Oeste [7,1]",deps:[{tipo:"bloque",bloque:"Oeste [6,1]",x:7,y:1,posicion:0},{tipo:"bloque",bloque:"Oeste [6,0]",x:7,y:1,posicion:1}],idAutom:"dosVias__Oeste__7_1_",idSector:"dosVias"},semaforosEncadenados_0_0_W:{x:0,y:0,dir:"W",tipo:"semaforo",deps:[{x:3,y:0,dir:"W",tipo:"semaforo",senales:[{cuando:3,senalAfectada:"centro",estado:2}]}],idAutom:"semaforosEncadenados_0_0_W",idSector:"semaforosEncadenados"},simpleDesvio_0_0_W:{x:0,y:0,dir:"W",tipo:"semaforo",deps:[{x:0,y:0,tipo:"cambio",alts:[{cuando:0,izq:3},{cuando:1,izq:2,centro:3}]}],idAutom:"simpleDesvio_0_0_W",idSector:"simpleDesvio"}},r={constitucion_5_3_E:{centro:1,dir:"E",x:5,y:3,idSemaforo:"constitucion_5_3_E",idSector:"constitucion"},constitucion_8_3_SE:{dir:"SE",centro:1,izq:3,x:8,y:3,idSemaforo:"constitucion_8_3_SE",idSector:"constitucion"},constitucion_2_4_W:{dir:"W",centro:1,izq:3,der:3,x:2,y:4,idSemaforo:"constitucion_2_4_W",idSector:"constitucion"},constitucion_4_4_W:{dir:"W",centro:1,der:3,x:4,y:4,idSemaforo:"constitucion_4_4_W",idSector:"constitucion"},cruceDobleCambio_0_0_W:{dir:"W",centro:1,der:3,x:0,y:0,idSemaforo:"cruceDobleCambio_0_0_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_0_E:{dir:"E",centro:1,izq:3,x:1,y:0,idSemaforo:"cruceDobleCambio_1_0_E",idSector:"cruceDobleCambio"},cruceDobleCambio_0_1_W:{dir:"W",centro:1,izq:3,x:0,y:1,idSemaforo:"cruceDobleCambio_0_1_W",idSector:"cruceDobleCambio"},cruceDobleCambio_1_1_E:{dir:"E",centro:1,der:3,x:1,y:1,idSemaforo:"cruceDobleCambio_1_1_E",idSector:"cruceDobleCambio"},dosVias_1_0_W:{x:1,y:0,dir:"W",centro:3,der:3,idSemaforo:"dosVias_1_0_W",idSector:"dosVias"},dosVias_1_1_W:{x:1,y:1,dir:"W",centro:1,izq:3,idSemaforo:"dosVias_1_1_W",idSector:"dosVias"},dosVias_2_0_E:{x:2,y:0,dir:"E",centro:1,izq:3,idSemaforo:"dosVias_2_0_E",idSector:"dosVias"},dosVias_2_1_E:{x:2,y:1,dir:"E",centro:3,der:3,idSemaforo:"dosVias_2_1_E",idSector:"dosVias"},dosVias_3_0_W:{x:3,y:0,dir:"W",centro:3,idSemaforo:"dosVias_3_0_W",idSector:"dosVias"},dosVias_3_1_W:{x:3,y:1,dir:"W",centro:1,idSemaforo:"dosVias_3_1_W",idSector:"dosVias"},dosVias_5_0_E:{x:5,y:0,dir:"E",centro:1,idSemaforo:"dosVias_5_0_E",idSector:"dosVias"},dosVias_5_1_E:{x:5,y:1,dir:"E",centro:3,idSemaforo:"dosVias_5_1_E",idSector:"dosVias"},dosVias_6_0_W:{x:6,y:0,dir:"W",centro:3,der:3,idSemaforo:"dosVias_6_0_W",idSector:"dosVias"},dosVias_6_1_W:{x:6,y:1,dir:"W",centro:1,izq:3,idSemaforo:"dosVias_6_1_W",idSector:"dosVias"},dosVias_7_0_E:{x:7,y:0,dir:"E",centro:1,izq:3,idSemaforo:"dosVias_7_0_E",idSector:"dosVias"},dosVias_7_1_E:{x:7,y:1,dir:"E",centro:3,der:3,idSemaforo:"dosVias_7_1_E",idSector:"dosVias"},semaforosEncadenados_0_0_W:{dir:"W",centro:1,x:0,y:0,idSemaforo:"semaforosEncadenados_0_0_W",idSector:"semaforosEncadenados"},semaforosEncadenados_3_0_W:{dir:"W",centro:1,x:3,y:0,soloManual:!0,idSemaforo:"semaforosEncadenados_3_0_W",idSector:"semaforosEncadenados"},simpleDesvio_0_0_W:{dir:"W",centro:1,izq:3,x:0,y:0,idSemaforo:"simpleDesvio_0_0_W",idSector:"simpleDesvio"}},s={dosVias__Plat_Oeste_N:{celdas:["dosVias_0_0"],nombre:"Plat.Oeste-N"},dosVias__Plat_Oeste_S:{celdas:["dosVias_0_1"],nombre:"Plat.Oeste-S"},dosVias__Oeste__1_0_:{celdas:["dosVias_1_0"],nombre:"Oeste [1,0]"},dosVias__Oeste__1_1_:{celdas:["dosVias_1_1"],nombre:"Oeste [1,1]"},dosVias__Oeste__2_0_:{celdas:["dosVias_2_0"],nombre:"Oeste [2,0]"},dosVias__Oeste__2_1_:{celdas:["dosVias_2_1"],nombre:"Oeste [2,1]"},dosVias__Norte:{celdas:["dosVias_3_0","dosVias_4_0","dosVias_5_0"],nombre:"Norte"},dosVias__Sur:{celdas:["dosVias_3_1","dosVias_4_1","dosVias_5_1"],nombre:"Sur"},dosVias__Oeste__6_0_:{celdas:["dosVias_6_0"],nombre:"Oeste [6,0]"},dosVias__Oeste__6_1_:{celdas:["dosVias_6_1"],nombre:"Oeste [6,1]"},dosVias__Oeste__7_0_:{celdas:["dosVias_7_0"],nombre:"Oeste [7,0]"},dosVias__Oeste__7_1_:{celdas:["dosVias_7_1"],nombre:"Oeste [7,1]"},dosVias__Plat_Este_N:{celdas:["dosVias_8_0"],nombre:"Plat.Este-N"},dosVias__Plat_Este_S:{celdas:["dosVias_8_1"],nombre:"Plat.Este-S"}}},42:function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return s}));var a=o(28),n=o(22),c=o(4),i=Object(n.a)((function(e){return e.celdas}),(function(e,t){return t}),(function(e,t){if(e[t])return Object(a.a)({posicion:c.r},e[t])})),r=function(e,t){return!!e.celdas[t].manual},s=Object(n.a)((function(e){return e.celdas}),(function(e,t){return t}),(function(e,t){return Object.values(e).filter((function(e){return e.idSector===t}))}))},45:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var a=o(7),n=Object(a.b)("setBloqueOcupado",(function(e,t,o){return{payload:{idBloque:e,idTren:t,vecino:o}}}))},46:function(e,t,o){"use strict";o.d(t,"e",(function(){return r})),o.d(t,"d",(function(){return s})),o.d(t,"h",(function(){return u})),o.d(t,"g",(function(){return d})),o.d(t,"c",(function(){return l})),o.d(t,"f",(function(){return _})),o.d(t,"b",(function(){return m})),o.d(t,"a",(function(){return b})),o.d(t,"i",(function(){return f}));var a=o(7),n=o(11),c=o(14),i=o(4),r=Object(a.b)("setPosicion",(function(e,t){return{payload:{idCelda:e,posicion:t}}}));function s(e,t){return function(o,a){var s=Object(c.e)(a(),e);if(s.tipo!==i.d)throw new Error("Celda ".concat(e,"  no es un cambio"));return s.posicion!==t&&(!Object(c.h)(a(),e)&&(o(Object(n.setPendiente)(e)),o(r(e,t))))}}function u(e,t){return function(o,a){return o(s(e,t)),Object(c.f)(a(),e)||o(Object(n.setAutomatizaciones)(e,i.d)),o(Object(n.clearPendientes)())}}var d=Object(a.b)("setCambioManual",(function(e,t){return{payload:{idCelda:e,manual:t}}})),l=Object(a.b)("removeTrenFromCelda",(function(e,t){return{payload:{idCelda:e,idTren:t}}}));function _(e,t){return function(o,a){o(l(e,t));var i=Object(c.e)(a(),e);i.idBloque&&o(Object(n.setBloqueOcupado)(i.idBloque,!1))}}var m=Object(a.b)("addTrenToCelda",(function(e,t){return{payload:{idCelda:e,idTren:t}}}));function b(e,t){return function(o,a){o(m(e,t));var i=Object(c.e)(a(),e);i.idBloque&&o(Object(n.setBloqueOcupado)(i.idBloque,t))}}var f=Object(a.b)("setRebota",(function(e,t){return{payload:{idCelda:e,rebota:t}}}))},47:function(e,t,o){e.exports={info:"styles_info__2eaPP",warning:"styles_warning__Y2zSC",danger:"styles_danger__3Ef8R",fixed:"styles_fixed__3IULb",buttons:"styles_buttons__Of--i"}},48:function(e,t,o){e.exports={semaforo:"styles_semaforo__1oD_-",verde:"styles_verde__3jxOB",rojo:"styles_rojo__19OcT",amarillo:"styles_amarillo__EBZgn",manual:"styles_manual__1ZEPl"}},50:function(e,t,o){"use strict";o.d(t,"o",(function(){return a})),o.d(t,"d",(function(){return n})),o.d(t,"f",(function(){return c})),o.d(t,"t",(function(){return i})),o.d(t,"x",(function(){return r})),o.d(t,"n",(function(){return s})),o.d(t,"u",(function(){return u})),o.d(t,"b",(function(){return d})),o.d(t,"r",(function(){return l})),o.d(t,"i",(function(){return _})),o.d(t,"a",(function(){return m})),o.d(t,"m",(function(){return b})),o.d(t,"e",(function(){return f})),o.d(t,"h",(function(){return p})),o.d(t,"p",(function(){return E})),o.d(t,"q",(function(){return A})),o.d(t,"j",(function(){return O})),o.d(t,"w",(function(){return S})),o.d(t,"v",(function(){return y})),o.d(t,"y",(function(){return C})),o.d(t,"z",(function(){return j})),o.d(t,"s",(function(){return x})),o.d(t,"c",(function(){return v})),o.d(t,"k",(function(){return h})),o.d(t,"l",(function(){return V})),o.d(t,"A",(function(){return q})),o.d(t,"g",(function(){return g}));var a="linea",n="cambio",c="cruce",i="paragolpe",r="semaforo",s=1,u=2,d=3,l=0,_=1,m=2,b="izq",f="centro",p="der",E="N",A="NE",O="E",S="SE",y="S",C="SW",j="W",x="NW",v="bloque",h="fijo",V="info",q="warning",g="danger"},51:function(e,t,o){"use strict";o.d(t,"a",(function(){return a})),o.d(t,"b",(function(){return n}));var a=function(e){return e.alertas.alarma},n=function(e){return e.alertas.avisos}},52:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return c}));var a=o(22),n=function(e,t){return e.bloques[t]},c=Object(a.a)((function(e){return e.bloques}),(function(e,t){return t}),(function(e,t){var o=e[t];return o&&o.idTren}))},53:function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return c}));var a=o(22),n=Object(a.a)((function(e){return e.sectores}),(function(e){return Object.values(e).map((function(e){return{idSector:e.idSector,descr:e.descr,descrCorta:e.descrCorta}})).sort((function(e,t){var o=e.descrCorta.toUpperCase(),a=t.descrCorta.toUpperCase();return o<a?-1:o>a?1:0}))})),c=function(e,t){return e.sectores[t]}},54:function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"a",(function(){return n}));var a=function(e,t){return Object.values(e.trenes).filter((function(e){return!t||e.idSector===t}))},n=function(e,t){return e.trenes[t]}},55:function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return c}));var a=o(7),n=Object(a.b)("setPendiente"),c=Object(a.b)("clearPendientes")},56:function(e,t,o){"use strict";o.d(t,"b",(function(){return s})),o.d(t,"a",(function(){return u})),o.d(t,"d",(function(){return d})),o.d(t,"c",(function(){return l}));var a=o(7),n=o(11),c=o(14),i=o(35),r=o(4),s=Object(a.b)("setSenalEstado",(function(e,t,o){return{payload:{idSemaforo:e,senal:t,estado:o}}}));function u(e,t,o){return function(a,n){var i=Object(c.i)(n(),e);if(!i[t])throw new Error("Semaforo ".concat(e," no tiene senal ").concat(t));return i[t]!==o&&a(s(e,t,o))}}function d(e,t,o){return function(a,c){return a(u(e,t,o)),Object(i.b)(c(),e)||a(Object(n.setAutomatizaciones)(e,r.x)),a(Object(n.clearPendientes)())}}var l=Object(a.b)("setSemaforoManual",(function(e,t){return{payload:{idSemaforo:e,manual:t}}}))},58:function(e,t,o){e.exports={flechaDespachador:"styles_flechaDespachador__jpfOH",trenDespachador:"styles_trenDespachador__1G3VE",disabled:"styles_disabled__10sbm",tren:"styles_tren__25vJ9"}},60:function(e,t,o){"use strict";o.d(t,"b",(function(){return c})),o.d(t,"a",(function(){return i}));var a=o(22),n=o(4),c=Object(a.a)((function(e){return e.automatizaciones}),(function(e,t){return t}),(function(e,t){return Object.values(e).filter((function(e){return e.idSector===t})).sort((function(e,t){return e.tipo===n.d&&t.tipo===n.x?-1:e.tipo===n.x&&t.tipo===n.d?1:0}))})),i=function(e,t){return e.automatizaciones[t]}},61:function(e,t,o){"use strict";o.d(t,"a",(function(){return d}));var a=o(77),n=o.n(a),c=o(104),i=o(9),r=o(14),s=o(4),u=o(11);function d(e,t,o){return function(){var a=Object(c.a)(n.a.mark((function a(c,d){var l,_,m,b,f,p,E,A,O;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(p=function(e,t){var o=Object(r.i)(d(),e);if(Object(r.j)(d(),e))return!1;var a={izq:s.n,centro:s.n,der:s.n};return t.forEach((function(t){var o=Object(i.a)({idSector:l,x:t.x,y:t.y,dir:t.dir});switch(t.tipo){case s.d:var n=Object(r.e)(d(),o),c=t.alts.find((function(e){return e.cuando===n.posicion}));c&&Object.keys(a).forEach((function(e){c[e]&&(a[e]=Math.max(a[e],c[e]))}));break;case s.x:var u=Object(r.i)(d(),o),_=[s.m,s.e,s.h].reduce((function(e,t){return t in u?Math.min(e,u[t]):e}),s.b);t.senales.forEach((function(e){var t=e.cuando,o=e.senalAfectada,n=e.estado;_===t&&(a[o]=Math.max(a[o],n))}));break;case s.c:!!Object(r.d)(d(),Object(i.b)(l,t.bloque))&&(a[t.senalAfectada]=s.b);break;case s.k:a[t.senalAfectada]=Math.max(t.estado,a[t.senalAfectada]);break;default:throw new Error("Dependencia ".concat(t.idSource," de ").concat(e," tiene tipo desconocido: ").concat(t.tipo))}})),Object.keys(a).reduce((function(t,n){return n in o?o[n]===a[n]?t:t.then((function(t){return!!c(Object(u.doSetSenalEstado)(e,n,a[n]))||t})):t}),Promise.resolve(!1))},f=function(e,t){var o=Object(r.e)(d(),e);return t.reduce((function(t,a){var n=Object(i.a)({idSector:l,x:a.x,y:a.y}),s=Object(r.e)(d(),n),_=a.alts.find((function(e){return e.cuando===s.posicion}));if(!_)return t;var m=_.estado;return m===o.posicion||Object(r.f)(d(),e)?t:t.then((function(t){return!!c(Object(u.doSetCambio)(e,m))||t}))}),Promise.resolve(!1))},Object(r.b)(d())){a.next=4;break}return a.abrupt("return");case 4:a.t0=t,a.next=a.t0===s.d?7:a.t0===s.x?12:a.t0===s.c?17:20;break;case 7:if(!(_=Object(r.e)(d(),e)).manual){a.next=10;break}return a.abrupt("return");case 10:return l=_.idSector,a.abrupt("break",21);case 12:if(!(m=Object(r.i)(d(),e)).manual){a.next=15;break}return a.abrupt("return");case 15:return l=m.idSector,a.abrupt("break",21);case 17:return b=Object(r.e)(d(),e),l=b.idSector,a.abrupt("break",21);case 20:return a.abrupt("break",21);case 21:E=function(e,t){var o=Object(r.c)(d(),e);t.reduce((function(t,o){switch(o.tipo){case s.c:var a=Object(i.a)({idSector:l,x:o.x,y:o.y});if(Object(r.e)(d(),a).posicion===o.posicion){var n=Object(r.c)(d(),Object(i.b)(l,o.bloque));if(n.idTren&&!n.vecino)return c(Object(u.setBloqueOcupado)(e,n.idTren,!0))}return t;default:throw new Error("Dependencia de  ".concat(e," tiene tipo desconocido: ").concat(o.tipo))}}),o.vecino?c(Object(u.setBloqueOcupado)(e,!1,!1)):Promise.resolve(!1))},A=function(){return Object(r.a)(d(),l).reduce((function(t,a){var n=a.x,c=a.y,r=a.dir,u=a.tipo,d=a.deps,_=a.bloque,m=u===s.c?Object(i.b)(l,_):Object(i.a)({idSector:l,x:n,y:c,dir:r});if(!o&&m===e)return t;switch(u){case s.d:return t.then((function(e){return f(m,d)||e}));case s.x:return t.then((function(e){return p(m,d)||e}));case s.c:return t.then((function(e){return E(m,d)||e}));default:throw new Error("Celda ".concat(m," tiene automatizaci\xf3n desconocido ").concat(u))}}),Promise.resolve(!1))},O=9;case 24:if(a.t1=O,!a.t1){a.next=29;break}return a.next=28,A();case 28:a.t1=a.sent;case 29:if(!a.t1){a.next=33;break}O--,a.next=24;break;case 33:if(O){a.next=35;break}throw new Error("Automatizaci\xf3n en loop por ".concat(e));case 35:return a.abrupt("return",!!O);case 36:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}},80:function(e,t,o){e.exports={alarma:"styles_alarma__1_-OE",close:"styles_close__1Zwow"}},83:function(e,t){},9:function(e,t,o){"use strict";o.d(t,"f",(function(){return c})),o.d(t,"c",(function(){return r})),o.d(t,"d",(function(){return s})),o.d(t,"a",(function(){return u})),o.d(t,"b",(function(){return d})),o.d(t,"g",(function(){return l})),o.d(t,"e",(function(){return _}));var a=o(16),n=o(1);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClick,o=e.onLongPress,a=e.ms,c=void 0===a?300:a,i=Object(n.useRef)(!1),r=Object(n.useRef)({}),u=Object(n.useCallback)((function(){"function"===typeof o&&o(r.current),r.current={},i.current=!1}),[o]),d=Object(n.useCallback)((function(e){s(e)&&(e.persist(),r.current=e,i.current=setTimeout(u,c))}),[u,c]),l=Object(n.useCallback)((function(e){s(e)&&(e.persist(),r.current=e,i.current&&(clearTimeout(i.current),"function"===typeof t&&t(e),i.current=!1,r.current={}))}),[t]);return Object(n.useMemo)((function(){return{onMouseDown:d,onMouseUp:l,onMouseLeave:l,onTouchStart:d,onTouchEnd:l}}),[d,l])}var i=function(e){return e.stopPropagation()},r={onMouseDown:i,onMouseUp:i,onMouseLeave:i,onTouchStart:i,onTouchEnd:i},s=function(e){return!(e.button||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)&&(e.stopPropagation(),e.preventDefault(),!0)},u=function(e){var t=e.idSector,o=e.x,a=e.y,n=e.dir;return(n?[t,o,a,n].join("_"):[t,o,a].join("_")).replace(/\W/g,"_").replace(/(^\d)/,"_$1")},d=function(e,t){return"".concat(e,"__").concat(t).replace(/\W/g,"_").replace(/(^\d)/,"_$1")};function l(){var e=Object(n.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(a.a)(e,2),o=t[0],c=t[1];return Object(n.useEffect)((function(){var e=function(){return c({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),o}function _(e){return e.nombre||"[".concat(e.x,",").concat(e.y,"]")+(e.dir?"-".concat(e.dir):"")}}},[[110,1,2]]]);
//# sourceMappingURL=main.5cbaf1ad.chunk.js.map